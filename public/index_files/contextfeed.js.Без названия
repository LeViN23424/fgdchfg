(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{pr:()=>kp});const t=(e,{children:t,ref:n,...r}={})=>{const o=document.createElement(e),i=e=>{Array.isArray(e)?e.forEach(i):null!=e&&!0!==e&&!1!==e&&o.append(e)};return Object.entries(r).forEach((([e,t])=>{e in o?o[e]instanceof Object&&t instanceof Object?Object.assign(o[e],t):o[e]=t:o.setAttribute(e,t)})),i(t),n?.(o),o};var n=function(e,t,n,r,o){var i="https://".concat(e,"/cgi-bin/pixeltrack.pl?action=")+o;t&&(i+="&smartad_id=".concat(t)),n&&(i+="&context_id=".concat(n)),r&&(i+="&cf=".concat(encodeURIComponent(r))),navigator.sendBeacon(i)},r=function(e){Math.random()<.01&&e()};const o={notify:n,notify_context:function(e,t,o,i){r((function(){return n(e,null,t,o,i)}))},notify_smartad:function(e,t,o){r((function(){return n(e,t,null,null,o)}))}};var i;!function(e){e.NoTcData="tcf_blank",e.NoPermissions="tcf_no_permissions"}(i||(i={}));var a={CONTEXT_NOT_LOADED:"0",CONTEXT_LOADED:"1",LAZY_LOADING_ENABLED:"1",LAZY_LOADING_ROOT_MARGIN:"100",STICKY_AD:"1",PARTNER_TCF_STATUS:"2.0"};function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function p(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}var d,h={id:"data-dianomi-context-id",done:"data-dianomi-context-done",host:{attribute:"data-dianomi-context-hostname",default:"www.dianomi.com",allowedValues:["www.dianomi.com","dev.dianomi.com"]},endpoint:{attribute:"data-dianomi-context-endpoint",default:"context.pl",allowedValues:["context.pl","bidcore-context.pl"]},affiliate:"data-dianomi-context-affiliate",cfTest:"data-dianomi-cf-test",clickMacro:"data-dianomi-click-macro",consent:"data-dianomi-consent",darkmodeOverride:"data-dianomi-darkmode-override",pageDomain:"data-dianomi-page-domain",referrer:"data-referrer-url",topProductId:"data-dianomi-top-product-id",trafficSource:"data-dianomi-traffic-source"},y=(d=h,Object.keys(d).map((function(e){var t=d[e];return"string"==typeof t?t:t.attribute})));function v(e,t,n){t.mobileHeight&&n<480?e.style.height=t.mobileHeight:t.tabletHeight&&n<769&&n>=480?e.style.height=t.tabletHeight:t.height&&(e.style.height=t.height)}function b(e,t,n){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];arguments.length>3&&void 0!==arguments[3]&&arguments[3]&&!t.nativeUnit?n<480?(e.style.padding="0",e.style.width=t.mobileWidthSM||t.mobileWidth||"",e.style.margin="0 auto"):t.mobileWidth&&n<580?(e.style.padding="0",e.style.width=t.mobileWidth):t.tabletWidth&&n<769&&n>=580?(e.style.padding="0",e.style.width=t.tabletWidth):t.width&&(e.style.width=t.width):r?e.style.width="100%":t.mobileWidthSM&&n<480?e.style.width=t.mobileWidthSM||t.mobileWidth||"":t.mobileWidth&&n<580?e.style.width=t.mobileWidth:t.tabletWidth&&n<769&&n>=580?e.style.width=t.tabletWidth:t.width&&(e.style.width=t.width)}function g(e,t,n){t.mobileFloat&&n<480?e.style.cssFloat=t.mobileFloat:t.float&&(e.style.cssFloat=t.float)}function S(e){return e.parent?e.parent.innerWidth||e.parent.document.documentElement.clientWidth:window.innerWidth}function m(e){return e.parent?e.parent.innerHeight||e.parent.document.documentElement.clientHeight:window.innerHeight}function O(e,t){(e.parent||e).addEventListener("resize",(function(){t(),_(e,"resize")}),!1)}var E={collapse:"dianomi-parent-collapse",resize:"dianomi-parent-resize"};function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.parent&&(null==e||e.parent.postMessage({type:E[t],frameId:n},"*"))}function w(e,t){return e&&l(t.allowedValues).concat([t.default]).includes(e)?e:t.default}function T(e,t,n){return"dianomi-".concat(e.id,"-").concat(n.unique_id).concat(t)}function I(e,t){return e.some((function(e){return P(e,t)}))}function P(e,t){return t.type===e}function A(e,t){if(t){var n=!0,r=!1,o=void 0;try{for(var i,a=Object.entries(t)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=s(i.value,2),c=u[0],l=u[1];e.style[c]=l}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}}function N(e){return new URLSearchParams(l(Object.entries(e).filter((function(e){return null!=e[1]})))).toString()}function C(){try{return window.top||window.parent||window}catch(e){return window}}function R(){try{return C().location.href}catch(e){return window.location.href}}function D(e){var t={},n=!1;return e.forEach((function(e,r){var o,i,a;P("smartad",e)&&(((null==e||null===(i=e.args)||void 0===i?void 0:i.responsiveHeight)||"1"===(null==e||null===(a=e.args)||void 0===a?void 0:a.closeIfEmpty))&&(n=!0));if(P("recirc",e)&&(null==e||null===(o=e.args)||void 0===o?void 0:o.responsiveHeight)&&(n=!0),P("cfWaterfall",e))t["cfWaterfall-".concat(r)]=e;else if(I(["smartad","video"],e)){var u,c,s;if((null==e||null===(u=e.args)||void 0===u?void 0:u.nativeUnit)&&t["native-".concat(null==e||null===(c=e.args)||void 0===c?void 0:c.nativeUnit)]){var l=t["native-".concat(e.args.nativeUnit)];P("native",l)&&l.units.push(e)}else(null==e||null===(s=e.args)||void 0===s?void 0:s.nativeUnit)?t["native-".concat(e.args.nativeUnit)]={type:"native",units:[e]}:t["smartad-".concat(e.args.id,"-").concat(r)]=e}else P("passback",e)?t["passback-".concat(r)]=e:t["other-".concat(r)]=e})),{responsiveHeight:n,units:t}}function k(e){return"1"===e||1===e||!0===e||"true"===e||"string"==typeof e&&"true"===e.toLowerCase()}function j(e){var t;try{t="string"==typeof e.data?JSON.parse(e.data):e.data}catch(n){t=e.data}return t}function V(e,t,n){var r=j(e);r[n]&&t.postMessage(r)}function L(e,t){return M.apply(this,arguments)}function M(){var e;return e=function(e,t){var n,r,o,i,a,u,c,s,l=arguments;return p(this,(function(f){switch(f.label){case 0:n=l.length>2&&void 0!==l[2]?l[2]:"",(r=new FormData).append("postCall","true"),(o=e.getAttribute("data-eids")||n)&&r.append("eids",o),f.label=1;case 1:return f.trys.push([1,4,,5]),[4,fetch(t,{credentials:"include",method:"POST",body:r})];case 2:return[4,f.sent().text()];case 3:return a=f.sent(),u=!1,c=function(){var t,n;u||(u=!0,t=a,null==(n=e.contentDocument)||n.open().write(t),null==n||n.close())},"complete"!==(null===(i=e.contentDocument)||void 0===i?void 0:i.readyState)?e.onload=function(){c()}:c(),e.classList.add("loaded"),[3,5];case 4:return s=f.sent(),console.log("Unable to retrieve Smartad",s),e.setAttribute("src",t),[3,5];case 5:return[2]}}))},M=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,u,"next",e)}function u(e){c(i,r,o,a,u,"throw",e)}a(void 0)}))},M.apply(this,arguments)}function U(e){var t="".concat(e.partner_id,".").concat(e.cfid);return e.name&&(t="".concat(t,".").concat(e.name)),t}function x(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=Object.entries(t)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=s(i.value,2),c=u[0],l=u[1];e.style[c]=l}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}function G(e){var t=document.createElement("iframe");t.classList.add("passback-container"),t.srcdoc='<body style="overflow: hidden;">'.concat(e.args.passbackTag,"</body>"),t.style.border="none",t.width="100%",t.onload=function(){var e;t.style.height="".concat(null===(e=t.contentDocument)||void 0===e?void 0:e.body.clientHeight,"px")};var n=0,r=setInterval((function(){var e;n++,t.style.height="".concat(null===(e=t.contentDocument)||void 0===e?void 0:e.body.clientHeight,"px"),n>10&&clearInterval(r)}),500);return t}function F(e,t,n){try{if(!t)return null;var r=e,o=0;for(var i in t){var a=Number(i);n>=a&&a>o&&(o=a,r=t[i])}return Number(r)}catch(e){return null}}function B(e,t){var n=F(e.numAds,e.numAdsRes,t.width),r=F(e.numAds,e.numAdsHeightRes,t.height);if(n&&r)return Math.max(Number(n),Number(r));var o,i=isNaN(Number(e.numAds))?null:Number(e.numAds);return null!==(o=null!=n?n:r)&&void 0!==o?o:i}function H(e,t,n,r){var o,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=e.frameDocument,u=a.createElement("div");u.classList.add("dianomi-sticky-div"),u.style.position="fixed",u.style.bottom=null!==(o=n.stickyOffsetBottom)&&void 0!==o?o:"0",u.style.left="0",u.style.width="100%",u.style.zIndex="9999999999",n.stickyStyling&&x(u,n.stickyStyling);var c=function(e){var t=e.frameDocument,n=e.dianomiContextHost,r=e.id,o=e.adChoices,i=void 0!==o&&o,a=e.styling,u=t.createElement("div");u.style.position="absolute",u.style.right="16px",u.style.bottom="0",u.style.height="auto",a&&x(u,a);var c=t.createElement("a");c.href="https://".concat(n,"/whatsthis.pl?id=").concat(r),c.target="_blank",c.rel="nofollow";var s=t.createElement("img");if(s.style.height="auto",s.style.width="30px",s.src="https://".concat(n,"/img/dianomi/dianomi-ad-tag-Grey.png"),c.append(s),u.append(c),i){var l=t.createElement("a");l.href="https://".concat(n,"/legal/privacy.epl"),l.target="_blank",l.style.marginLeft="5px";var f=t.createElement("img");f.src="https://".concat(n,"/img/YAC_Icon.png"),f.alt="ad choices logo",f.style.height="12px",f.style.width="12px",l.append(f),u.append(l)}return u}({frameDocument:a,dianomiContextHost:t,id:r,adChoices:i,styling:n.stickyWhatsThisStyling});u.appendChild(c);var s=function(e){var t=e.winDoc,n=e.parentContainer,r=e.host,o=e.id,i=e.styling,a=t.frameDocument,u=t.frameWindow,c=a.createElement("div");c.style.position="absolute",c.style.right="12px",c.style.top="-12px",c.style.width="30px",c.style.height="auto",c.style.cursor="pointer",i&&x(c,i);var s=a.createElement("img");return s.id="sticky-dianomi-close",s.loading="eager",s.style.height="auto",s.style.width="100%",s.src="https://".concat(r,"/img/dianomi/dianomi-ad-tag-X2.png"),s.onclick=function(){var e;try{e=encodeURIComponent(u.location.href)}catch(t){e=encodeURIComponent(window.location.href)}var t="https://".concat(r,"/cgi-bin/pixeltrack.pl?action=close&id=").concat(o,"&href=").concat(e),i=new XMLHttpRequest;i.open("GET",t,!0),i.send(),n.remove()},c.append(s),c}({winDoc:e,parentContainer:u,host:t,id:r,styling:n.stickyCloseButtonStyling});return u.appendChild(s),u}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Y(e,t,n,r){var o=e;o.style.maxWidth="100%",o.style.minHeight="1px",t.scrolling&&(o.style.overflow=t.scrolling),t.minWidth&&(o.style.minWidth=t.minWidth),t.margin&&(o.style.margin=t.margin),t.maxWidth&&(o.style.maxWidth=t.maxWidth),o.style.border="none",k(t.sticky)||(o.style.overflow="hidden"),k(t.responsiveHeight)&&o.setAttribute("data-responsive-height","1");var i=S(r);return b(o,t,i,!1,n),g(o,t,i),v(o,t,i),o}function K(e){var t=e.dianomiContextHost,n=e.data,r=e.tcfPermissions,o=e.server_can_serve_ads,i=e.server_can_cookie,a=e.params,u=z(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){W(e,t,n[t])}))}return e}({},a),{id:void 0}),c="https://".concat(t,"/smartads.epl?id=").concat(a.id,"&").concat(N(u));return("2.0"==n.partner_tcf_status||n["dianomi-tcf"])&&(r?(c+="&gdpr_consent=".concat(r.gdpr_consent()),c+="&gdpr=".concat(r.gdpr()),c+="&canServeAds=".concat(r.can_serve_ads(),"&canCookie=").concat(r.can_cookie())):c+="&canServeAds=".concat(o,"&canCookie=").concat(i)),n.partner_tcf_status&&(c+="&partner_tcf_status=".concat(n.partner_tcf_status,"&partnerTcfStatus=").concat(n.partner_tcf_status)),c}function Q(e,t,n){return Q=Z()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&X(o,n.prototype),o},Q.apply(null,arguments)}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}function J(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}function X(e,t){return X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},X(e,t)}function $(e){var t="function"==typeof Map?new Map:void 0;return $=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Q(e,arguments,q(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),X(r,e)},$(e)}function Z(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(o,e);var t,n,r=(t=o,n=Z(),function(){var e,r=q(t);if(n){var o=q(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return J(this,e)});function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).name="DecodingError",t}return o}($(Error));function te(e,t,n){return te=ae()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&oe(o,n.prototype),o},te.apply(null,arguments)}function ne(e){return ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ne(e)}function re(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}function oe(e,t){return oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},oe(e,t)}function ie(e){var t="function"==typeof Map?new Map:void 0;return ie=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return te(e,arguments,ne(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),oe(r,e)},ie(e)}function ae(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(o,e);var t,n,r=(t=o,n=ae(),function(){var e,r=ne(t);if(n){var o=ne(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return re(this,e)});function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).name="EncodingError",t}return o}(ie(Error));function ce(e,t,n){return ce=de()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&fe(o,n.prototype),o},ce.apply(null,arguments)}function se(e){return se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},se(e)}function le(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}function fe(e,t){return fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},fe(e,t)}function pe(e){var t="function"==typeof Map?new Map:void 0;return pe=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return ce(e,arguments,se(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),fe(r,e)},pe(e)}function de(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var he=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(o,e);var t,n,r=(t=o,n=de(),function(){var e,r=se(t);if(n){var o=se(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return le(this,e)});function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).name="GVLError",t}return o}(pe(Error));function ye(e,t,n){return ye=me()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&ge(o,n.prototype),o},ye.apply(null,arguments)}function ve(e){return ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ve(e)}function be(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}function ge(e,t){return ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ge(e,t)}function Se(e){var t="function"==typeof Map?new Map:void 0;return Se=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return ye(e,arguments,ve(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ge(r,e)},Se(e)}function me(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(o,e);var t,n,r=(t=o,n=me(),function(){var e,r=ve(t);if(n){var o=ve(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return be(this,e)});function o(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,"invalid value ".concat(t," passed for ").concat(e," ").concat(i))).name="TCModelError",n}return o}(Se(Error));function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var we=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"encode",value:function(e){if(!/^[0-1]+$/.test(e))throw new ue("Invalid bitField");var t=e.length%this.LCM;e+=t?"0".repeat(this.LCM-t):"";for(var n="",r=0;r<e.length;r+=this.BASIS)n+=this.DICT[parseInt(e.substr(r,this.BASIS),2)];return n}},{key:"decode",value:function(e){if(!/^[A-Za-z0-9\-_]+$/.test(e))throw new ee("Invalidly encoded Base64URL string");for(var t="",n=0;n<e.length;n++){var r=this.REVERSE_DICT.get(e[n]).toString(2);t+="0".repeat(this.BASIS-r.length)+r}return t}}],(n=null)&&Ee(t.prototype,n),r&&Ee(t,r),e}();function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}_e(we,"DICT","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),_e(we,"REVERSE_DICT",new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]])),_e(we,"BASIS",6),_e(we,"LCM",24);var Ie,Pe,Ae,Ne=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"has",value:function(t){return e.langSet.has(t)}},{key:"parseLanguage",value:function(t){var n=(t=t.toUpperCase()).split("-")[0];if(t.length>=2&&2==n.length){if(e.langSet.has(t))return t;if(e.langSet.has(n))return n;var r=n+"-"+n;if(e.langSet.has(r))return r;var o=!0,i=!1,a=void 0;try{for(var u,c=e.langSet[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var s=u.value;if(-1!==s.indexOf(t)||-1!==s.indexOf(n))return s}}catch(e){i=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}}throw new Error("unsupported language ".concat(t))}},{key:"forEach",value:function(t){e.langSet.forEach(t)}},{key:"size",get:function(){return e.langSet.size}}])&&Te(t.prototype,n),r&&Te(t,r),e}();function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ie=Ne,Pe="langSet",Ae=new Set(["AR","BG","BS","CA","CS","CY","DA","DE","EL","EN","ES","ET","EU","FI","FR","GL","HE","HI","HR","HU","ID","IT","JA","KA","KO","LT","LV","MK","MS","MT","NL","NO","PL","PT-BR","PT-PT","RO","RU","SK","SL","SQ","SR-LATN","SR-CYRL","SV","SW","TH","TL","TR","UK","VI","ZH","ZH-HANT"]),Pe in Ie?Object.defineProperty(Ie,Pe,{value:Ae,enumerable:!0,configurable:!0,writable:!0}):Ie[Pe]=Ae;var Re=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ke(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}Ce(Re,"cmpId","cmpId"),Ce(Re,"cmpVersion","cmpVersion"),Ce(Re,"consentLanguage","consentLanguage"),Ce(Re,"consentScreen","consentScreen"),Ce(Re,"created","created"),Ce(Re,"supportOOB","supportOOB"),Ce(Re,"isServiceSpecific","isServiceSpecific"),Ce(Re,"lastUpdated","lastUpdated"),Ce(Re,"numCustomPurposes","numCustomPurposes"),Ce(Re,"policyVersion","policyVersion"),Ce(Re,"publisherCountryCode","publisherCountryCode"),Ce(Re,"publisherCustomConsents","publisherCustomConsents"),Ce(Re,"publisherCustomLegitimateInterests","publisherCustomLegitimateInterests"),Ce(Re,"publisherLegitimateInterests","publisherLegitimateInterests"),Ce(Re,"publisherConsents","publisherConsents"),Ce(Re,"publisherRestrictions","publisherRestrictions"),Ce(Re,"purposeConsents","purposeConsents"),Ce(Re,"purposeLegitimateInterests","purposeLegitimateInterests"),Ce(Re,"purposeOneTreatment","purposeOneTreatment"),Ce(Re,"specialFeatureOptins","specialFeatureOptins"),Ce(Re,"useNonStandardTexts","useNonStandardTexts"),Ce(Re,"vendorConsents","vendorConsents"),Ce(Re,"vendorLegitimateInterests","vendorLegitimateInterests"),Ce(Re,"vendorListVersion","vendorListVersion"),Ce(Re,"vendorsAllowed","vendorsAllowed"),Ce(Re,"vendorsDisclosed","vendorsDisclosed"),Ce(Re,"version","version");var je,Ve=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=[{key:"clone",value:function(){var e=this,t=new this.constructor;return Object.keys(this).forEach((function(n){var r=e.deepClone(e[n]);void 0!==r&&(t[n]=r)})),t}},{key:"deepClone",value:function(e){var t=void 0===e?"undefined":function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(e);if("number"===t||"string"===t||"boolean"===t)return e;if(null!==e&&"object"===t){if("function"==typeof e.clone)return e.clone();if(ke(e,Date))return new Date(e.getTime());if(void 0!==e[Symbol.iterator]){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value;n.push(this.deepClone(c))}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return ke(e,Array)?n:new e.constructor(n)}var s={};for(var l in e)e.hasOwnProperty(l)&&(s[l]=this.deepClone(e[l]));return s}}}],n&&De(t.prototype,n),r&&De(t,r),e}();function Le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xe(e){return xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xe(e)}function Ge(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?Le(e):t}function Fe(e,t){return Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Fe(e,t)}function Be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xe(e);if(t){var o=xe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ge(this,n)}}!function(e){e[e.NOT_ALLOWED=0]="NOT_ALLOWED",e[e.REQUIRE_CONSENT=1]="REQUIRE_CONSENT",e[e.REQUIRE_LI=2]="REQUIRE_LI"}(je||(je={}));var He=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(i,e);var t,n,r,o=Be(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Ue(Le(n=o.call(this)),"purposeId_",void 0),Ue(Le(n),"restrictionType",void 0),void 0!==e&&(n.purposeId=e),void 0!==t&&(n.restrictionType=t),n}return t=i,r=[{key:"unHash",value:function(e){var t=e.split(this.hashSeparator),n=new i;if(2!==t.length)throw new Oe("hash",e);return n.purposeId=parseInt(t[0],10),n.restrictionType=parseInt(t[1],10),n}}],(n=[{key:"hash",get:function(){if(!this.isValid())throw new Error("cannot hash invalid PurposeRestriction");return"".concat(this.purposeId).concat(i.hashSeparator).concat(this.restrictionType)}},{key:"purposeId",get:function(){return this.purposeId_},set:function(e){this.purposeId_=e}},{key:"isValid",value:function(){return Number.isInteger(this.purposeId)&&this.purposeId>0&&(this.restrictionType===je.NOT_ALLOWED||this.restrictionType===je.REQUIRE_CONSENT||this.restrictionType===je.REQUIRE_LI)}},{key:"isSameAs",value:function(e){return this.purposeId===e.purposeId&&this.restrictionType===e.restrictionType}}])&&Me(t.prototype,n),r&&Me(t,r),i}(Ve);function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qe(e){return Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qe(e)}function qe(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?ze(e):t}function Je(e,t){return Je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Je(e,t)}function Xe(e){return function(e){if(Array.isArray(e))return We(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return We(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qe(e);if(t){var o=Qe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qe(this,n)}}Ue(He,"hashSeparator","-");var Ze,et,tt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Je(e,t)}(i,e);var t,n,r,o=$e(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Ke(ze(e=o.apply(this,arguments)),"bitLength",0),Ke(ze(e),"map",new Map),Ke(ze(e),"gvl_",void 0),e}return t=i,n=[{key:"has",value:function(e){return this.map.has(e)}},{key:"isOkToHave",value:function(e,t,n){var r,o=!0;if(null===(r=this.gvl)||void 0===r?void 0:r.vendors){var i=this.gvl.vendors[n];if(i)if(e===je.NOT_ALLOWED)o=i.legIntPurposes.includes(t)||i.purposes.includes(t);else if(i.flexiblePurposes.length)switch(e){case je.REQUIRE_CONSENT:o=i.flexiblePurposes.includes(t)&&i.legIntPurposes.includes(t);break;case je.REQUIRE_LI:o=i.flexiblePurposes.includes(t)&&i.purposes.includes(t)}else o=!1;else o=!1}return o}},{key:"add",value:function(e,t){if(this.isOkToHave(t.restrictionType,t.purposeId,e)){var n=t.hash;this.has(n)||(this.map.set(n,new Set),this.bitLength=0),this.map.get(n).add(e)}}},{key:"restrictPurposeToLegalBasis",value:function(e){var t=Array.from(this.gvl.vendorIds),n=e.hash,r=t[t.length-1],o=Xe(Array(r).keys()).map((function(e){return e+1}));if(this.has(n))for(var i=1;i<=r;i++)this.map.get(n).add(i);else this.map.set(n,new Set(o)),this.bitLength=0}},{key:"getVendors",value:function(e){var t=[];if(e){var n=e.hash;this.has(n)&&(t=Array.from(this.map.get(n)))}else{var r=new Set;this.map.forEach((function(e){e.forEach((function(e){r.add(e)}))})),t=Array.from(r)}return t.sort((function(e,t){return e-t}))}},{key:"getRestrictionType",value:function(e,t){var n;return this.getRestrictions(e).forEach((function(e){e.purposeId===t&&(void 0===n||n>e.restrictionType)&&(n=e.restrictionType)})),n}},{key:"vendorHasRestriction",value:function(e,t){for(var n=!1,r=this.getRestrictions(e),o=0;o<r.length&&!n;o++)n=t.isSameAs(r[o]);return n}},{key:"getMaxVendorId",value:function(){var e=0;return this.map.forEach((function(t){e=Math.max(Array.from(t)[t.size-1],e)})),e}},{key:"getRestrictions",value:function(e){var t=[];return this.map.forEach((function(n,r){e?n.has(e)&&t.push(He.unHash(r)):t.push(He.unHash(r))})),t}},{key:"getPurposes",value:function(){var e=new Set;return this.map.forEach((function(t,n){e.add(He.unHash(n).purposeId)})),Array.from(e)}},{key:"remove",value:function(e,t){var n=t.hash,r=this.map.get(n);r&&(r.delete(e),0==r.size&&(this.map.delete(n),this.bitLength=0))}},{key:"gvl",get:function(){return this.gvl_},set:function(e){var t=this;this.gvl_||(this.gvl_=e,this.map.forEach((function(e,n){var r=He.unHash(n);Array.from(e).forEach((function(n){t.isOkToHave(r.restrictionType,r.purposeId,n)||e.delete(n)}))})))}},{key:"isEmpty",value:function(){return 0===this.map.size}},{key:"numRestrictions",get:function(){return this.map.size}}],n&&Ye(t.prototype,n),r&&Ye(t,r),i}(Ve);function nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.COOKIE="cookie",e.WEB="web",e.APP="app"}(Ze||(Ze={})),function(e){e.CORE="core",e.VENDORS_DISCLOSED="vendorsDisclosed",e.VENDORS_ALLOWED="vendorsAllowed",e.PUBLISHER_TC="publisherTC"}(et||(et={}));var rt,ot=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};function it(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function at(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ct(e){return ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ct(e)}function st(e,t){return st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},st(e,t)}function lt(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=ct(e);if(t){var a=ct(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==lt(o)&&"function"!=typeof o?it(r):o}}function pt(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}nt(ot,"ID_TO_KEY",[et.CORE,et.VENDORS_DISCLOSED,et.VENDORS_ALLOWED,et.PUBLISHER_TC]),nt(ot,"KEY_TO_ID",(nt(rt={},et.CORE,0),nt(rt,et.VENDORS_DISCLOSED,1),nt(rt,et.VENDORS_ALLOWED,2),nt(rt,et.PUBLISHER_TC,3),rt));var dt=Symbol.iterator,ht=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&st(e,t)}(i,e);var t,n,r,o=ft(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),ut(it(e=o.apply(this,arguments)),"bitLength",0),ut(it(e),"maxId_",0),ut(it(e),"set_",new Set),e}return t=i,n=[{key:dt,value:function(){var e;return pt(this,(function(t){switch(t.label){case 0:e=1,t.label=1;case 1:return e<=this.maxId?[4,[e,this.has(e)]]:[3,4];case 2:t.sent(),t.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}},{key:"values",value:function(){return this.set_.values()}},{key:"maxId",get:function(){return this.maxId_}},{key:"has",value:function(e){return this.set_.has(e)}},{key:"unset",value:function(e){var t=this;Array.isArray(e)?e.forEach((function(e){return t.unset(e)})):"object"===(void 0===e?"undefined":lt(e))?this.unset(Object.keys(e).map((function(e){return Number(e)}))):(this.set_.delete(Number(e)),this.bitLength=0,e===this.maxId&&(this.maxId_=0,this.set_.forEach((function(e){t.maxId_=Math.max(t.maxId,e)}))))}},{key:"isIntMap",value:function(e){var t=this,n="object"===(void 0===e?"undefined":lt(e));return n=n&&Object.keys(e).every((function(n){var r=Number.isInteger(parseInt(n,10));return r=(r=r&&t.isValidNumber(e[n].id))&&void 0!==e[n].name})),n}},{key:"isValidNumber",value:function(e){return parseInt(e,10)>0}},{key:"isSet",value:function(e){var t,n,r=!1;return t=e,(null!=(n=Set)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](t):t instanceof n)&&(r=Array.from(e).every(this.isValidNumber)),r}},{key:"set",value:function(e){var t=this;if(Array.isArray(e))e.forEach((function(e){return t.set(e)}));else if(this.isSet(e))this.set(Array.from(e));else if(this.isIntMap(e))this.set(Object.keys(e).map((function(e){return Number(e)})));else{if(!this.isValidNumber(e))throw new Oe("set()",e,"must be positive integer array, positive integer, Set<number>, or IntMap");this.set_.add(e),this.maxId_=Math.max(this.maxId,e),this.bitLength=0}}},{key:"empty",value:function(){this.set_=new Set}},{key:"forEach",value:function(e){for(var t=1;t<=this.maxId;t++)e(this.has(t),t)}},{key:"size",get:function(){return this.set_.size}},{key:"setAll",value:function(e){this.set(e)}}],n&&at(t.prototype,n),r&&at(t,r),i}(Ve);function yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vt=Re.cmpVersion,bt=Re.consentLanguage,gt=Re.consentScreen,St=Re.created,mt=Re.isServiceSpecific,Ot=Re.lastUpdated,Et=Re.policyVersion,_t=Re.publisherCountryCode,wt=Re.publisherLegitimateInterests,Tt=Re.publisherConsents,It=Re.purposeConsents,Pt=Re.purposeLegitimateInterests,At=Re.purposeOneTreatment,Nt=Re.specialFeatureOptins,Ct=Re.useNonStandardTexts,Rt=Re.vendorListVersion,Dt=Re.version,kt=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};function jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}yt(kt,Re.cmpId,12),yt(kt,vt,12),yt(kt,bt,12),yt(kt,gt,6),yt(kt,St,36),yt(kt,mt,1),yt(kt,Ot,36),yt(kt,Et,6),yt(kt,_t,12),yt(kt,wt,24),yt(kt,Tt,24),yt(kt,It,24),yt(kt,Pt,24),yt(kt,At,1),yt(kt,Nt,12),yt(kt,Ct,1),yt(kt,Rt,12),yt(kt,Dt,6),yt(kt,"anyBoolean",1),yt(kt,"encodingType",1),yt(kt,"maxId",16),yt(kt,"numCustomPurposes",6),yt(kt,"numEntries",12),yt(kt,"numRestrictions",12),yt(kt,"purposeId",6),yt(kt,"restrictionType",2),yt(kt,"segmentType",3),yt(kt,"singleOrRange",1),yt(kt,"vendorId",16);var Vt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"encode",value:function(e,t){var n;if("string"==typeof e&&(e=parseInt(e,10)),(n=e.toString(2)).length>t||e<0)throw new ue("".concat(e," too large to encode into ").concat(t));return n.length<t&&(n="0".repeat(t-n.length)+n),n}},{key:"decode",value:function(e,t){if(t!==e.length)throw new ee("invalid bit length");return parseInt(e,2)}}],(n=null)&&jt(t.prototype,n),r&&jt(t,r),e}();function Lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Mt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"encode",value:function(e,t){return Vt.encode(Math.round(e.getTime()/100),t)}},{key:"decode",value:function(e,t){if(t!==e.length)throw new ee("invalid bit length");var n=new Date;return n.setTime(100*Vt.decode(e,t)),n}}],(n=null)&&Lt(t.prototype,n),r&&Lt(t,r),e}();function Ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var xt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"encode",value:function(e){return String(Number(e))}},{key:"decode",value:function(e){return"1"===e}}],(n=null)&&Ut(t.prototype,n),r&&Ut(t,r),e}();function Gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ft=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"encode",value:function(e,t){for(var n="",r=1;r<=t;r++)n+=xt.encode(e.has(r));return n}},{key:"decode",value:function(e,t){if(e.length!==t)throw new ee("bitfield encoding length mismatch");for(var n=new ht,r=1;r<=t;r++)xt.decode(e[r-1])&&n.set(r);return n.bitLength=e.length,n}}],(n=null)&&Gt(t.prototype,n),r&&Gt(t,r),e}();function Bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ht=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"encode",value:function(e,t){var n=(e=e.toUpperCase()).charCodeAt(0)-65,r=e.charCodeAt(1)-65;if(n<0||n>25||r<0||r>25)throw new ue("invalid language code: ".concat(e));if(t%2==1)throw new ue("numBits must be even, ".concat(t," is not valid"));return t/=2,Vt.encode(n,t)+Vt.encode(r,t)}},{key:"decode",value:function(e,t){if(t!==e.length||e.length%2)throw new ee("invalid bit length for language");var n=e.length/2,r=Vt.decode(e.slice(0,n),n)+65,o=Vt.decode(e.slice(n),n)+65;return String.fromCharCode(r)+String.fromCharCode(o)}}],(n=null)&&Bt(t.prototype,n),r&&Bt(t,r),e}();function Wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var zt,Yt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"encode",value:function(e){var t=Vt.encode(e.numRestrictions,kt.numRestrictions);if(!e.isEmpty()){var n=function(t,n){for(var r=t+1;r<=n;r++)if(e.gvl.vendorIds.has(r))return r;return t};e.getRestrictions().forEach((function(r){t+=Vt.encode(r.purposeId,kt.purposeId),t+=Vt.encode(r.restrictionType,kt.restrictionType);for(var o=e.getVendors(r),i=o.length,a=0,u=0,c="",s=0;s<i;s++){var l=o[s];if(0===u&&(a++,u=l),s===i-1||o[s+1]>n(l,o[i-1])){var f=!(l===u);c+=xt.encode(f),c+=Vt.encode(u,kt.vendorId),f&&(c+=Vt.encode(l,kt.vendorId)),u=0}}t+=Vt.encode(a,kt.numEntries),t+=c}))}return t}},{key:"decode",value:function(e){var t=0,n=new tt,r=Vt.decode(e.substr(t,kt.numRestrictions),kt.numRestrictions);t+=kt.numRestrictions;for(var o=0;o<r;o++){var i=Vt.decode(e.substr(t,kt.purposeId),kt.purposeId);t+=kt.purposeId;var a=Vt.decode(e.substr(t,kt.restrictionType),kt.restrictionType);t+=kt.restrictionType;var u=new He(i,a),c=Vt.decode(e.substr(t,kt.numEntries),kt.numEntries);t+=kt.numEntries;for(var s=0;s<c;s++){var l=xt.decode(e.substr(t,kt.anyBoolean));t+=kt.anyBoolean;var f=Vt.decode(e.substr(t,kt.vendorId),kt.vendorId);if(t+=kt.vendorId,l){var p=Vt.decode(e.substr(t,kt.vendorId),kt.vendorId);if(t+=kt.vendorId,p<f)throw new ee("Invalid RangeEntry: endVendorId ".concat(p," is less than ").concat(f));for(var d=f;d<=p;d++)n.add(d,u)}else n.add(f,u)}}return n.bitLength=t,n}}],(n=null)&&Wt(t.prototype,n),r&&Wt(t,r),e}();function Kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(e){e[e.FIELD=0]="FIELD",e[e.RANGE=1]="RANGE"}(zt||(zt={}));var Qt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"encode",value:function(e){var t,n=[],r=[],o=Vt.encode(e.maxId,kt.maxId),i="",a=kt.maxId+kt.encodingType,u=a+e.maxId,c=2*kt.vendorId+kt.singleOrRange+kt.numEntries,s=a+kt.numEntries;return e.forEach((function(o,a){i+=xt.encode(o),(t=e.maxId>c&&s<u)&&o&&(e.has(a+1)?0===r.length&&(r.push(a),s+=kt.singleOrRange,s+=kt.vendorId):(r.push(a),s+=kt.vendorId,n.push(r),r=[]))})),t?(o+=String(zt.RANGE),o+=this.buildRangeEncoding(n)):(o+=String(zt.FIELD),o+=i),o}},{key:"decode",value:function(e,t){var n,r=0,o=Vt.decode(e.substr(r,kt.maxId),kt.maxId);r+=kt.maxId;var i=Vt.decode(e.charAt(r),kt.encodingType);if(r+=kt.encodingType,i===zt.RANGE){if(n=new ht,1===t){if("1"===e.substr(r,1))throw new ee("Unable to decode default consent=1");r++}var a=Vt.decode(e.substr(r,kt.numEntries),kt.numEntries);r+=kt.numEntries;for(var u=0;u<a;u++){var c=xt.decode(e.charAt(r));r+=kt.singleOrRange;var s=Vt.decode(e.substr(r,kt.vendorId),kt.vendorId);if(r+=kt.vendorId,c){var l=Vt.decode(e.substr(r,kt.vendorId),kt.vendorId);r+=kt.vendorId;for(var f=s;f<=l;f++)n.set(f)}else n.set(s)}}else{var p=e.substr(r,o);r+=o,n=Ft.decode(p,o)}return n.bitLength=r,n}},{key:"buildRangeEncoding",value:function(e){var t=e.length,n=Vt.encode(t,kt.numEntries);return e.forEach((function(e){var t=1===e.length;n+=xt.encode(!t),n+=Vt.encode(e[0],kt.vendorId),t||(n+=Vt.encode(e[1],kt.vendorId))})),n}}],(n=null)&&Kt(t.prototype,n),r&&Kt(t,r),e}();function qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jt(){var e;return qt(e={},Re.version,Vt),qt(e,Re.created,Mt),qt(e,Re.lastUpdated,Mt),qt(e,Re.cmpId,Vt),qt(e,Re.cmpVersion,Vt),qt(e,Re.consentScreen,Vt),qt(e,Re.consentLanguage,Ht),qt(e,Re.vendorListVersion,Vt),qt(e,Re.policyVersion,Vt),qt(e,Re.isServiceSpecific,xt),qt(e,Re.useNonStandardTexts,xt),qt(e,Re.specialFeatureOptins,Ft),qt(e,Re.purposeConsents,Ft),qt(e,Re.purposeLegitimateInterests,Ft),qt(e,Re.purposeOneTreatment,xt),qt(e,Re.publisherCountryCode,Ht),qt(e,Re.vendorConsents,Qt),qt(e,Re.vendorLegitimateInterests,Qt),qt(e,Re.publisherRestrictions,Yt),qt(e,"segmentType",Vt),qt(e,Re.vendorsDisclosed,Qt),qt(e,Re.vendorsAllowed,Qt),qt(e,Re.publisherConsents,Ft),qt(e,Re.publisherLegitimateInterests,Ft),qt(e,Re.numCustomPurposes,Vt),qt(e,Re.publisherCustomConsents,Ft),qt(e,Re.publisherCustomLegitimateInterests,Ft),e}function Xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zt=function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),$t(this,"1",[et.CORE]),$t(this,"2",[et.CORE]),2===t.version)if(t.isServiceSpecific)this[2].push(et.PUBLISHER_TC);else{var r=!(!n||!n.isForVendors);r&&!0!==t[Re.supportOOB]||this[2].push(et.VENDORS_DISCLOSED),r&&(t[Re.supportOOB]&&t[Re.vendorsAllowed].size>0&&this[2].push(et.VENDORS_ALLOWED),this[2].push(et.PUBLISHER_TC))}};function en(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var tn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"encode",value:function(e,t){var n,r=this;try{n=this.fieldSequence[String(e.version)][t]}catch(n){throw new ue("Unable to encode version: ".concat(e.version,", segment: ").concat(t))}var o="";t!==et.CORE&&(o=Vt.encode(ot.KEY_TO_ID[t],kt.segmentType));var i=Jt();return n.forEach((function(n){var a=e[n],u=i[n],c=kt[n];void 0===c&&r.isPublisherCustom(n)&&(c=Number(e[Re.numCustomPurposes]));try{o+=u.encode(a,c)}catch(e){throw new ue("Error encoding ".concat(t,"->").concat(n,": ").concat(e.message))}})),we.encode(o)}},{key:"decode",value:function(e,t,n){var r=this,o=we.decode(e),i=0;n===et.CORE&&(t.version=Vt.decode(o.substr(i,kt[Re.version]),kt[Re.version])),n!==et.CORE&&(i+=kt.segmentType);var a=this.fieldSequence[String(t.version)][n],u=Jt();return a.forEach((function(e){var n=u[e],a=kt[e];if(void 0===a&&r.isPublisherCustom(e)&&(a=Number(t[Re.numCustomPurposes])),0!==a){var c=o.substr(i,a);if(t[e]=n===Qt?n.decode(c,t.version):n.decode(c,a),Number.isInteger(a))i+=a;else{if(!Number.isInteger(t[e].bitLength))throw new ee(e);i+=t[e].bitLength}}})),t}},{key:"isPublisherCustom",value:function(e){return 0===e.indexOf("publisherCustom")}}],(n=null)&&en(t.prototype,n),r&&en(t,r),e}();function nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(tn,"fieldSequence",new function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Xt(this,"1",Xt({},et.CORE,[Re.version,Re.created,Re.lastUpdated,Re.cmpId,Re.cmpVersion,Re.consentScreen,Re.consentLanguage,Re.vendorListVersion,Re.purposeConsents,Re.vendorConsents])),Xt(this,"2",(Xt(t={},et.CORE,[Re.version,Re.created,Re.lastUpdated,Re.cmpId,Re.cmpVersion,Re.consentScreen,Re.consentLanguage,Re.vendorListVersion,Re.policyVersion,Re.isServiceSpecific,Re.useNonStandardTexts,Re.specialFeatureOptins,Re.purposeConsents,Re.purposeLegitimateInterests,Re.purposeOneTreatment,Re.publisherCountryCode,Re.vendorConsents,Re.vendorLegitimateInterests,Re.publisherRestrictions]),Xt(t,et.PUBLISHER_TC,[Re.publisherConsents,Re.publisherLegitimateInterests,Re.numCustomPurposes,Re.publisherCustomConsents,Re.publisherCustomLegitimateInterests]),Xt(t,et.VENDORS_ALLOWED,[Re.vendorsAllowed]),Xt(t,et.VENDORS_DISCLOSED,[Re.vendorsDisclosed]),t))});var rn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"process",value:function(e,t){var n=e.gvl;if(!n)throw new ue("Unable to encode TCModel without a GVL");if(!n.isReady)throw new ue("Unable to encode TCModel tcModel.gvl.readyPromise is not resolved");(e=e.clone()).consentLanguage=n.language.slice(0,2).toUpperCase(),(null==t?void 0:t.version)>0&&(null==t?void 0:t.version)<=this.processor.length?e.version=t.version:e.version=this.processor.length;var r=e.version-1;if(!this.processor[r])throw new ue("Invalid version: ".concat(e.version));return this.processor[r](e,n)}}],(n=null)&&nn(t.prototype,n),r&&nn(t,r),e}();function on(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(rn,"processor",[function(e){return e},function(e,t){e.publisherRestrictions.gvl=t,e.purposeLegitimateInterests.unset([1,3,4,5,6]);var n=new Map;return n.set("legIntPurposes",e.vendorLegitimateInterests),n.set("purposes",e.vendorConsents),n.forEach((function(n,r){n.forEach((function(o,i){if(o){var a=t.vendors[i];if(!a||a.deletedDate)n.unset(i);else if(0===a[r].length)if("legIntPurposes"===r&&0===a.purposes.length&&0===a.legIntPurposes.length&&a.specialPurposes.length>0)n.set(i);else if("legIntPurposes"===r&&a.purposes.length>0&&0===a.legIntPurposes.length&&a.specialPurposes.length>0)n.set(i);else if(e.isServiceSpecific)if(0===a.flexiblePurposes.length)n.unset(i);else{for(var u=e.publisherRestrictions.getRestrictions(i),c=!1,s=0,l=u.length;s<l&&!c;s++)c=u[s].restrictionType===je.REQUIRE_CONSENT&&"purposes"===r||u[s].restrictionType===je.REQUIRE_LI&&"legIntPurposes"===r;c||n.unset(i)}else n.unset(i)}}))})),e.vendorsDisclosed.set(t.vendors),e}]);var an=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"absCall",value:function(e,t,n,r){return new Promise((function(o,i){var a=new XMLHttpRequest;a.withCredentials=n,a.addEventListener("load",(function(){if(a.readyState==XMLHttpRequest.DONE)if(a.status>=200&&a.status<300){var e=a.response;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}o(e)}else i(new Error("HTTP Status: ".concat(a.status," response type: ").concat(a.responseType)))})),a.addEventListener("error",(function(){i(new Error("error"))})),a.addEventListener("abort",(function(){i(new Error("aborted"))})),null===t?a.open("GET",e,!0):a.open("POST",e,!0),a.responseType="json",a.timeout=r,a.ontimeout=function(){i(new Error("Timeout "+r+"ms "+e))},a.send(t)}))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return this.absCall(e,JSON.stringify(t),n,r)}},{key:"fetch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.absCall(e,null,t,n)}}],(n=null)&&on(t.prototype,n),r&&on(t,r),e}();function un(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cn(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function sn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){cn(i,r,o,a,u,"next",e)}function u(e){cn(i,r,o,a,u,"throw",e)}a(void 0)}))}}function ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pn(e){return pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pn(e)}function dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){fn(e,t,n[t])}))}return e}function hn(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function yn(e,t){return yn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},yn(e,t)}function vn(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function bn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=pn(e);if(t){var a=pn(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==vn(o)&&"function"!=typeof o?un(r):o}}function gn(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}var Sn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yn(e,t)}(i,e);var t,n,r,o=bn(i);function i(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),fn(un(n=o.call(this)),"readyPromise",void 0),fn(un(n),"gvlSpecificationVersion",void 0),fn(un(n),"vendorListVersion",void 0),fn(un(n),"tcfPolicyVersion",void 0),fn(un(n),"lastUpdated",void 0),fn(un(n),"purposes",void 0),fn(un(n),"specialPurposes",void 0),fn(un(n),"features",void 0),fn(un(n),"specialFeatures",void 0),fn(un(n),"isReady_",!1),fn(un(n),"vendors_",void 0),fn(un(n),"vendorIds",void 0),fn(un(n),"fullVendorList",void 0),fn(un(n),"byPurposeVendorMap",void 0),fn(un(n),"bySpecialPurposeVendorMap",void 0),fn(un(n),"byFeatureVendorMap",void 0),fn(un(n),"bySpecialFeatureVendorMap",void 0),fn(un(n),"stacks",void 0),fn(un(n),"dataCategories",void 0),fn(un(n),"lang_",void 0),fn(un(n),"cacheLang_",void 0),fn(un(n),"isLatest",!1);var r=i.baseUrl,a=null==t?void 0:t.language;if(a)try{a=i.consentLanguages.parseLanguage(a)}catch(e){throw new he("Error during parsing the language: "+e.message)}if(n.lang_=a||i.DEFAULT_LANGUAGE,n.cacheLang_=a||i.DEFAULT_LANGUAGE,n.isVendorList(e))n.populate(e),n.readyPromise=Promise.resolve();else{if(!r)throw new he("must specify GVL.baseUrl before loading GVL json");if(e>0){var u=e;i.CACHE.has(u)?(n.populate(i.CACHE.get(u)),n.readyPromise=Promise.resolve()):(r+=i.versionedFilename.replace("[VERSION]",String(u)),n.readyPromise=n.fetchJson(r))}else i.CACHE.has(i.LATEST_CACHE_KEY)?(n.populate(i.CACHE.get(i.LATEST_CACHE_KEY)),n.readyPromise=Promise.resolve()):(n.isLatest=!0,n.readyPromise=n.fetchJson(r+i.latestFilename))}return n}return t=i,r=[{key:"baseUrl",get:function(){return this.baseUrl_},set:function(e){if(/^https?:\/\/vendorlist\.consensu\.org\//.test(e))throw new he("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");e.length>0&&"/"!==e[e.length-1]&&(e+="/"),this.baseUrl_=e}},{key:"emptyLanguageCache",value:function(e){var t=!1;return null==e&&i.LANGUAGE_CACHE.size>0?(i.LANGUAGE_CACHE=new Map,t=!0):"string"==typeof e&&this.consentLanguages.has(e.toUpperCase())&&(i.LANGUAGE_CACHE.delete(e.toUpperCase()),t=!0),t}},{key:"emptyCache",value:function(e){var t=!1;return Number.isInteger(e)&&e>=0?(i.CACHE.delete(e),t=!0):void 0===e&&(i.CACHE=new Map,t=!0),t}},{key:"clonePurpose",value:function(e){return dn({id:e.id,name:e.name,description:e.description},e.descriptionLegal?{descriptionLegal:e.descriptionLegal}:{},e.illustrations?{illustrations:Array.from(e.illustrations)}:{})}},{key:"cloneFeature",value:function(e){return dn({id:e.id,name:e.name,description:e.description},e.descriptionLegal?{descriptionLegal:e.descriptionLegal}:{},e.illustrations?{illustrations:Array.from(e.illustrations)}:{})}},{key:"cloneDataCategory",value:function(e){return{id:e.id,name:e.name,description:e.description}}},{key:"cloneStack",value:function(e){return{id:e.id,name:e.name,description:e.description,purposes:Array.from(e.purposes),specialFeatures:Array.from(e.specialFeatures)}}},{key:"cloneDataRetention",value:function(e){return hn(dn({},"number"==typeof e.stdRetention?{stdRetention:e.stdRetention}:{}),{purposes:dn({},e.purposes),specialPurposes:dn({},e.specialPurposes)})}},{key:"cloneVendorUrls",value:function(e){return e.map((function(e){return dn({langId:e.langId,privacy:e.privacy},e.legIntClaim?{legIntClaim:e.legIntClaim}:{})}))}},{key:"cloneVendor",value:function(e){return dn({id:e.id,name:e.name,purposes:Array.from(e.purposes),legIntPurposes:Array.from(e.legIntPurposes),flexiblePurposes:Array.from(e.flexiblePurposes),specialPurposes:Array.from(e.specialPurposes),features:Array.from(e.features),specialFeatures:Array.from(e.specialFeatures)},e.overflow?{overflow:{httpGetLimit:e.overflow.httpGetLimit}}:{},"number"==typeof e.cookieMaxAgeSeconds||null===e.cookieMaxAgeSeconds?{cookieMaxAgeSeconds:e.cookieMaxAgeSeconds}:{},void 0!==e.usesCookies?{usesCookies:e.usesCookies}:{},e.policyUrl?{policyUrl:e.policyUrl}:{},void 0!==e.cookieRefresh?{cookieRefresh:e.cookieRefresh}:{},void 0!==e.usesNonCookieAccess?{usesNonCookieAccess:e.usesNonCookieAccess}:{},e.dataRetention?{dataRetention:this.cloneDataRetention(e.dataRetention)}:{},e.urls?{urls:this.cloneVendorUrls(e.urls)}:{},e.dataDeclaration?{dataDeclaration:Array.from(e.dataDeclaration)}:{},e.deviceStorageDisclosureUrl?{deviceStorageDisclosureUrl:e.deviceStorageDisclosureUrl}:{},e.deletedDate?{deletedDate:e.deletedDate}:{})}},{key:"isInstanceOf",value:function(e){return"object"===(void 0===e?"undefined":vn(e))&&"function"==typeof e.narrowVendorsTo}}],(n=[{key:"cacheLanguage",value:function(){i.LANGUAGE_CACHE.has(this.cacheLang_)||i.LANGUAGE_CACHE.set(this.cacheLang_,{purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,dataCategories:this.dataCategories})}},{key:"fetchJson",value:function(e){var t=this;return sn((function(){var n,r;return gn(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),n=t.populate,[4,an.fetch(e)];case 1:return n.apply(t,[o.sent()]),[3,3];case 2:throw r=o.sent(),new he(r.message);case 3:return[2]}}))}))()}},{key:"getJson",value:function(){return hn(dn({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.clonePurposes(),specialPurposes:this.cloneSpecialPurposes(),features:this.cloneFeatures(),specialFeatures:this.cloneSpecialFeatures(),stacks:this.cloneStacks()},this.dataCategories?{dataCategories:this.cloneDataCategories()}:{}),{vendors:this.cloneVendors()})}},{key:"cloneSpecialFeatures",value:function(){var e={},t=!0,n=!1,r=void 0;try{for(var o,a=Object.keys(this.specialFeatures)[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var u=o.value;e[u]=i.cloneFeature(this.specialFeatures[u])}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return e}},{key:"cloneFeatures",value:function(){var e={},t=!0,n=!1,r=void 0;try{for(var o,a=Object.keys(this.features)[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var u=o.value;e[u]=i.cloneFeature(this.features[u])}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return e}},{key:"cloneStacks",value:function(){var e={},t=!0,n=!1,r=void 0;try{for(var o,a=Object.keys(this.stacks)[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var u=o.value;e[u]=i.cloneStack(this.stacks[u])}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return e}},{key:"cloneDataCategories",value:function(){var e={},t=!0,n=!1,r=void 0;try{for(var o,a=Object.keys(this.dataCategories)[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var u=o.value;e[u]=i.cloneDataCategory(this.dataCategories[u])}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return e}},{key:"cloneSpecialPurposes",value:function(){var e={},t=!0,n=!1,r=void 0;try{for(var o,a=Object.keys(this.specialPurposes)[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var u=o.value;e[u]=i.clonePurpose(this.specialPurposes[u])}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return e}},{key:"clonePurposes",value:function(){var e={},t=!0,n=!1,r=void 0;try{for(var o,a=Object.keys(this.purposes)[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var u=o.value;e[u]=i.clonePurpose(this.purposes[u])}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return e}},{key:"cloneVendors",value:function(){var e={},t=!0,n=!1,r=void 0;try{for(var o,a=Object.keys(this.fullVendorList)[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var u=o.value;e[u]=i.cloneVendor(this.fullVendorList[u])}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return e}},{key:"changeLanguage",value:function(e){var t=this;return sn((function(){var n,r,o,a,u;return gn(this,(function(c){switch(c.label){case 0:n=e;try{n=i.consentLanguages.parseLanguage(e)}catch(e){throw new he("Error during parsing the language: "+e.message)}if(r=e.toUpperCase(),n.toLowerCase()===i.DEFAULT_LANGUAGE.toLowerCase()&&!i.LANGUAGE_CACHE.has(r))return[2];if(n===t.lang_)return[3,5];if(t.lang_=n,!i.LANGUAGE_CACHE.has(r))return[3,1];for(var s in o=i.LANGUAGE_CACHE.get(r))o.hasOwnProperty(s)&&(t[s]=o[s]);return[3,5];case 1:a=i.baseUrl+i.languageFilename.replace("[LANG]",t.lang_.toLowerCase()),c.label=2;case 2:return c.trys.push([2,4,,5]),[4,t.fetchJson(a)];case 3:return c.sent(),t.cacheLang_=r,t.cacheLanguage(),[3,5];case 4:throw u=c.sent(),new he("unable to load language: "+u.message);case 5:return[2]}}))}))()}},{key:"language",get:function(){return this.lang_}},{key:"isVendorList",value:function(e){return void 0!==e&&void 0!==e.vendors}},{key:"populate",value:function(e){this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.dataCategories=e.dataCategories,this.isVendorList(e)&&(this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.vendorListVersion=e.vendorListVersion,this.lastUpdated=e.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors_=e.vendors,this.fullVendorList=e.vendors,this.mapVendors(),this.isReady_=!0,this.isLatest&&i.CACHE.set(i.LATEST_CACHE_KEY,this.getJson()),i.CACHE.has(this.vendorListVersion)||i.CACHE.set(this.vendorListVersion,this.getJson())),this.cacheLanguage()}},{key:"mapVendors",value:function(e){var t=this;this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach((function(e){t.byPurposeVendorMap[e]={legInt:new Set,consent:new Set,flexible:new Set}})),Object.keys(this.specialPurposes).forEach((function(e){t.bySpecialPurposeVendorMap[e]=new Set})),Object.keys(this.features).forEach((function(e){t.byFeatureVendorMap[e]=new Set})),Object.keys(this.specialFeatures).forEach((function(e){t.bySpecialFeatureVendorMap[e]=new Set})),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map((function(e){return+e}))),this.vendorIds=new Set(e),this.vendors_=e.reduce((function(e,n){var r=t.vendors_[String(n)];return r&&void 0===r.deletedDate&&(r.purposes.forEach((function(e){t.byPurposeVendorMap[String(e)].consent.add(n)})),r.specialPurposes.forEach((function(e){t.bySpecialPurposeVendorMap[String(e)].add(n)})),r.legIntPurposes.forEach((function(e){t.byPurposeVendorMap[String(e)].legInt.add(n)})),r.flexiblePurposes&&r.flexiblePurposes.forEach((function(e){t.byPurposeVendorMap[String(e)].flexible.add(n)})),r.features.forEach((function(e){t.byFeatureVendorMap[String(e)].add(n)})),r.specialFeatures.forEach((function(e){t.bySpecialFeatureVendorMap[String(e)].add(n)})),e[n]=r),e}),{})}},{key:"getFilteredVendors",value:function(e,t,n,r){var o=this,i=e.charAt(0).toUpperCase()+e.slice(1),a={};return("purpose"===e&&n?this["by"+i+"VendorMap"][String(t)][n]:this["by"+(r?"Special":"")+i+"VendorMap"][String(t)]).forEach((function(e){a[String(e)]=o.vendors[String(e)]})),a}},{key:"getVendorsWithConsentPurpose",value:function(e){return this.getFilteredVendors("purpose",e,"consent")}},{key:"getVendorsWithLegIntPurpose",value:function(e){return this.getFilteredVendors("purpose",e,"legInt")}},{key:"getVendorsWithFlexiblePurpose",value:function(e){return this.getFilteredVendors("purpose",e,"flexible")}},{key:"getVendorsWithSpecialPurpose",value:function(e){return this.getFilteredVendors("purpose",e,void 0,!0)}},{key:"getVendorsWithFeature",value:function(e){return this.getFilteredVendors("feature",e)}},{key:"getVendorsWithSpecialFeature",value:function(e){return this.getFilteredVendors("feature",e,void 0,!0)}},{key:"vendors",get:function(){return this.vendors_}},{key:"narrowVendorsTo",value:function(e){this.mapVendors(e)}},{key:"isReady",get:function(){return this.isReady_}},{key:"clone",value:function(){var e=new i(this.getJson());return this.lang_!==i.DEFAULT_LANGUAGE&&e.changeLanguage(this.lang_),e}}])&&ln(t.prototype,n),r&&ln(t,r),i}(Ve);function mn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function On(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function En(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _n(e){return _n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_n(e)}function wn(e,t){return wn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},wn(e,t)}function Tn(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function In(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=_n(e);if(t){var a=_n(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==Tn(o)&&"function"!=typeof o?mn(r):o}}fn(Sn,"LANGUAGE_CACHE",new Map),fn(Sn,"CACHE",new Map),fn(Sn,"LATEST_CACHE_KEY",0),fn(Sn,"DEFAULT_LANGUAGE","EN"),fn(Sn,"consentLanguages",new Ne),fn(Sn,"baseUrl_",void 0),fn(Sn,"latestFilename","vendor-list.json"),fn(Sn,"versionedFilename","archives/vendor-list-v[VERSION].json"),fn(Sn,"languageFilename","purposes-[LANG].json");var Pn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wn(e,t)}(i,e);var t,n,r,o=In(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),En(mn(t=o.call(this)),"isServiceSpecific_",!1),En(mn(t),"supportOOB_",!0),En(mn(t),"useNonStandardTexts_",!1),En(mn(t),"purposeOneTreatment_",!1),En(mn(t),"publisherCountryCode_","AA"),En(mn(t),"version_",2),En(mn(t),"consentScreen_",0),En(mn(t),"policyVersion_",4),En(mn(t),"consentLanguage_","EN"),En(mn(t),"cmpId_",0),En(mn(t),"cmpVersion_",0),En(mn(t),"vendorListVersion_",0),En(mn(t),"numCustomPurposes_",0),En(mn(t),"gvl_",void 0),En(mn(t),"created",void 0),En(mn(t),"lastUpdated",void 0),En(mn(t),"specialFeatureOptins",new ht),En(mn(t),"purposeConsents",new ht),En(mn(t),"purposeLegitimateInterests",new ht),En(mn(t),"publisherConsents",new ht),En(mn(t),"publisherLegitimateInterests",new ht),En(mn(t),"publisherCustomConsents",new ht),En(mn(t),"publisherCustomLegitimateInterests",new ht),En(mn(t),"customPurposes",void 0),En(mn(t),"vendorConsents",new ht),En(mn(t),"vendorLegitimateInterests",new ht),En(mn(t),"vendorsDisclosed",new ht),En(mn(t),"vendorsAllowed",new ht),En(mn(t),"publisherRestrictions",new tt),e&&(t.gvl=e),t.updated(),t}return t=i,(n=[{key:"gvl",get:function(){return this.gvl_},set:function(e){Sn.isInstanceOf(e)||(e=new Sn(e)),this.gvl_=e,this.publisherRestrictions.gvl=e}},{key:"cmpId",get:function(){return this.cmpId_},set:function(e){if(e=Number(e),!(Number.isInteger(e)&&e>1))throw new Oe("cmpId",e);this.cmpId_=e}},{key:"cmpVersion",get:function(){return this.cmpVersion_},set:function(e){if(e=Number(e),!(Number.isInteger(e)&&e>-1))throw new Oe("cmpVersion",e);this.cmpVersion_=e}},{key:"consentScreen",get:function(){return this.consentScreen_},set:function(e){if(e=Number(e),!(Number.isInteger(e)&&e>-1))throw new Oe("consentScreen",e);this.consentScreen_=e}},{key:"consentLanguage",get:function(){return this.consentLanguage_},set:function(e){this.consentLanguage_=e}},{key:"publisherCountryCode",get:function(){return this.publisherCountryCode_},set:function(e){if(!/^([A-z]){2}$/.test(e))throw new Oe("publisherCountryCode",e);this.publisherCountryCode_=e.toUpperCase()}},{key:"vendorListVersion",get:function(){return this.gvl?this.gvl.vendorListVersion:this.vendorListVersion_},set:function(e){if((e=0|Number(e))<0)throw new Oe("vendorListVersion",e);this.vendorListVersion_=e}},{key:"policyVersion",get:function(){return this.gvl?this.gvl.tcfPolicyVersion:this.policyVersion_},set:function(e){if(this.policyVersion_=parseInt(e,10),this.policyVersion_<0)throw new Oe("policyVersion",e)}},{key:"version",get:function(){return this.version_},set:function(e){this.version_=parseInt(e,10)}},{key:"isServiceSpecific",get:function(){return this.isServiceSpecific_},set:function(e){this.isServiceSpecific_=e}},{key:"useNonStandardTexts",get:function(){return this.useNonStandardTexts_},set:function(e){this.useNonStandardTexts_=e}},{key:"supportOOB",get:function(){return this.supportOOB_},set:function(e){this.supportOOB_=e}},{key:"purposeOneTreatment",get:function(){return this.purposeOneTreatment_},set:function(e){this.purposeOneTreatment_=e}},{key:"setAllVendorConsents",value:function(){this.vendorConsents.set(this.gvl.vendors)}},{key:"unsetAllVendorConsents",value:function(){this.vendorConsents.empty()}},{key:"setAllVendorsDisclosed",value:function(){this.vendorsDisclosed.set(this.gvl.vendors)}},{key:"unsetAllVendorsDisclosed",value:function(){this.vendorsDisclosed.empty()}},{key:"setAllVendorsAllowed",value:function(){this.vendorsAllowed.set(this.gvl.vendors)}},{key:"unsetAllVendorsAllowed",value:function(){this.vendorsAllowed.empty()}},{key:"setAllVendorLegitimateInterests",value:function(){this.vendorLegitimateInterests.set(this.gvl.vendors)}},{key:"unsetAllVendorLegitimateInterests",value:function(){this.vendorLegitimateInterests.empty()}},{key:"setAllPurposeConsents",value:function(){this.purposeConsents.set(this.gvl.purposes)}},{key:"unsetAllPurposeConsents",value:function(){this.purposeConsents.empty()}},{key:"setAllPurposeLegitimateInterests",value:function(){this.purposeLegitimateInterests.set(this.gvl.purposes)}},{key:"unsetAllPurposeLegitimateInterests",value:function(){this.purposeLegitimateInterests.empty()}},{key:"setAllSpecialFeatureOptins",value:function(){this.specialFeatureOptins.set(this.gvl.specialFeatures)}},{key:"unsetAllSpecialFeatureOptins",value:function(){this.specialFeatureOptins.empty()}},{key:"setAll",value:function(){this.setAllVendorConsents(),this.setAllPurposeLegitimateInterests(),this.setAllSpecialFeatureOptins(),this.setAllPurposeConsents(),this.setAllVendorLegitimateInterests()}},{key:"unsetAll",value:function(){this.unsetAllVendorConsents(),this.unsetAllPurposeLegitimateInterests(),this.unsetAllSpecialFeatureOptins(),this.unsetAllPurposeConsents(),this.unsetAllVendorLegitimateInterests()}},{key:"numCustomPurposes",get:function(){var e=this.numCustomPurposes_;if("object"===Tn(this.customPurposes)){var t=Object.keys(this.customPurposes).sort((function(e,t){return Number(e)-Number(t)}));e=parseInt(t.pop(),10)}return e},set:function(e){if(this.numCustomPurposes_=parseInt(e,10),this.numCustomPurposes_<0)throw new Oe("numCustomPurposes",e)}},{key:"updated",value:function(){var e=new Date,t=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));this.created=t,this.lastUpdated=t}}])&&On(t.prototype,n),r&&On(t,r),i}(Ve);function An(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}En(Pn,"consentLanguages",Sn.consentLanguages);var Nn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"encode",value:function(e,t){var n,r="";return e=rn.process(e,t),(n=Array.isArray(null==t?void 0:t.segments)?t.segments:new Zt(e,t)[""+e.version]).forEach((function(t,o){var i="";o<n.length-1&&(i="."),r+=tn.encode(e,t)+i})),r}},{key:"decode",value:function(e,t){var n=e.split("."),r=n.length;t||(t=new Pn);for(var o=0;o<r;o++){var i=n[o],a=we.decode(i.charAt(0)).substr(0,kt.segmentType),u=ot.ID_TO_KEY[Vt.decode(a,kt.segmentType).toString()];tn.decode(i,t,u)}return t}}],(n=null)&&An(t.prototype,n),r&&An(t,r),e}();function Cn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Cn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var jn={DIANOMI:885},Vn=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Dn(this,"_can_serve_ads",void 0),Dn(this,"tcData",void 0),Dn(this,"_can_cookie",void 0),this.tcData=t,this._can_serve_ads=n,this._can_cookie=r}var t,n,r;return t=e,(n=[{key:"toString",value:function(){return"permissions<can_serve_ads=".concat(this.can_serve_ads,", can_cookie=").concat(this.can_cookie,">")}},{key:"get_tcData",value:function(){return this.tcData||null}},{key:"gdpr",value:function(){var e;return(null===(e=this.tcData)||void 0===e?void 0:e.gdprApplies)||null}},{key:"gdpr_consent",value:function(){var e;return Ko(this.tcData)?null:(null===(e=this.tcData)||void 0===e?void 0:e.tcString)||null}},{key:"can_serve_ads",value:function(){return this._can_serve_ads||!1}},{key:"can_cookie",value:function(){return this._can_cookie||!1}},{key:"initialize_can_serve_ads",value:function(e){null===this._can_serve_ads&&(this._can_serve_ads=e)}},{key:"initialize_can_cookie",value:function(e){null===this._can_cookie&&(this._can_cookie=e)}}])&&Rn(t.prototype,n),r&&Rn(t,r),e}();function Ln(e){var t;if(!e.gdprApplies)throw new Error("decideTCF shouldn't be called if gdprApplies=false");var n={};"string"!=typeof e.purpose.consents&&(n=e.purpose.consents);var r,o={};"string"!=typeof e.purpose.legitimateInterests&&(o=e.purpose.legitimateInterests);var i,a=null===(r=e.vendor.legitimateInterests[jn.DIANOMI])||void 0===r||r,u=null===(i=e.vendor.consents[jn.DIANOMI])||void 0===i||i,c=null==e||null===(t=e.publisher)||void 0===t?void 0:t.restrictions;c&&Object.entries(c).forEach((function(e){var t=kn(e,2),r=t[0],i=t[1];if("string"!=typeof i){var a=i[jn.DIANOMI];void 0!==a&&(a===je.NOT_ALLOWED?(o[r]=!1,n[r]=!1):a===je.REQUIRE_LI?n[r]=!1:a===je.REQUIRE_CONSENT&&(o[r]=!1))}}));var s=Boolean(o[2]&&o[7]&&o[10]&&a||n[2]&&n[7]&&n[10]&&u);return[s,Boolean(s&&n[1]&&n[2]&&n[7]&&n[10]&&u)]}var Mn={id:2,version:3};function Un(e,t){try{if(e.frames[t])return e}catch(e){}return e===window.top?null:Un(e.parent,t)}function xn(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Gn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){xn(i,r,o,a,u,"next",e)}function u(e){xn(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Fn(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}var Bn,Hn,Wn,zn,Yn=50;function Kn(e,t){return Qn.apply(this,arguments)}function Qn(){return Qn=Gn((function(e,t){var n,r,o=arguments;return Fn(this,(function(i){switch(i.label){case 0:n=o.length>2&&void 0!==o[2]&&o[2];try{if("function"==typeof t.__tcfapi)return[2,!0]}catch(e){}return n?[2,!1]:[4,qn(e,t)];case 1:return null===(r=i.sent())?[2,!1]:(function(e,t,n){var r={};t.__tcfapi=function(e,t,o,i){var a="".concat(e,"-").concat(Math.random()),u={__tcfapiCall:{command:e,parameter:i,version:t,callId:a}};r[a]=o,n.postMessage(u,"*")},e.addEventListener("message",(function(e){return function(e,t){var n=j(e),r=null==n?void 0:n.__tcfapiReturn;if(r){var o=t[r.callId];"function"==typeof o&&(o(r.returnValue,r.success),r.callId.startsWith("addEventListener")||(t[r.callId]=null))}}(e,r)}),!1),window.addEventListener("message",(function(t){return V(t,e,"__tcfapiReturn")}),!1)}(t,t,r),[2,!0])}}))})),Qn.apply(this,arguments)}function qn(e,t){return Jn.apply(this,arguments)}function Jn(){return(Jn=Gn((function(e,t){var n,r;return Fn(this,(function(o){switch(o.label){case 0:n=0,o.label=1;case 1:return n<e?null!==(r=Un(t,"__tcfapiLocator"))?[2,r]:[4,Xn()]:[3,4];case 2:o.sent(),o.label=3;case 3:return n++,[3,1];case 4:return[2,null]}}))}))).apply(this,arguments)}function Xn(){return $n.apply(this,arguments)}function $n(){return($n=Gn((function(){return Fn(this,(function(e){return[2,new Promise((function(e){setTimeout((function(){e()}),Yn)}))]}))}))).apply(this,arguments)}function Zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function er(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.PING="ping",e.GET_TC_DATA="getTCData",e.GET_IN_APP_TC_DATA="getInAppTCData",e.GET_VENDOR_LIST="getVendorList",e.ADD_EVENT_LISTENER="addEventListener",e.REMOVE_EVENT_LISTENER="removeEventListener"}(Bn||(Bn={})),function(e){e.STUB="stub",e.LOADING="loading",e.LOADED="loaded",e.ERROR="error"}(Hn||(Hn={})),function(e){e.VISIBLE="visible",e.HIDDEN="hidden",e.DISABLED="disabled"}(Wn||(Wn={})),function(e){e.TC_LOADED="tcloaded",e.CMP_UI_SHOWN="cmpuishown",e.USER_ACTION_COMPLETE="useractioncomplete"}(zn||(zn={}));var tr=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),er(this,"listenerId",void 0),er(this,"callback",void 0),er(this,"next",void 0),er(this,"param",void 0),er(this,"success",!0),Object.assign(this,{callback:t,listenerId:r,param:n,next:o});try{this.respond()}catch(e){this.invokeCallback(null)}}var t,n,r;return t=e,(n=[{key:"invokeCallback",value:function(e){var t=null!==e;"function"==typeof this.next?this.callback(this.next,e,t):this.callback(e,t)}}])&&Zn(t.prototype,n),r&&Zn(t,r),e}();function nr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rr(e){return rr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},rr(e)}function or(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ir(e,t){return ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ir(e,t)}function ar(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rr(e);if(t){var o=rr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return or(this,n)}}var ur=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ir(e,t)}(i,e);var t,n,r,o=ar(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"respond",value:function(){this.throwIfParamInvalid(),this.invokeCallback(new jr(this.param,this.listenerId))}},{key:"throwIfParamInvalid",value:function(){if(!(void 0===this.param||Array.isArray(this.param)&&this.param.every(Number.isInteger)))throw new Error("Invalid Parameter")}}])&&nr(t.prototype,n),r&&nr(t,r),i}(tr);function cr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),sr(this,"eventQueue",new Map),sr(this,"queueNumber",0)}var t,n,r;return t=e,(n=[{key:"add",value:function(e){return this.eventQueue.set(this.queueNumber,e),this.queueNumber++}},{key:"remove",value:function(e){return this.eventQueue.delete(e)}},{key:"exec",value:function(){this.eventQueue.forEach((function(e,t){new ur(e.callback,e.param,t,e.next)}))}},{key:"clear",value:function(){this.queueNumber=0,this.eventQueue.clear()}},{key:"size",get:function(){return this.eventQueue.size}}])&&cr(t.prototype,n),r&&cr(t,r),e}();function fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"reset",value:function(){delete this.cmpId,delete this.cmpVersion,delete this.eventStatus,delete this.gdprApplies,delete this.tcModel,delete this.tcString,delete this.tcfPolicyVersion,this.cmpStatus=Hn.LOADING,this.disabled=!1,this.displayStatus=Wn.HIDDEN,this.eventQueue.clear()}}],(n=null)&&fr(t.prototype,n),r&&fr(t,r),e}();function hr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}pr(dr,"apiVersion","2"),pr(dr,"tcfPolicyVersion",void 0),pr(dr,"eventQueue",new lr),pr(dr,"cmpStatus",Hn.LOADING),pr(dr,"disabled",!1),pr(dr,"displayStatus",Wn.HIDDEN),pr(dr,"cmpId",void 0),pr(dr,"cmpVersion",void 0),pr(dr,"eventStatus",void 0),pr(dr,"gdprApplies",void 0),pr(dr,"tcModel",void 0),pr(dr,"tcString",void 0);var yr=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),hr(this,"cmpId",dr.cmpId),hr(this,"cmpVersion",dr.cmpVersion),hr(this,"gdprApplies",dr.gdprApplies),hr(this,"tcfPolicyVersion",dr.tcfPolicyVersion)};function vr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function br(e,t,n){return br=Er()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&mr(o,n.prototype),o},br.apply(null,arguments)}function gr(e){return gr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gr(e)}function Sr(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?vr(e):t}function mr(e,t){return mr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},mr(e,t)}function Or(e){var t="function"==typeof Map?new Map:void 0;return Or=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return br(e,arguments,gr(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),mr(r,e)},Or(e)}function Er(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Or(yr);function _r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tr(e,t,n){return Tr=kr()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Cr(o,n.prototype),o},Tr.apply(null,arguments)}function Ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ar(e){return Ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ar(e)}function Nr(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?wr(e):t}function Cr(e,t){return Cr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Cr(e,t)}function Rr(e){return function(e){if(Array.isArray(e))return _r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dr(e){var t="function"==typeof Map?new Map:void 0;return Dr=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Tr(e,arguments,Ar(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Cr(r,e)},Dr(e)}function kr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var jr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cr(e,t)}(u,e);var t,n,r,o,i,a=(t=u,n=kr(),function(){var e,r=Ar(t);if(n){var o=Ar(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Nr(this,e)});function u(e,t){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),Pr(wr(n=a.call(this)),"tcString",void 0),Pr(wr(n),"listenerId",void 0),Pr(wr(n),"eventStatus",void 0),Pr(wr(n),"cmpStatus",void 0),Pr(wr(n),"isServiceSpecific",void 0),Pr(wr(n),"useNonStandardTexts",void 0),Pr(wr(n),"publisherCC",void 0),Pr(wr(n),"purposeOneTreatment",void 0),Pr(wr(n),"outOfBand",void 0),Pr(wr(n),"purpose",void 0),Pr(wr(n),"vendor",void 0),Pr(wr(n),"specialFeatureOptins",void 0),Pr(wr(n),"publisher",void 0),n.eventStatus=dr.eventStatus,n.cmpStatus=dr.cmpStatus,n.listenerId=t,dr.gdprApplies){var r=dr.tcModel;n.tcString=dr.tcString,n.isServiceSpecific=r.isServiceSpecific,n.useNonStandardTexts=r.useNonStandardTexts,n.purposeOneTreatment=r.purposeOneTreatment,n.publisherCC=r.publisherCountryCode,n.outOfBand={allowedVendors:n.createVectorField(r.vendorsAllowed,e),disclosedVendors:n.createVectorField(r.vendorsDisclosed,e)},n.purpose={consents:n.createVectorField(r.purposeConsents),legitimateInterests:n.createVectorField(r.purposeLegitimateInterests)},n.vendor={consents:n.createVectorField(r.vendorConsents,e),legitimateInterests:n.createVectorField(r.vendorLegitimateInterests,e)},n.specialFeatureOptins=n.createVectorField(r.specialFeatureOptins),n.publisher={consents:n.createVectorField(r.publisherConsents),legitimateInterests:n.createVectorField(r.publisherLegitimateInterests),customPurpose:{consents:n.createVectorField(r.publisherCustomConsents),legitimateInterests:n.createVectorField(r.publisherCustomLegitimateInterests)},restrictions:n.createRestrictions(r.publisherRestrictions)}}return n}return r=u,o=[{key:"createRestrictions",value:function(e){var t={};if(e.numRestrictions>0)for(var n=function(n){var r=n.toString();e.getRestrictions(n).forEach((function(e){var n=e.purposeId.toString();t[n]||(t[n]={}),t[n][r]=e.restrictionType}))},r=e.getMaxVendorId(),o=1;o<=r;o++)n(o);return t}},{key:"createVectorField",value:function(e,t){return t?t.reduce((function(t,n){return t[String(n)]=e.has(Number(n)),t}),{}):Rr(e).reduce((function(e,t){return e[t[0].toString(10)]=t[1],e}),{})}}],o&&Ir(r.prototype,o),i&&Ir(r,i),u}(Dr(yr));function Vr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mr(e){return Mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Mr(e)}function Ur(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xr(e,t){return xr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},xr(e,t)}function Gr(e){return function(e){if(Array.isArray(e))return Vr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Vr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vr(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mr(e);if(t){var o=Mr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ur(this,n)}}var Br=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xr(e,t)}(i,e);var t,n,r,o=Fr(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),delete(t=o.call(this,e)).outOfBand,t}return t=i,(n=[{key:"createVectorField",value:function(e){return Gr(e).reduce((function(e,t){return e+=t[1]?"1":"0"}),"")}},{key:"createRestrictions",value:function(e){var t={};if(e.numRestrictions>0){var n=function(n){var r=n+1;e.getRestrictions(r).forEach((function(e){var r=e.restrictionType.toString(),o=e.purposeId.toString(),i=t[o].substr(0,n),a=t[o].substr(n+1);t[o]=i+r+a}))},r=e.getMaxVendorId();e.getRestrictions().forEach((function(e){t[e.purposeId.toString()]="_".repeat(r)}));for(var o=0;o<r;o++)n(o)}return t}}])&&Lr(t.prototype,n),r&&Lr(t,r),i}(jr);function Hr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wr(e,t,n){return Wr=Jr()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Qr(o,n.prototype),o},Wr.apply(null,arguments)}function zr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yr(e){return Yr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Yr(e)}function Kr(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?Hr(e):t}function Qr(e,t){return Qr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Qr(e,t)}function qr(e){var t="function"==typeof Map?new Map:void 0;return qr=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Wr(e,arguments,Yr(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Qr(r,e)},qr(e)}function Jr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Xr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qr(e,t)}(o,e);var t,n,r=(t=o,n=Jr(),function(){var e,r=Yr(t);if(n){var o=Yr(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Kr(this,e)});function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),zr(Hr(e=r.call(this)),"cmpLoaded",!0),zr(Hr(e),"cmpStatus",dr.cmpStatus),zr(Hr(e),"displayStatus",dr.displayStatus),zr(Hr(e),"apiVersion",String(dr.apiVersion)),zr(Hr(e),"gvlVersion",void 0),dr.tcModel&&dr.tcModel.vendorListVersion&&(e.gvlVersion=+dr.tcModel.vendorListVersion),e}return o}(qr(yr));function $r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zr(e){return Zr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Zr(e)}function eo(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function to(e,t){return to=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},to(e,t)}function no(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zr(e);if(t){var o=Zr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return eo(this,n)}}var ro=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&to(e,t)}(i,e);var t,n,r,o=no(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"respond",value:function(){this.invokeCallback(new Xr)}}])&&$r(t.prototype,n),r&&$r(t,r),i}(tr);function oo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function io(e){return io=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},io(e)}function ao(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function uo(e,t){return uo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},uo(e,t)}function co(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=io(e);if(t){var o=io(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ao(this,n)}}var so=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uo(e,t)}(i,e);var t,n,r,o=co(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"respond",value:function(){this.throwIfParamInvalid(),this.invokeCallback(new Br(this.param))}}])&&oo(t.prototype,n),r&&oo(t,r),i}(ur);function lo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fo(e){return fo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fo(e)}function po(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ho(e,t){return ho=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ho(e,t)}function yo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fo(e);if(t){var o=fo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return po(this,n)}}var vo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ho(e,t)}(i,e);var t,n,r,o=yo(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"respond",value:function(){var e,t=this,n=dr.tcModel,r=n.vendorListVersion;void 0===this.param&&(this.param=r),(e=this.param===r&&n.gvl?n.gvl:new Sn(this.param)).readyPromise.then((function(){t.invokeCallback(e.getJson())}))}}])&&lo(t.prototype,n),r&&lo(t,r),i}(tr);function bo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function go(e,t,n){return go="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=So(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n||e):o.value}},go(e,t,n||e)}function So(e){return So=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},So(e)}function mo(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Oo(e,t){return Oo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Oo(e,t)}function Eo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=So(e);if(t){var o=So(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mo(this,n)}}var _o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oo(e,t)}(i,e);var t,n,r,o=Eo(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"respond",value:function(){this.listenerId=dr.eventQueue.add({callback:this.callback,param:this.param,next:this.next}),go(So(i.prototype),"respond",this).call(this)}}])&&bo(t.prototype,n),r&&bo(t,r),i}(ur);function wo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function To(e){return To=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},To(e)}function Io(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Po(e,t){return Po=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Po(e,t)}function Ao(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=To(e);if(t){var o=To(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Io(this,n)}}var No=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Po(e,t)}(i,e);var t,n,r,o=Ao(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"respond",value:function(){this.invokeCallback(dr.eventQueue.remove(this.param))}}])&&wo(t.prototype,n),r&&wo(t,r),i}(tr);function Co(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ro=Bn.PING,Do=Bn.GET_TC_DATA,ko=Bn.GET_IN_APP_TC_DATA,jo=Bn.GET_VENDOR_LIST,Vo=Bn.ADD_EVENT_LISTENER,Lo=Bn.REMOVE_EVENT_LISTENER,Mo=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};function Uo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Co(Mo,Ro,ro),Co(Mo,Do,ur),Co(Mo,ko,so),Co(Mo,jo,vo),Co(Mo,Vo,_o),Co(Mo,Lo,No);var xo=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"has",value:function(e){return"string"==typeof e&&(e=Number(e)),this.set_.has(e)}}],(n=null)&&Uo(t.prototype,n),r&&Uo(t,r),e}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(xo,"set_",new Set([0,2,void 0,null]));function Go(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fo(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Bo(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Fo(i,r,o,a,u,"next",e)}function u(e){Fo(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Ho(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Go(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Go(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wo(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}var zo=20,Yo=10;function Ko(e){return void 0!==(null==e?void 0:e.apiVersion)&&void 0!==(null==e?void 0:e.displayStatus)}function Qo(e,t,n){return qo.apply(this,arguments)}function qo(){return qo=Bo((function(e,t,n){var r,o,i,a,u,c,s=arguments;return Wo(this,(function(l){switch(l.label){case 0:return[4,Kn(zo,n,r=s.length>3&&void 0!==s[3]&&s[3])];case 1:return o=l.sent(),r&&!o?[2,null]:o?[4,Jo(n)]:[2,new Vn(null,e,t)];case 2:return l.sent()?[4,$o(n)]:[2,new Vn(null,e,t)];case 3:return null===(i=l.sent())?[2,new Vn(null,e,t)]:!i.gdprApplies||Ko(i)?[2,new Vn(i,e,t)]:(a=Ho(Ln(i),2),u=a[0],c=a[1],[2,new Vn(i,u,c)])}}))})),qo.apply(this,arguments)}function Jo(e){return Xo.apply(this,arguments)}function Xo(){return Xo=Bo((function(e){return Wo(this,(function(t){return[2,new Promise((function(t){var n=0,r=setInterval(Bo((function(){var o,i;return Wo(this,(function(a){switch(a.label){case 0:return n++>50&&(clearInterval(r),t(!1)),[4,ni(e,"ping")];case 1:return o=Ho.apply(void 0,[a.sent(),1]),(i=o[0].cmpLoaded)&&(clearInterval(r),t(i)),[2]}}))})),100)}))]}))})),Xo.apply(this,arguments)}function $o(e){return Zo.apply(this,arguments)}function Zo(){return(Zo=Bo((function(e){var t,n,r,o;return Wo(this,(function(i){switch(i.label){case 0:t=0,i.label=1;case 1:return t<zo?[4,ni(e,"addEventListener")]:[3,9];case 2:if(n=Ho.apply(void 0,[i.sent(),2]),r=n[0],!n[1])return[3,8];switch(r.eventStatus){case zn.TC_LOADED:return[3,3];case zn.USER_ACTION_COMPLETE:return[3,4];case zn.CMP_UI_SHOWN:return[3,5]}return[3,7];case 3:case 4:return[2,r];case 5:return[4,ei(e)];case 6:return o=Ho.apply(void 0,[i.sent(),1]),[2,o[0]];case 7:if("loaded"===r.cmpStatus)return[2,r];throw new Error("Unknown Event Status: "+r.eventStatus);case 8:return t++,[3,1];case 9:return[2,null]}}))}))).apply(this,arguments)}function ei(e){return ti.apply(this,arguments)}function ti(){return ti=Bo((function(e){return Wo(this,(function(t){return[2,new Promise((function(t){var n=function(e,n){e.eventStatus===zn.USER_ACTION_COMPLETE&&t([e,n])};function r(){return r=Bo((function(){return Wo(this,(function(t){switch(t.label){case 0:return[4,ni(e,"addEventListener",n)];case 1:return t.sent(),[2]}}))})),r.apply(this,arguments)}!function(){r.apply(this,arguments)}(),setTimeout(Bo((function(){var n;return Wo(this,(function(r){switch(r.label){case 0:return[4,ni(e,"ping")];case 1:return n=r.sent(),ni(e,"removeEventListener"),t(n),[2]}}))})),1e3*Yo)}))]}))})),ti.apply(this,arguments)}function ni(e,t,n){return ri.apply(this,arguments)}function ri(){return(ri=Bo((function(e,t,n){return Wo(this,(function(r){return[2,new Promise((function(r,o){var i=null!=n?n:function(e,t){r([e,t])};void 0!==e.__tcfapi?e.__tcfapi(t,2,i):o("__tcfapi is undefined")}))]}))}))).apply(this,arguments)}function oi(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function ii(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function ai(e,t){return ui.apply(this,arguments)}function ui(){var e;return e=function(e,t){var n,r,o,i,a,u;return ii(this,(function(c){switch(c.label){case 0:return n="https://data.dianomi.com/frontend/usync?redirect=https%3A%2F%2Fdata.dianomi.com%2Ffrontend%2Fping%3Fuid%3D%24UID",null!==e&&!0===e&&(n+="&gdpr=1&gdpr_consent="+t),[4,fetch(n)];case 1:return(r=c.sent()).redirected?(o=r.url,i=new URL(o),a=new URLSearchParams(i.search),null===(u=a.get("uid"))?[2,void 0]:[2,u]):[2,void 0]}}))},ui=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){oi(i,r,o,a,u,"next",e)}function u(e){oi(i,r,o,a,u,"throw",e)}a(void 0)}))},ui.apply(this,arguments)}function ci(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function si(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}var li=15552e3,fi="DIANOMI-CLICK-COOKIE",pi="session",di="dnt";function hi(e,t){return yi.apply(this,arguments)}function yi(){var e;return e=function(e,t){var n,r;return si(this,(function(o){switch(o.label){case 0:return _i()?(Si(),document.cookie=fi+"=;Expires=Mon, 1 Jan 1970 00:00:00 GMT",[2]):(function(){var e=localStorage.getItem(fi);if(null!==e){var t=JSON.parse(e).timestamp;if(null!==t){var n=new Date(Date.parse(t));((new Date).getTime()-n.getTime())/1e3>li&&Si()}}}(),n=mi(),void 0!==(r=Oi(n))?[3,2]:[4,ai(e,t)]);case 1:r=o.sent(),o.label=2;case 2:return void 0===r||(function(e){var t="".concat(fi,"=").concat(e,"; max-age=").concat(li);document.cookie=t}(r),void 0===n.localStorageId&&bi(r)),[2]}}))},yi=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ci(i,r,o,a,u,"next",e)}function u(e){ci(i,r,o,a,u,"throw",e)}a(void 0)}))},yi.apply(this,arguments)}function vi(){if(_i())return[];var e=Oi(mi());return void 0===e?[]:{source:"dianomi.com",atype:1,stype:"ppuid",uids:[{id:e,atype:1,ext:{stype:"ppuid"}}]}}function bi(e){var t={id:e,timestamp:(new Date).toISOString()};localStorage.setItem(fi,JSON.stringify(t))}function gi(){var e=localStorage.getItem(fi);if(null!==e){var t=null;try{t=JSON.parse(e)}catch(e){return void console.error("Error parsing localStorage data:",e)}if(null!==t)return bi(t.id),t.id}}function Si(){localStorage.removeItem(fi)}function mi(){return{localStorageId:gi(),firstPartyId:Ei(fi),thirdPartyId:Ei(pi)}}function Oi(e){var t=!0,n=!1,r=void 0;try{for(var o,i=Object.values(e)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(void 0!==a)return a}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}function Ei(e){var t;return null===(t=document.cookie.split("; ").find((function(t){return t.startsWith(e+"=")})))||void 0===t?void 0:t.split("=")[1]}function _i(){var e=Ei(di);return void 0!==e&&""!==e}function wi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ti(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Ii(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pi(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}var Ai=1293,Ni=1;function Ci(e,t){return Ri.apply(this,arguments)}function Ri(){var e;return e=function(e,t){var n,r,o,i,a=arguments;return Pi(this,(function(u){switch(u.label){case 0:return n=a.length>2&&void 0!==a[2]?a[2]:0,e.dnt?[2]:[4,Di(e.dianomiContextHost,t)];case 1:return(r=u.sent())?(o=[],e.identity.id5&&o.push({name:"id5Id",params:{partner:Ai},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}}),e.identity.sharedId&&o.push({name:"sharedId",storage:{type:"cookie",name:"sharedId",expires:90,refreshInSeconds:28800}}),e.identity.dmp&&function(e,t){var n;if(null===e)return!t;if(Ko(e))return!1;if(!e.gdprApplies)return!0;if(!e.vendor.consents[jn.DIANOMI]||!e.purpose.consents[Ni])return!1;var r=!1,o=null==e||null===(n=e.publisher)||void 0===n?void 0:n.restrictions;return o?(Object.entries(o).forEach((function(e){var t=Ii(e,2),n=t[0],o=t[1];if("string"!=typeof o){var i=o[jn.DIANOMI];void 0!==i&&(i===je.NOT_ALLOWED?n===Ni.toString()&&(r=!0):i===je.REQUIRE_LI&&n===Ni.toString()&&(r=!0))}})),!r):!r}(e.tcfPermissions.get_tcData(),e.inGDPR)?[4,hi(e.tcfPermissions.gdpr(),e.tcfPermissions.gdpr_consent())]:[3,3]):[2];case 2:u.sent(),o.push({name:"pubProvidedId",params:{eidsFunction:vi}}),u.label=3;case 3:return i={consentManagement:{gdpr:{cmpApi:"iab",timeout:8e3,defaultGdprScope:e.inGDPR}},debug:!!n,userSync:{userIds:o,auctionDelay:50}},r.setConfig(i),[4,r.getUserIdsAsync()];case 4:return u.sent(),[2,r.getUserIdsAsEids()]}}))},Ri=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ti(i,r,o,a,u,"next",e)}function u(e){Ti(i,r,o,a,u,"throw",e)}a(void 0)}))},Ri.apply(this,arguments)}function Di(e,t){var n=t.frameDocument,r=t.frameWindow;return new Promise((function(t){try{if(null==r?void 0:r.pbjs)return void t(r.pbjs);var o=n.createElement("script");o.src="https://".concat(e,"/js/contextfeed/prebid.js"),n.body.appendChild(o),o.onload=function(){r.pbjs?t(r.pbjs):t(null)},o.onerror=function(){t(null)}}catch(e){t(null)}}))}function ki(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function ji(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function Vi(e){return Li.apply(this,arguments)}function Li(){var e;return e=function(e){var t;return ji(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,Mi(e)];case 1:return[2,n.sent()];case 2:return t=n.sent(),console.error("USP Error: ",t),[2,null];case 3:return[2]}}))},Li=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ki(i,r,o,a,u,"next",e)}function u(e){ki(i,r,o,a,u,"throw",e)}a(void 0)}))},Li.apply(this,arguments)}function Mi(e){return new Promise((function(t,n){var r,o,i,a=function(e){e.__uspapi?e.__uspapi("getUSPData",1,(function(e){(null==e?void 0:e.uspString)?t(e.uspString):n("No USP string present")})):n("No __uspapi on window")},u=Un(e,"__uspapiLocator");if(u)if(u===window&&window.__uspapi)a(window);else{var c=function(e,t){return"function"==typeof e[t]}(e,"__uspapi");c||(o=u,i={},(r=e).__uspapi=function(e,t,n){var r="usp-".concat(e,"-").concat(Math.random()),a={__uspapiCall:{command:e,parameter:"",version:t,callId:r}};i[r]=n,o.postMessage(a,"*")},window.addEventListener("message",(function(e){return V(e,r,"__uspapiReturn")}),!1),r.addEventListener("message",(function(e){return function(e,t){var n=j(e),r=null==n?void 0:n.__uspapiReturn;if(r){var o=t[r.callId];"function"==typeof o&&o(r.returnValue,r.success)}}(e,i)}),!1)),a(e)}else n("No __uspapiLocator frame")}))}function Ui(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xi=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ui(this,"gppVersion",void 0),Ui(this,"cmpStatus",void 0),Ui(this,"cmpDisplayStatus",void 0),Ui(this,"signalStatus",void 0),Ui(this,"supportedAPIs",void 0),Ui(this,"cmpId",void 0),Ui(this,"sectionList",void 0),Ui(this,"applicableSections",void 0),Ui(this,"gppString",void 0),Ui(this,"parsedSections",void 0),this.gppVersion=t.gppVersion,this.cmpStatus=t.cmpStatus,this.cmpDisplayStatus=t.cmpDisplayStatus,this.signalStatus=t.signalStatus,this.supportedAPIs=t.supportedAPIs,this.cmpId=t.cmpId,this.sectionList=t.gppModel.getSectionIds(),this.applicableSections=t.applicableSections,this.gppString=t.gppModel.encode(),this.parsedSections=t.gppModel.toObject()};function Gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bi=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Fi(this,"callback",void 0),Fi(this,"parameter",void 0),Fi(this,"success",!0),Fi(this,"cmpApiContext",void 0),this.cmpApiContext=t,Object.assign(this,{callback:n,parameter:r})}var t,n,r;return t=e,(n=[{key:"execute",value:function(){try{return this.respond()}catch(e){return this.invokeCallback(null),null}}},{key:"invokeCallback",value:function(e){var t=null!==e;this.callback&&this.callback(e,t)}}])&&Gi(t.prototype,n),r&&Gi(t,r),e}();function Hi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wi(e){return Wi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Wi(e)}function zi(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yi(e,t){return Yi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Yi(e,t)}function Ki(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wi(e);if(t){var o=Wi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zi(this,n)}}var Qi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yi(e,t)}(i,e);var t,n,r,o=Ki(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"respond",value:function(){var e=new xi(this.cmpApiContext);this.invokeCallback(e)}}])&&Hi(t.prototype,n),r&&Hi(t,r),i}(Bi);function qi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ji(e){return Ji=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ji(e)}function Xi(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $i(e,t){return $i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},$i(e,t)}function Zi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ji(e);if(t){var o=Ji(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xi(this,n)}}var ea=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$i(e,t)}(i,e);var t,n,r,o=Zi(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"respond",value:function(){if(!this.parameter||0===this.parameter.length)throw new Error("<section>.<field> parameter required");var e=this.parameter.split(".");if(2!=e.length)throw new Error("Field name must be in the format <section>.<fieldName>");var t=e[0],n=e[1],r=this.cmpApiContext.gppModel.getFieldValue(t,n);this.invokeCallback(r)}}])&&qi(t.prototype,n),r&&qi(t,r),i}(Bi);function ta(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function na(e){return na=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},na(e)}function ra(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oa(e,t){return oa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},oa(e,t)}function ia(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na(e);if(t){var o=na(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ra(this,n)}}var aa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oa(e,t)}(i,e);var t,n,r,o=ia(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"respond",value:function(){if(!this.parameter||0===this.parameter.length)throw new Error("<section> parameter required");var e=null;this.cmpApiContext.gppModel.hasSection(this.parameter)&&(e=this.cmpApiContext.gppModel.getSection(this.parameter)),this.invokeCallback(e)}}])&&ta(t.prototype,n),r&&ta(t,r),i}(Bi);function ua(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ca(e){return ca=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ca(e)}function sa(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function la(e,t){return la=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},la(e,t)}function fa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ca(e);if(t){var o=ca(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sa(this,n)}}var pa,da=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&la(e,t)}(i,e);var t,n,r,o=fa(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"respond",value:function(){if(!this.parameter||0===this.parameter.length)throw new Error("<section>[.version] parameter required");var e=this.cmpApiContext.gppModel.hasSection(this.parameter);this.invokeCallback(e)}}])&&ua(t.prototype,n),r&&ua(t,r),i}(Bi);function ha(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.ADD_EVENT_LISTENER="addEventListener",e.GET_FIELD="getField",e.GET_SECTION="getSection",e.HAS_SECTION="hasSection",e.PING="ping",e.REMOVE_EVENT_LISTENER="removeEventListener"}(pa||(pa={}));var ya=function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ha(this,"eventName",void 0),ha(this,"listenerId",void 0),ha(this,"data",void 0),ha(this,"pingData",void 0),this.eventName=t,this.listenerId=n,this.data=r,this.pingData=o};function va(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ba(e){return ba=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ba(e)}function ga(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Sa(e,t){return Sa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Sa(e,t)}function ma(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ba(e);if(t){var o=ba(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ga(this,n)}}var Oa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sa(e,t)}(i,e);var t,n,r,o=ma(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"respond",value:function(){var e=this.cmpApiContext.eventQueue.add({callback:this.callback,parameter:this.parameter}),t=new ya("listenerRegistered",e,!0,new xi(this.cmpApiContext));this.invokeCallback(t)}}])&&va(t.prototype,n),r&&va(t,r),i}(Bi);function Ea(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _a(e){return _a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_a(e)}function wa(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ta(e,t){return Ta=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ta(e,t)}function Ia(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_a(e);if(t){var o=_a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wa(this,n)}}var Pa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ta(e,t)}(i,e);var t,n,r,o=Ia(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"respond",value:function(){var e=this.parameter,t=this.cmpApiContext.eventQueue.remove(e),n=new ya("listenerRemoved",e,t,new xi(this.cmpApiContext));this.invokeCallback(n)}}])&&Ea(t.prototype,n),r&&Ea(t,r),i}(Bi);function Aa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Na,Ca,Ra,Da,ka=pa.ADD_EVENT_LISTENER,ja=pa.GET_FIELD,Va=pa.GET_SECTION,La=pa.HAS_SECTION,Ma=pa.PING,Ua=pa.REMOVE_EVENT_LISTENER,xa=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};function Ga(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ba(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ha(e){return function(e){if(Array.isArray(e))return Ga(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ga(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ga(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Aa(xa,ka,Oa),Aa(xa,ja,ea),Aa(xa,Va,aa),Aa(xa,La,da),Aa(xa,Ma,Qi),Aa(xa,Ua,Pa),function(e){e.STUB="stub",e.LOADING="loading",e.LOADED="loaded",e.ERROR="error"}(Na||(Na={})),function(e){e.VISIBLE="visible",e.HIDDEN="hidden",e.DISABLED="disabled"}(Ca||(Ca={})),function(e){e.GPP_LOADED="gpploaded",e.CMP_UI_SHOWN="cmpuishown",e.USER_ACTION_COMPLETE="useractioncomplete"}(Ra||(Ra={})),function(e){e.NOT_READY="not ready",e.READY="ready"}(Da||(Da={}));var Wa=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ba(this,"callQueue",void 0),Ba(this,"customCommands",void 0),Ba(this,"cmpApiContext",void 0),this.cmpApiContext=t,n){var r=pa.ADD_EVENT_LISTENER;if(null==n?void 0:n[r])throw new Error("Built-In Custom Commmand for ".concat(r," not allowed"));if(r=pa.REMOVE_EVENT_LISTENER,null==n?void 0:n[r])throw new Error("Built-In Custom Commmand for ".concat(r," not allowed"));this.customCommands=n}try{this.callQueue=window.__gpp()||[]}catch(e){this.callQueue=[]}finally{window.__gpp=this.apiCall.bind(this),this.purgeQueuedCalls()}}var t,n,r;return t=e,(n=[{key:"apiCall",value:function(e,t,n,r){if("string"!=typeof e)t(null,!1);else{if(t&&"function"!=typeof t)throw new Error("invalid callback function");this.isCustomCommand(e)?this.customCommands[e](t,n):this.isBuiltInCommand(e)?new xa[e](this.cmpApiContext,t,n).execute():t&&t(null,!1)}}},{key:"purgeQueuedCalls",value:function(){var e=this.callQueue;this.callQueue=[],e.forEach((function(e){var t;(t=window).__gpp.apply(t,Ha(e))}))}},{key:"isCustomCommand",value:function(e){return this.customCommands&&"function"==typeof this.customCommands[e]}},{key:"isBuiltInCommand",value:function(e){return void 0!==xa[e]}}])&&Fa(t.prototype,n),r&&Fa(t,r),e}();function za(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ya(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ka=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ya(this,"eventQueue",new Map),Ya(this,"queueNumber",1e3),Ya(this,"cmpApiContext",void 0),this.cmpApiContext=t;try{for(var n=window.__gpp("events")||[],r=0;r<n.length;r++){var o=n[r];this.eventQueue.set(o.id,{callback:o.callback,parameter:o.parameter})}}catch(e){console.log(e)}}var t,n,r;return t=e,(n=[{key:"add",value:function(e){return this.eventQueue.set(this.queueNumber,e),this.queueNumber++}},{key:"get",value:function(e){return this.eventQueue.get(e)}},{key:"remove",value:function(e){return this.eventQueue.delete(e)}},{key:"exec",value:function(e,t){var n=this;this.eventQueue.forEach((function(r,o){var i=new ya(e,o,t,new xi(n.cmpApiContext));r.callback(i,!0)}))}},{key:"clear",value:function(){this.queueNumber=1e3,this.eventQueue.clear()}},{key:"size",get:function(){return this.eventQueue.size}}])&&za(t.prototype,n),r&&za(t,r),e}();function Qa(e,t,n){return Qa=Za()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Xa(o,n.prototype),o},Qa.apply(null,arguments)}function qa(e){return qa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qa(e)}function Ja(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xa(e,t){return Xa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Xa(e,t)}function $a(e){var t="function"==typeof Map?new Map:void 0;return $a=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Qa(e,arguments,qa(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Xa(r,e)},$a(e)}function Za(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var eu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xa(e,t)}(o,e);var t,n,r=(t=o,n=Za(),function(){var e,r=qa(t);if(n){var o=qa(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Ja(this,e)});function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).name="DecodingError",t}return o}($a(Error));function tu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var nu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"encode",value:function(e,t){var n=[];if(e>=1)for(n.push(1);e>=2*n[0];)n.unshift(2*n[0]);for(var r="",o=0;o<n.length;o++){var i=n[o];e>=i?(r+="1",e-=i):r+="0"}for(;r.length<t;)r="0"+r;return r}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e))throw new eu("Undecodable FixedInteger '"+e+"'");for(var t=0,n=[],r=0;r<e.length;r++)n[e.length-(r+1)]=0===r?1:2*n[e.length-r];for(var o=0;o<e.length;o++)"1"===e.charAt(o)&&(t+=n[o]);return t}}],(n=null)&&tu(t.prototype,n),r&&tu(t,r),e}();function ru(e,t,n){return ru=cu()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&au(o,n.prototype),o},ru.apply(null,arguments)}function ou(e){return ou=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ou(e)}function iu(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function au(e,t){return au=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},au(e,t)}function uu(e){var t="function"==typeof Map?new Map:void 0;return uu=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return ru(e,arguments,ou(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),au(r,e)},uu(e)}function cu(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var su=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&au(e,t)}(o,e);var t,n,r=(t=o,n=cu(),function(){var e,r=ou(t);if(n){var o=ou(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return iu(this,e)});function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).name="EncodingError",t}return o}(uu(Error));function lu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"encode",value:function(t){if(!/^[0-1]*$/.test(t))throw new su("Unencodable Base64Url '"+t+"'");t=this.pad(t);for(var n="",r=0;r<=t.length-6;){var o=t.substring(r,r+6);try{var i=nu.decode(o);n+=e.DICT.charAt(i),r+=6}catch(e){throw new su("Unencodable Base64Url '"+t+"'")}}return n}},{key:"decode",value:function(t){if(!/^[A-Za-z0-9\-_]*$/.test(t))throw new eu("Undecodable Base64URL string");for(var n="",r=0;r<t.length;r++){var o=t.charAt(r),i=e.REVERSE_DICT.get(o);n+=nu.encode(i,6)}return n}}])&&lu(t.prototype,n),r&&lu(t,r),e}();function du(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hu(e){return hu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hu(e)}function yu(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vu(e,t){return vu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},vu(e,t)}function bu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hu(e);if(t){var o=hu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yu(this,n)}}fu(pu,"DICT","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),fu(pu,"REVERSE_DICT",new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]]));var gu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vu(e,t)}(i,e);var t,n,r,o=bu(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"pad",value:function(e){for(;e.length%8>0;)e+="0";for(;e.length%6>0;)e+="0";return e}}])&&du(t.prototype,n),r&&du(t,r),i}(pu);function Su(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var mu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"encode",value:function(e){var t=[];if(e>=1&&(t.push(1),e>=2)){t.push(2);for(var n=2;e>=t[n-1]+t[n-2];)t.push(t[n-1]+t[n-2]),n++}for(var r="1",o=t.length-1;o>=0;o--){var i=t[o];e>=i?(r="1"+r,e-=i):r="0"+r}return r}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e)||e.length<2||e.indexOf("11")!==e.length-2)throw new eu("Undecodable FibonacciInteger '"+e+"'");for(var t=0,n=[],r=0;r<e.length-1;r++)0===r?n.push(1):1===r?n.push(2):n.push(n[r-1]+n[r-2]);for(var o=0;o<e.length-1;o++)"1"===e.charAt(o)&&(t+=n[o]);return t}}],(n=null)&&Su(t.prototype,n),r&&Su(t,r),e}();function Ou(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Eu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"encode",value:function(e){if(!0===e)return"1";if(!1===e)return"0";throw new su("Unencodable Boolean '"+e+"'")}},{key:"decode",value:function(e){if("1"===e)return!0;if("0"===e)return!1;throw new eu("Undecodable Boolean '"+e+"'")}}],(n=null)&&Ou(t.prototype,n),r&&Ou(t,r),e}();function _u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var wu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"encode",value:function(e){e=e.sort((function(e,t){return e-t}));for(var t=[],n=0,r=0;r<e.length;){for(var o=r;o<e.length-1&&e[o]+1===e[o+1];)o++;t.push(e.slice(r,o+1)),r=o+1}for(var i=nu.encode(t.length,12),a=0;a<t.length;a++)if(1==t[a].length){var u=t[a][0]-n;n=t[a][0],i+="0"+mu.encode(u)}else{var c=t[a][0]-n;n=t[a][0];var s=t[a][t[a].length-1]-n;n=t[a][t[a].length-1],i+="1"+mu.encode(c)+mu.encode(s)}return i}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e)||e.length<12)throw new eu("Undecodable FibonacciIntegerRange '"+e+"'");for(var t=[],n=nu.decode(e.substring(0,12)),r=0,o=12,i=0;i<n;i++){var a=Eu.decode(e.substring(o,o+1));if(o++,!0===a){var u=e.indexOf("11",o),c=mu.decode(e.substring(o,u+2))+r;r=c,o=u+2,u=e.indexOf("11",o);var s=mu.decode(e.substring(o,u+2))+r;r=s,o=u+2;for(var l=c;l<=s;l++)t.push(l)}else{var f=e.indexOf("11",o),p=mu.decode(e.substring(o,f+2))+r;r=p,t.push(p),o=f+2}}return t}}],(n=null)&&_u(t.prototype,n),r&&_u(t,r),e}();function Tu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Iu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"value",void 0)}var t,n,r;return t=e,n=[{key:"hasValue",value:function(){return void 0!==this.value&&null!==this.value}},{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(e){this.value=e}}],n&&Tu(t.prototype,n),r&&Tu(t,r),e}();function Pu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Au(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nu(e,t,n){return Nu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Cu(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n||e):o.value}},Nu(e,t,n||e)}function Cu(e){return Cu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Cu(e)}function Ru(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Du(e,t){return Du=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Du(e,t)}function ku(e){return function(e){if(Array.isArray(e))return Pu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Pu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pu(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ju(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Cu(e);if(t){var o=Cu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ru(this,n)}}var Vu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Du(e,t)}(i,e);var t,n,r,o=ju(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).setValue(e),t}return t=i,n=[{key:"encode",value:function(){return wu.encode(this.value)}},{key:"decode",value:function(e){this.value=wu.decode(e)}},{key:"substring",value:function(e,t){for(var n=nu.decode(e.substring(t,t+12)),r=t+12,o=0;o<n;o++)r="1"===e.charAt(r)?e.indexOf("11",e.indexOf("11",r+1)+2)+2:e.indexOf("11",r+1)+2;return e.substring(t,r)}},{key:"getValue",value:function(){return ku(Nu(Cu(i.prototype),"getValue",this).call(this))}},{key:"setValue",value:function(e){Nu(Cu(i.prototype),"setValue",this).call(this,Array.from(new Set(e)).sort((function(e,t){return e-t})))}}],n&&Au(t.prototype,n),r&&Au(t,r),i}(Iu);function Lu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uu(e){return Uu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Uu(e)}function xu(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?Lu(e):t}function Gu(e,t){return Gu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Gu(e,t)}function Fu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Uu(e);if(t){var o=Uu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xu(this,n)}}var Bu,Hu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gu(e,t)}(i,e);var t,n,r,o=Fu(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Lu(n=o.call(this)),"bitStringLength",void 0),n.bitStringLength=e,n.setValue(t),n}return t=i,(n=[{key:"encode",value:function(){return nu.encode(this.value,this.bitStringLength)}},{key:"decode",value:function(e){this.value=nu.decode(e)}},{key:"substring",value:function(e,t){return e.substring(t,t+this.bitStringLength)}}])&&Mu(t.prototype,n),r&&Mu(t,r),i}(Iu);function Wu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.ID="Id",e.VERSION="Version",e.SECTION_IDS="SectionIds"}(Bu||(Bu={}));var Yu=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),zu(this,"fields",void 0),zu(this,"fieldOrder",void 0),this.fields=t,this.fieldOrder=n}var t,n,r;return t=e,n=[{key:"hasField",value:function(e){return this.fields.has(e)}},{key:"getFieldValue",value:function(e){return this.fields.has(e)?this.fields.get(e).getValue():null}},{key:"setFieldValue",value:function(e,t){if(!this.fields.has(e))throw new Error(e+" not found");this.fields.get(e).setValue(t)}},{key:"getFieldOrder",value:function(){return this.fieldOrder}},{key:"encodeToBitString",value:function(){for(var e="",t=0;t<this.fieldOrder.length;t++){var n=this.fieldOrder[t];if(!this.fields.has(n))throw new Error("Field not found: '"+n+"'");e+=this.fields.get(n).encode()}return e}},{key:"decodeFromBitString",value:function(e){for(var t=0,n=0;n<this.fieldOrder.length;n++){var r=this.fieldOrder[n];if(!this.fields.has(r))throw new Error("Field not found: '"+r+"'");var o=this.fields.get(r),i=o.substring(e,t);o.decode(i),t+=i.length}}},{key:"toObj",value:function(){for(var e={},t=0;t<this.fieldOrder.length;t++){var n=this.fieldOrder[t];if(this.fields.has(n)){var r=this.fields.get(n).getValue();e[n]=r}}return e}}],n&&Wu(t.prototype,n),r&&Wu(t,r),e}();function Ku(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ju(e){return Ju=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ju(e)}function Xu(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?Ku(e):t}function $u(e,t){return $u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},$u(e,t)}function Zu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ju(e);if(t){var o=Ju(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xu(this,n)}}var ec=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$u(e,t)}(i,e);var t,n,r,o=Zu(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=new Map;n.set(Bu.ID.toString(),new Hu(6,i.ID)),n.set(Bu.VERSION.toString(),new Hu(6,i.VERSION)),n.set(Bu.SECTION_IDS.toString(),new Vu([]));var r=[Bu.ID.toString(),Bu.VERSION.toString(),Bu.SECTION_IDS.toString()];return qu(Ku(t=o.call(this,n,r)),"base64UrlEncoder",new gu),e&&e.length>0&&t.decode(e),t}return t=i,(n=[{key:"encode",value:function(){var e=this.encodeToBitString();return this.base64UrlEncoder.encode(e)}},{key:"decode",value:function(e){var t=this.base64UrlEncoder.decode(e);this.decodeFromBitString(t)}},{key:"getId",value:function(){return i.ID}},{key:"getName",value:function(){return i.NAME}}])&&Qu(t.prototype,n),r&&Qu(t,r),i}(Yu);function tc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nc(e){return nc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},nc(e)}function rc(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oc(e,t){return oc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},oc(e,t)}function ic(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=nc(e);if(t){var o=nc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rc(this,n)}}qu(ec,"ID",3),qu(ec,"VERSION",1),qu(ec,"NAME","header");var ac=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oc(e,t)}(i,e);var t,n,r,o=ic(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).setValue(e),t}return t=i,(n=[{key:"encode",value:function(){return Eu.encode(this.value)}},{key:"decode",value:function(e){this.value=Eu.decode(e)}},{key:"substring",value:function(e,t){return e.substring(t,t+1)}}])&&tc(t.prototype,n),r&&tc(t,r),i}(Iu);function uc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var cc=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"encode",value:function(e){return e?nu.encode(Math.round(e.getTime()/100),36):nu.encode(0,36)}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e)||36!==e.length)throw new eu("Undecodable Datetime '"+e+"'");return new Date(100*nu.decode(e))}}],(n=null)&&uc(t.prototype,n),r&&uc(t,r),e}();function sc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lc(e){return lc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},lc(e)}function fc(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pc(e,t){return pc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},pc(e,t)}function dc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=lc(e);if(t){var o=lc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fc(this,n)}}var hc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pc(e,t)}(i,e);var t,n,r,o=dc(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).setValue(e),t}return t=i,(n=[{key:"encode",value:function(){return cc.encode(this.value)}},{key:"decode",value:function(e){this.value=cc.decode(e)}},{key:"substring",value:function(e,t){return e.substring(t,t+36)}}])&&sc(t.prototype,n),r&&sc(t,r),i}(Iu);function yc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var vc=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"encode",value:function(e,t){for(var n="",r=0;r<e.length;r++)n+=Eu.encode(e[r]);for(;n.length<t;)n+="0";return n}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e))throw new eu("Undecodable FixedBitfield '"+e+"'");for(var t=[],n=0;n<e.length;n++)t.push(Eu.decode(e.substring(n,n+1)));return t}}],(n=null)&&yc(t.prototype,n),r&&yc(t,r),e}();function bc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mc(e,t,n){return mc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Oc(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n||e):o.value}},mc(e,t,n||e)}function Oc(e){return Oc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Oc(e)}function Ec(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?gc(e):t}function _c(e,t){return _c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_c(e,t)}function wc(e){return function(e){if(Array.isArray(e))return bc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return bc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Oc(e);if(t){var o=Oc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ec(this,n)}}var Ic=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_c(e,t)}(i,e);var t,n,r,o=Tc(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(gc(n=o.call(this)),"getLength",void 0),n.getLength=e,n.setValue(t),n}return t=i,n=[{key:"encode",value:function(){return vc.encode(this.value,this.getLength())}},{key:"decode",value:function(e){this.value=vc.decode(e)}},{key:"substring",value:function(e,t){return e.substring(t,t+this.getLength())}},{key:"getValue",value:function(){return wc(mc(Oc(i.prototype),"getValue",this).call(this))}},{key:"setValue",value:function(e){for(var t=this.getLength(),n=wc(e),r=n.length;r<t;r++)n.push(!1);n.length>t&&(n=n.slice(0,t)),mc(Oc(i.prototype),"setValue",this).call(this,wc(n))}}],n&&Sc(t.prototype,n),r&&Sc(t,r),i}(Iu);function Pc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ac(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cc(e,t,n){return Cc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Rc(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n||e):o.value}},Cc(e,t,n||e)}function Rc(e){return Rc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Rc(e)}function Dc(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?Ac(e):t}function kc(e,t){return kc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},kc(e,t)}function jc(e){return function(e){if(Array.isArray(e))return Pc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Pc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Rc(e);if(t){var o=Rc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dc(this,n)}}var Lc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kc(e,t)}(i,e);var t,n,r,o=Vc(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Ac(t=o.call(this)),"numElements",void 0),t.numElements=e.length,t.setValue(e),t}return t=i,n=[{key:"encode",value:function(){return vc.encode(this.value,this.numElements)}},{key:"decode",value:function(e){this.value=vc.decode(e)}},{key:"substring",value:function(e,t){return e.substring(t,t+this.numElements)}},{key:"getValue",value:function(){return jc(Cc(Rc(i.prototype),"getValue",this).call(this))}},{key:"setValue",value:function(e){for(var t=jc(e),n=t.length;n<this.numElements;n++)t.push(!1);t.length>this.numElements&&(t=t.slice(0,this.numElements)),Cc(Rc(i.prototype),"setValue",this).call(this,t)}}],n&&Nc(t.prototype,n),r&&Nc(t,r),i}(Iu);function Mc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Uc=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"encode",value:function(e,t){for(;e.length<t;)e+=" ";for(var n="",r=0;r<e.length;r++){var o=e.charCodeAt(r);if(32===o)n+=nu.encode(63,6);else{if(!(o>=65))throw new su("Unencodable FixedString '"+e+"'");n+=nu.encode(e.charCodeAt(r)-65,6)}}return n}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e)||e.length%6!=0)throw new eu("Undecodable FixedString '"+e+"'");for(var t="",n=0;n<e.length;n+=6){var r=nu.decode(e.substring(n,n+6));t+=63===r?" ":String.fromCharCode(r+65)}return t.trim()}}],(n=null)&&Mc(t.prototype,n),r&&Mc(t,r),e}();function xc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fc(e){return Fc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fc(e)}function Bc(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?xc(e):t}function Hc(e,t){return Hc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Hc(e,t)}function Wc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fc(e);if(t){var o=Fc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bc(this,n)}}var zc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hc(e,t)}(i,e);var t,n,r,o=Wc(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(xc(n=o.call(this)),"stringLength",void 0),n.stringLength=e,n.setValue(t),n}return t=i,(n=[{key:"encode",value:function(){return Uc.encode(this.value,this.stringLength)}},{key:"decode",value:function(e){this.value=Uc.decode(e)}},{key:"substring",value:function(e,t){return e.substring(t,t+6*this.stringLength)}}])&&Gc(t.prototype,n),r&&Gc(t,r),i}(Iu);function Yc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qc=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Kc(this,"fields",void 0),Kc(this,"segments",void 0),this.fields=t,this.segments=n}var t,n,r;return t=e,n=[{key:"hasField",value:function(e){return this.fields.has(e)}},{key:"getFieldValue",value:function(e){return this.fields.has(e)?this.fields.get(e).getValue():null}},{key:"setFieldValue",value:function(e,t){if(!this.fields.has(e))throw new Error(e+" not found");this.fields.get(e).setValue(t)}},{key:"getSegments",value:function(){return this.segments}},{key:"encodeSegmentsToBitStrings",value:function(){for(var e=[],t=0;t<this.segments.length;t++){for(var n="",r=0;r<this.segments[t].length;r++){var o=this.segments[t][r];if(!this.fields.has(o))throw new Error("Field not found: '"+o+"'");try{n+=this.fields.get(o).encode()}catch(e){throw new Error("Unable to encode "+o)}}e.push(n)}return e}},{key:"decodeSegmentsFromBitStrings",value:function(e){for(var t=0;t<this.segments.length&&t<e.length;t++){var n=e[t];if(n&&n.length>0)for(var r=0,o=0;o<this.segments[t].length;o++){var i=this.segments[t][o];if(!this.fields.has(i))throw new Error("Field not found: '"+i+"'");try{var a=this.fields.get(i),u=a.substring(n,r);a.decode(u),r+=u.length}catch(e){throw new Error("Unable to decode "+i)}}}}},{key:"toObj",value:function(){for(var e={},t=0;t<this.segments.length;t++)for(var n=0;n<this.segments[t].length;n++){var r=this.segments[t][n];if(this.fields.has(r)){var o=this.fields.get(r).getValue();e[r]=o}}return e}}],n&&Yc(t.prototype,n),r&&Yc(t,r),e}();function qc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Jc=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"encode",value:function(e){e.sort((function(e,t){return e-t}));for(var t=[],n=0;n<e.length;){for(var r=n;r<e.length-1&&e[r]+1===e[r+1];)r++;t.push(e.slice(n,r+1)),n=r+1}for(var o=nu.encode(t.length,12),i=0;i<t.length;i++)1===t[i].length?o+="0"+nu.encode(t[i][0],16):o+="1"+nu.encode(t[i][0],16)+nu.encode(t[i][t[i].length-1],16);return o}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e)||e.length<12)throw new eu("Undecodable FixedIntegerRange '"+e+"'");for(var t=[],n=nu.decode(e.substring(0,12)),r=12,o=0;o<n;o++){var i=Eu.decode(e.substring(r,r+1));if(r++,!0===i){var a=nu.decode(e.substring(r,r+16));r+=16;var u=nu.decode(e.substring(r,r+16));r+=16;for(var c=a;c<=u;c++)t.push(c)}else{var s=nu.decode(e.substring(r,r+16));t.push(s),r+=16}}return t}}],(n=null)&&qc(t.prototype,n),r&&qc(t,r),e}();function Xc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zc(e,t,n){return Zc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=es(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n||e):o.value}},Zc(e,t,n||e)}function es(e){return es=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},es(e)}function ts(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ns(e,t){return ns=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ns(e,t)}function rs(e){return function(e){if(Array.isArray(e))return Xc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Xc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function os(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=es(e);if(t){var o=es(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ts(this,n)}}var is=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ns(e,t)}(i,e);var t,n,r,o=os(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).setValue(e),t}return t=i,n=[{key:"encode",value:function(){return Jc.encode(this.value)}},{key:"decode",value:function(e){this.value=Jc.decode(e)}},{key:"substring",value:function(e,t){for(var n=nu.decode(e.substring(t,t+12)),r=t+12,o=0;o<n;o++)"1"===e.charAt(r)?r+=33:r+=17;return e.substring(t,r)}},{key:"getValue",value:function(){return rs(Zc(es(i.prototype),"getValue",this).call(this))}},{key:"setValue",value:function(e){Zc(es(i.prototype),"setValue",this).call(this,Array.from(new Set(e)).sort((function(e,t){return e-t})))}}],n&&$c(t.prototype,n),r&&$c(t,r),i}(Iu);function as(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function us(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cs(e,t,n){return cs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ss(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n||e):o.value}},cs(e,t,n||e)}function ss(e){return ss=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ss(e)}function ls(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fs(e,t){return fs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},fs(e,t)}function ps(e){return function(e){if(Array.isArray(e))return as(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return as(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return as(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ds(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ss(e);if(t){var o=ss(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ls(this,n)}}var hs,ys=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fs(e,t)}(i,e);var t,n,r,o=ds(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).setValue(e),t}return t=i,n=[{key:"encode",value:function(){var e=this.value.length>0?this.value[this.value.length-1]:0,t=Jc.encode(this.value),n=e;if(t.length<=n)return nu.encode(e,16)+"1"+t;for(var r=[],o=0,i=0;i<e;i++)i===this.value[o]-1?(r[i]=!0,o++):r[i]=!1;return nu.encode(e,16)+"0"+vc.encode(r,n)}},{key:"decode",value:function(e){if("1"===e.charAt(16))this.value=Jc.decode(e.substring(17));else{for(var t=[],n=vc.decode(e.substring(17)),r=0;r<n.length;r++)!0===n[r]&&t.push(r+1);this.value=t}}},{key:"substring",value:function(e,t){var n=nu.decode(e.substring(t,t+16));return"1"===e.charAt(t+16)?e.substring(t,t+17)+new is([]).substring(e,t+17):e.substring(t,t+17+n)}},{key:"getValue",value:function(){return ps(cs(ss(i.prototype),"getValue",this).call(this))}},{key:"setValue",value:function(e){cs(ss(i.prototype),"setValue",this).call(this,Array.from(new Set(e)).sort((function(e,t){return e-t})))}}],n&&us(t.prototype,n),r&&us(t,r),i}(Iu);function vs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bs(e){return bs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},bs(e)}function gs(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ss(e,t){return Ss=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ss(e,t)}function ms(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bs(e);if(t){var o=bs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gs(this,n)}}!function(e){e.VERSION="Version",e.CREATED="Created",e.LAST_UPDATED="LastUpdated",e.CMP_ID="CmpId",e.CMP_VERSION="CmpVersion",e.CONSENT_SCREEN="ConsentScreen",e.CONSENT_LANGUAGE="ConsentLanguage",e.VENDOR_LIST_VERSION="VendorListVersion",e.POLICY_VERSION="PolicyVersion",e.IS_SERVICE_SPECIFIC="IsServiceSpecific",e.USE_NON_STANDARD_STACKS="UseNonStandardStacks",e.SPECIAL_FEATURE_OPTINS="SpecialFeatureOptins",e.PURPOSE_CONSENTS="PurposeConsents",e.PURPOSE_LEGITIMATE_INTERESTS="PurposeLegitimateInterests",e.PURPOSE_ONE_TREATMENT="PurposeOneTreatment",e.PUBLISHER_COUNTRY_CODE="PublisherCountryCode",e.VENDOR_CONSENTS="VendorConsents",e.VENDOR_LEGITIMATE_INTERESTS="VendorLegitimateInterests",e.PUBLISHER_RESTRICTIONS="PublisherRestrictions",e.PUBLISHER_PURPOSES_SEGMENT_TYPE="PublisherPurposesSegmentType",e.PUBLISHER_CONSENTS="PublisherConsents",e.PUBLISHER_LEGITIMATE_INTERESTS="PublisherLegitimateInterests",e.NUM_CUSTOM_PURPOSES="NumCustomPurposes",e.PUBLISHER_CUSTOM_CONSENTS="PublisherCustomConsents",e.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS="PublisherCustomLegitimateInterests",e.VENDORS_ALLOWED_SEGMENT_TYPE="VendorsAllowedSegmentType",e.VENDORS_ALLOWED="VendorsAllowed",e.VENDORS_DISCLOSED_SEGMENT_TYPE="VendorsDisclosedSegmentType",e.VENDORS_DISCLOSED="VendorsDisclosed"}(hs||(hs={}));var Os=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ss(e,t)}(i,e);var t,n,r,o=ms(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"pad",value:function(e){for(;e.length%24>0;)e+="0";return e}}])&&vs(t.prototype,n),r&&vs(t,r),i}(pu);function Es(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ws(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ts(e,t,n){return Ts="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Is(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n||e):o.value}},Ts(e,t,n||e)}function Is(e){return Is=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Is(e)}function Ps(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?Es(e):t}function As(e,t){return As=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},As(e,t)}function Ns(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Is(e);if(t){var o=Is(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ps(this,n)}}var Cs,Rs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&As(e,t)}(i,e);var t,n,r,o=Ns(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=new Map,r=new Date;n.set(hs.VERSION.toString(),new Hu(6,i.VERSION)),n.set(hs.CREATED.toString(),new hc(r)),n.set(hs.LAST_UPDATED.toString(),new hc(r)),n.set(hs.CMP_ID.toString(),new Hu(12,0)),n.set(hs.CMP_VERSION.toString(),new Hu(12,0)),n.set(hs.CONSENT_SCREEN.toString(),new Hu(6,0)),n.set(hs.CONSENT_LANGUAGE.toString(),new zc(2,"EN")),n.set(hs.VENDOR_LIST_VERSION.toString(),new Hu(12,0)),n.set(hs.POLICY_VERSION.toString(),new Hu(6,2)),n.set(hs.IS_SERVICE_SPECIFIC.toString(),new ac(!1)),n.set(hs.USE_NON_STANDARD_STACKS.toString(),new ac(!1)),n.set(hs.SPECIAL_FEATURE_OPTINS.toString(),new Lc([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),n.set(hs.PURPOSE_CONSENTS.toString(),new Lc([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),n.set(hs.PURPOSE_LEGITIMATE_INTERESTS.toString(),new Lc([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),n.set(hs.PURPOSE_ONE_TREATMENT.toString(),new ac(!1)),n.set(hs.PUBLISHER_COUNTRY_CODE.toString(),new zc(2,"AA")),n.set(hs.VENDOR_CONSENTS.toString(),new ys([])),n.set(hs.VENDOR_LEGITIMATE_INTERESTS.toString(),new ys([])),n.set(hs.PUBLISHER_RESTRICTIONS.toString(),new is([])),n.set(hs.PUBLISHER_PURPOSES_SEGMENT_TYPE.toString(),new Hu(3,3)),n.set(hs.PUBLISHER_CONSENTS.toString(),new Lc([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),n.set(hs.PUBLISHER_LEGITIMATE_INTERESTS.toString(),new Lc([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]));var a=new Hu(6,0);n.set(hs.NUM_CUSTOM_PURPOSES.toString(),a),n.set(hs.PUBLISHER_CUSTOM_CONSENTS.toString(),new Ic((function(){return a.getValue()}),[])),n.set(hs.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS.toString(),new Ic((function(){return a.getValue()}),[])),n.set(hs.VENDORS_ALLOWED_SEGMENT_TYPE.toString(),new Hu(3,2)),n.set(hs.VENDORS_ALLOWED.toString(),new ys([])),n.set(hs.VENDORS_DISCLOSED_SEGMENT_TYPE.toString(),new Hu(3,1)),n.set(hs.VENDORS_DISCLOSED.toString(),new ys([]));var u=[[hs.VERSION.toString(),hs.CREATED.toString(),hs.LAST_UPDATED.toString(),hs.CMP_ID.toString(),hs.CMP_VERSION.toString(),hs.CONSENT_SCREEN.toString(),hs.CONSENT_LANGUAGE.toString(),hs.VENDOR_LIST_VERSION.toString(),hs.POLICY_VERSION.toString(),hs.IS_SERVICE_SPECIFIC.toString(),hs.USE_NON_STANDARD_STACKS.toString(),hs.SPECIAL_FEATURE_OPTINS.toString(),hs.PURPOSE_CONSENTS.toString(),hs.PURPOSE_LEGITIMATE_INTERESTS.toString(),hs.PURPOSE_ONE_TREATMENT.toString(),hs.PUBLISHER_COUNTRY_CODE.toString(),hs.VENDOR_CONSENTS.toString(),hs.VENDOR_LEGITIMATE_INTERESTS.toString(),hs.PUBLISHER_RESTRICTIONS.toString()],[hs.PUBLISHER_PURPOSES_SEGMENT_TYPE.toString(),hs.PUBLISHER_CONSENTS.toString(),hs.PUBLISHER_LEGITIMATE_INTERESTS.toString(),hs.NUM_CUSTOM_PURPOSES.toString(),hs.PUBLISHER_CUSTOM_CONSENTS.toString(),hs.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS.toString()],[hs.VENDORS_ALLOWED_SEGMENT_TYPE.toString(),hs.VENDORS_ALLOWED.toString()],[hs.VENDORS_DISCLOSED_SEGMENT_TYPE.toString(),hs.VENDORS_DISCLOSED.toString()]];return ws(Es(t=o.call(this,n,u)),"base64UrlEncoder",new Os),e&&e.length>0&&t.decode(e),t}return t=i,n=[{key:"encode",value:function(){var e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),this.getFieldValue(hs.IS_SERVICE_SPECIFIC.toString())?e[1]&&e[1].length>0&&t.push(this.base64UrlEncoder.encode(e[1])):(e[2]&&e[2].length>0&&t.push(this.base64UrlEncoder.encode(e[2])),e[3]&&e[3].length>0&&t.push(this.base64UrlEncoder.encode(e[3]))),t.join(".")}},{key:"decode",value:function(e){for(var t=e.split("."),n=[],r=0;r<t.length;r++){var o=this.base64UrlEncoder.decode(t[r]);switch(o.substring(0,3)){case"000":n[0]=o;break;case"001":n[3]=o;break;case"010":n[2]=o;break;case"011":n[1]=o;break;default:throw new eu("Unable to decode segment '"+t[r]+"'")}}this.decodeSegmentsFromBitStrings(n)}},{key:"setFieldValue",value:function(e,t){if(Ts(Is(i.prototype),"setFieldValue",this).call(this,e,t),e!==hs.CREATED.toString()&&e!==hs.LAST_UPDATED.toString()){var n=new Date,r=new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()));this.setFieldValue(hs.CREATED.toString(),r),this.setFieldValue(hs.LAST_UPDATED.toString(),r)}}},{key:"getId",value:function(){return i.ID}},{key:"getName",value:function(){return i.NAME}}],n&&_s(t.prototype,n),r&&_s(t,r),i}(Qc);function Ds(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ks(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function js(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vs(e,t,n){return Vs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ls(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n||e):o.value}},Vs(e,t,n||e)}function Ls(e){return Ls=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ls(e)}function Ms(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?Ds(e):t}function Us(e,t){return Us=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Us(e,t)}function xs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ls(e);if(t){var o=Ls(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ms(this,n)}}ws(Rs,"ID",2),ws(Rs,"VERSION",2),ws(Rs,"NAME","tcfeuv2"),function(e){e.VERSION="Version",e.CREATED="Created",e.LAST_UPDATED="LastUpdated",e.CMP_ID="CmpId",e.CMP_VERSION="CmpVersion",e.CONSENT_SCREEN="ConsentScreen",e.CONSENT_LANGUAGE="ConsentLanguage",e.VENDOR_LIST_VERSION="VendorListVersion",e.TCF_POLICY_VERSION="TcfPolicyVersion",e.USE_NON_STANDARD_STACKS="UseNonStandardStacks",e.SPECIAL_FEATURE_EXPRESS_CONSENT="SpecialFeatureExpressConsent",e.PURPOSES_EXPRESS_CONSENT="PurposesExpressConsent",e.PURPOSES_IMPLIED_CONSENT="PurposesImpliedConsent",e.VENDOR_EXPRESS_CONSENT="VendorExpressConsent",e.VENDOR_IMPLIED_CONSENT="VendorImpliedConsent",e.SEGMENT_TYPE="SegmentType",e.PUB_PURPOSES_EXPRESS_CONSENT="PubPurposesExpressConsent",e.PUB_PURPOSES_IMPLIED_CONSENT="PubPurposesImpliedConsent",e.NUM_CUSTOM_PURPOSES="NumCustomPurposes",e.CUSTOM_PURPOSES_EXPRESS_CONSENT="CustomPurposesExpressConsent",e.CUSTOM_PURPOSES_IMPLIED_CONSENT="CustomPurposesImpliedConsent"}(Cs||(Cs={}));var Gs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Us(e,t)}(i,e);var t,n,r,o=xs(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=new Map,r=new Date;n.set(Cs.VERSION.toString(),new Hu(6,i.VERSION)),n.set(Cs.CREATED.toString(),new hc(r)),n.set(Cs.LAST_UPDATED.toString(),new hc(r)),n.set(Cs.CMP_ID.toString(),new Hu(12,0)),n.set(Cs.CMP_VERSION.toString(),new Hu(12,0)),n.set(Cs.CONSENT_SCREEN.toString(),new Hu(6,0)),n.set(Cs.CONSENT_LANGUAGE.toString(),new zc(2,"EN")),n.set(Cs.VENDOR_LIST_VERSION.toString(),new Hu(12,0)),n.set(Cs.TCF_POLICY_VERSION.toString(),new Hu(6,2)),n.set(Cs.USE_NON_STANDARD_STACKS.toString(),new ac(!1)),n.set(Cs.SPECIAL_FEATURE_EXPRESS_CONSENT.toString(),new Lc([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),n.set(Cs.PURPOSES_EXPRESS_CONSENT.toString(),new Lc([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),n.set(Cs.PURPOSES_IMPLIED_CONSENT.toString(),new Lc([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),n.set(Cs.VENDOR_EXPRESS_CONSENT.toString(),new ys([])),n.set(Cs.VENDOR_IMPLIED_CONSENT.toString(),new ys([])),n.set(Cs.SEGMENT_TYPE.toString(),new Hu(3,3)),n.set(Cs.PUB_PURPOSES_EXPRESS_CONSENT.toString(),new Lc([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),n.set(Cs.PUB_PURPOSES_IMPLIED_CONSENT.toString(),new Lc([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]));var a=new Hu(6,0);n.set(Cs.NUM_CUSTOM_PURPOSES.toString(),a),n.set(Cs.CUSTOM_PURPOSES_EXPRESS_CONSENT.toString(),new Ic((function(){return a.getValue()}),[])),n.set(Cs.CUSTOM_PURPOSES_IMPLIED_CONSENT.toString(),new Ic((function(){return a.getValue()}),[]));var u=[[Cs.VERSION.toString(),Cs.CREATED.toString(),Cs.LAST_UPDATED.toString(),Cs.CMP_ID.toString(),Cs.CMP_VERSION.toString(),Cs.CONSENT_SCREEN.toString(),Cs.CONSENT_LANGUAGE.toString(),Cs.VENDOR_LIST_VERSION.toString(),Cs.TCF_POLICY_VERSION.toString(),Cs.USE_NON_STANDARD_STACKS.toString(),Cs.SPECIAL_FEATURE_EXPRESS_CONSENT.toString(),Cs.PURPOSES_EXPRESS_CONSENT.toString(),Cs.PURPOSES_IMPLIED_CONSENT.toString(),Cs.VENDOR_EXPRESS_CONSENT.toString(),Cs.VENDOR_IMPLIED_CONSENT.toString()],[Cs.SEGMENT_TYPE.toString(),Cs.PUB_PURPOSES_EXPRESS_CONSENT.toString(),Cs.PUB_PURPOSES_IMPLIED_CONSENT.toString(),Cs.NUM_CUSTOM_PURPOSES.toString(),Cs.CUSTOM_PURPOSES_EXPRESS_CONSENT.toString(),Cs.CUSTOM_PURPOSES_IMPLIED_CONSENT.toString()]];return js(Ds(t=o.call(this,n,u)),"base64UrlEncoder",new gu),e&&e.length>0&&t.decode(e),t}return t=i,n=[{key:"encode",value:function(){var e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}},{key:"decode",value:function(e){for(var t=e.split("."),n=[],r=0;r<t.length;r++){var o=this.base64UrlEncoder.decode(t[r]);switch(o.substring(0,3)){case"000":n[0]=o;break;case"011":n[1]=o;break;default:throw new eu("Unable to decode segment '"+t[r]+"'")}}this.decodeSegmentsFromBitStrings(n)}},{key:"setFieldValue",value:function(e,t){if(Vs(Ls(i.prototype),"setFieldValue",this).call(this,e,t),e!==Cs.CREATED.toString()&&e!==Cs.LAST_UPDATED.toString()){var n=new Date,r=new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()));this.setFieldValue(Cs.CREATED.toString(),r),this.setFieldValue(Cs.LAST_UPDATED.toString(),r)}}},{key:"getId",value:function(){return i.ID}},{key:"getName",value:function(){return i.NAME}}],n&&ks(t.prototype,n),r&&ks(t,r),i}(Qc);function Fs(e,t,n){return Fs=Ys()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Ws(o,n.prototype),o},Fs.apply(null,arguments)}function Bs(e){return Bs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Bs(e)}function Hs(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ws(e,t){return Ws=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ws(e,t)}function zs(e){var t="function"==typeof Map?new Map:void 0;return zs=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Fs(e,arguments,Bs(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Ws(r,e)},zs(e)}function Ys(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}js(Gs,"ID",5),js(Gs,"VERSION",1),js(Gs,"NAME","tcfcav1");var Ks,Qs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ws(e,t)}(o,e);var t,n,r=(t=o,n=Ys(),function(){var e,r=Bs(t);if(n){var o=Bs(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Hs(this,e)});function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).name="InvalidFieldError",t}return o}(zs(Error));function qs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Js(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.VERSION="Version",e.NOTICE="Notice",e.OPT_OUT_SALE="OptOutSale",e.LSPA_COVERED="LspaCovered"}(Ks||(Ks={}));var Xs=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Js(this,"fields",void 0),this.fields=new Map,this.fields.set(Ks.VERSION.toString(),e.VERSION),this.fields.set(Ks.NOTICE.toString(),"-"),this.fields.set(Ks.OPT_OUT_SALE.toString(),"-"),this.fields.set(Ks.LSPA_COVERED.toString(),"-"),t&&t.length>0&&this.decode(t)}var t,n,r;return t=e,n=[{key:"hasField",value:function(e){return this.fields.has(e)}},{key:"getFieldValue",value:function(e){return this.fields.has(e)?this.fields.get(e):null}},{key:"setFieldValue",value:function(e,t){if(!this.fields.has(e))throw new Qs(e+" not found");this.fields.set(e,t)}},{key:"toObj",value:function(){var e={},t=!0,n=!1,r=void 0;try{for(var o,i=this.fields.keys()[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,u=this.fields.get(a);e[a.toString()]=u}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}},{key:"encode",value:function(){var e="";return e+=this.getFieldValue(Ks.VERSION.toString()),e+=this.getFieldValue(Ks.NOTICE.toString()),e+=this.getFieldValue(Ks.OPT_OUT_SALE.toString()),e+=this.getFieldValue(Ks.LSPA_COVERED.toString())}},{key:"decode",value:function(e){this.setFieldValue(Ks.VERSION.toString(),parseInt(e.charAt(0))),this.setFieldValue(Ks.NOTICE.toString(),e.charAt(1)),this.setFieldValue(Ks.OPT_OUT_SALE.toString(),e.charAt(2)),this.setFieldValue(Ks.LSPA_COVERED.toString(),e.charAt(3))}},{key:"getId",value:function(){return e.ID}},{key:"getName",value:function(){return e.NAME}}],n&&qs(t.prototype,n),r&&qs(t,r),e}();function $s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Js(Xs,"ID",6),Js(Xs,"VERSION",1),Js(Xs,"NAME","uspv1");var Zs=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"encode",value:function(e,t,n){for(var r="",o=0;o<e.length;o++)r+=nu.encode(e[o],t);for(;r.length<t*n;)r+="0";return r}},{key:"decode",value:function(e,t,n){if(!/^[0-1]*$/.test(e))throw new eu("Undecodable FixedInteger '"+e+"'");if(e.length>t*n)throw new eu("Undecodable FixedIntegerList '"+e+"'");if(e.length%t!=0)throw new eu("Undecodable FixedIntegerList '"+e+"'");for(;e.length<t*n;)e+="0";e.length>t*n&&(e=e.substring(0,t*n));for(var r=[],o=0;o<e.length;o+=t)r.push(nu.decode(e.substring(o,o+t)));for(;r.length<n;)r.push(0);return r}}],(n=null)&&$s(t.prototype,n),r&&$s(t,r),e}();function el(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ol(e,t,n){return ol="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=il(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n||e):o.value}},ol(e,t,n||e)}function il(e){return il=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},il(e)}function al(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?tl(e):t}function ul(e,t){return ul=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ul(e,t)}function cl(e){return function(e){if(Array.isArray(e))return el(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return el(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return el(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=il(e);if(t){var o=il(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return al(this,n)}}var ll,fl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ul(e,t)}(i,e);var t,n,r,o=sl(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),rl(tl(n=o.call(this)),"elementBitStringLength",void 0),rl(tl(n),"numElements",void 0),n.elementBitStringLength=e,n.numElements=t.length,n.setValue(t),n}return t=i,n=[{key:"encode",value:function(){return Zs.encode(this.value,this.elementBitStringLength,this.numElements)}},{key:"decode",value:function(e){this.value=Zs.decode(e,this.elementBitStringLength,this.numElements)}},{key:"substring",value:function(e,t){return e.substring(t,t+this.elementBitStringLength*this.numElements)}},{key:"getValue",value:function(){return cl(ol(il(i.prototype),"getValue",this).call(this))}},{key:"setValue",value:function(e){for(var t=cl(e),n=t.length;n<this.numElements;n++)t.push(0);t.length>this.numElements&&(t=t.slice(0,this.numElements)),ol(il(i.prototype),"setValue",this).call(this,t)}}],n&&nl(t.prototype,n),r&&nl(t,r),i}(Iu);function pl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yl(e){return yl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},yl(e)}function vl(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?pl(e):t}function bl(e,t){return bl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},bl(e,t)}function gl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yl(e);if(t){var o=yl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vl(this,n)}}!function(e){e.VERSION="Version",e.SHARING_NOTICE="SharingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.SHARING_OPT_OUT_NOTICE="SharingOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE="SensitiveDataProcessingOptOutNotice",e.SENSITIVE_DATA_LIMIT_USE_NOTICE="SensitiveDataLimitUseNotice",e.SALE_OPT_OUT="SaleOptOut",e.SHARING_OPT_OUT="SharingOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.PERSONAL_DATA_CONSENTS="PersonalDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",e.GPC_SEGMENT_TYPE="GpcSegmentType",e.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",e.GPC="Gpc"}(ll||(ll={}));var Sl,ml=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bl(e,t)}(i,e);var t,n,r,o=gl(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=new Map;n.set(ll.VERSION.toString(),new Hu(6,i.VERSION)),n.set(ll.SHARING_NOTICE.toString(),new Hu(2,0)),n.set(ll.SALE_OPT_OUT_NOTICE.toString(),new Hu(2,0)),n.set(ll.SHARING_OPT_OUT_NOTICE.toString(),new Hu(2,0)),n.set(ll.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new Hu(2,0)),n.set(ll.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),new Hu(2,0)),n.set(ll.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),new Hu(2,0)),n.set(ll.SALE_OPT_OUT.toString(),new Hu(2,0)),n.set(ll.SHARING_OPT_OUT.toString(),new Hu(2,0)),n.set(ll.TARGETED_ADVERTISING_OPT_OUT.toString(),new Hu(2,0)),n.set(ll.SENSITIVE_DATA_PROCESSING.toString(),new fl(2,[0,0,0,0,0,0,0,0,0,0,0,0])),n.set(ll.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new fl(2,[0,0])),n.set(ll.PERSONAL_DATA_CONSENTS.toString(),new Hu(2,0)),n.set(ll.MSPA_COVERED_TRANSACTION.toString(),new Hu(2,0)),n.set(ll.MSPA_OPT_OUT_OPTION_MODE.toString(),new Hu(2,0)),n.set(ll.MSPA_SERVICE_PROVIDER_MODE.toString(),new Hu(2,0)),n.set(ll.GPC_SEGMENT_TYPE.toString(),new Hu(2,1)),n.set(ll.GPC_SEGMENT_INCLUDED.toString(),new ac(!0)),n.set(ll.GPC.toString(),new ac(!1));var r=[[ll.VERSION.toString(),ll.SHARING_NOTICE.toString(),ll.SALE_OPT_OUT_NOTICE.toString(),ll.SHARING_OPT_OUT_NOTICE.toString(),ll.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),ll.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),ll.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),ll.SALE_OPT_OUT.toString(),ll.SHARING_OPT_OUT.toString(),ll.TARGETED_ADVERTISING_OPT_OUT.toString(),ll.SENSITIVE_DATA_PROCESSING.toString(),ll.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),ll.PERSONAL_DATA_CONSENTS.toString(),ll.MSPA_COVERED_TRANSACTION.toString(),ll.MSPA_OPT_OUT_OPTION_MODE.toString(),ll.MSPA_SERVICE_PROVIDER_MODE.toString()],[ll.GPC_SEGMENT_TYPE.toString(),ll.GPC.toString()]];return hl(pl(t=o.call(this,n,r)),"base64UrlEncoder",new gu),e&&e.length>0&&t.decode(e),t}return t=i,(n=[{key:"encode",value:function(){var e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&!0===this.fields.get(ll.GPC_SEGMENT_INCLUDED).getValue()&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}},{key:"decode",value:function(e){for(var t=e.split("."),n=[],r=!1,o=0;o<t.length;o++){var i=this.base64UrlEncoder.decode(t[o]);switch(i.substring(0,2)){case"00":n[0]=i;break;case"01":r=!0,n[1]=i;break;default:throw new eu("Unable to decode segment '"+t[o]+"'")}}this.decodeSegmentsFromBitStrings(n),this.fields.get(ll.GPC_SEGMENT_INCLUDED).setValue(r)}},{key:"getId",value:function(){return i.ID}},{key:"getName",value:function(){return i.NAME}}])&&dl(t.prototype,n),r&&dl(t,r),i}(Qc);function Ol(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function El(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wl(e){return wl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wl(e)}function Tl(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?Ol(e):t}function Il(e,t){return Il=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Il(e,t)}function Pl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wl(e);if(t){var o=wl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tl(this,n)}}hl(ml,"ID",7),hl(ml,"VERSION",1),hl(ml,"NAME","usnatv1"),function(e){e.VERSION="Version",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.SHARING_OPT_OUT_NOTICE="SharingOptOutNotice",e.SENSITIVE_DATA_LIMIT_USE_NOTICE="SensitiveDataLimitUseNotice",e.SALE_OPT_OUT="SaleOptOut",e.SHARING_OPT_OUT="SharingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.PERSONAL_DATA_CONSENTS="PersonalDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",e.GPC_SEGMENT_TYPE="GpcSegmentType",e.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",e.GPC="Gpc"}(Sl||(Sl={}));var Al,Nl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Il(e,t)}(i,e);var t,n,r,o=Pl(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=new Map;n.set(Sl.VERSION.toString(),new Hu(6,i.VERSION)),n.set(Sl.SALE_OPT_OUT_NOTICE.toString(),new Hu(2,0)),n.set(Sl.SHARING_OPT_OUT_NOTICE.toString(),new Hu(2,0)),n.set(Sl.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),new Hu(2,0)),n.set(Sl.SALE_OPT_OUT.toString(),new Hu(2,0)),n.set(Sl.SHARING_OPT_OUT.toString(),new Hu(2,0)),n.set(Sl.SENSITIVE_DATA_PROCESSING.toString(),new fl(2,[0,0,0,0,0,0,0,0,0])),n.set(Sl.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new fl(2,[0,0])),n.set(Sl.PERSONAL_DATA_CONSENTS.toString(),new Hu(2,0)),n.set(Sl.MSPA_COVERED_TRANSACTION.toString(),new Hu(2,0)),n.set(Sl.MSPA_OPT_OUT_OPTION_MODE.toString(),new Hu(2,0)),n.set(Sl.MSPA_SERVICE_PROVIDER_MODE.toString(),new Hu(2,0)),n.set(Sl.GPC_SEGMENT_TYPE.toString(),new Hu(2,1)),n.set(Sl.GPC_SEGMENT_INCLUDED.toString(),new ac(!0)),n.set(Sl.GPC.toString(),new ac(!1));var r=[[Sl.VERSION.toString(),Sl.SALE_OPT_OUT_NOTICE.toString(),Sl.SHARING_OPT_OUT_NOTICE.toString(),Sl.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),Sl.SALE_OPT_OUT.toString(),Sl.SHARING_OPT_OUT.toString(),Sl.SENSITIVE_DATA_PROCESSING.toString(),Sl.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),Sl.PERSONAL_DATA_CONSENTS.toString(),Sl.MSPA_COVERED_TRANSACTION.toString(),Sl.MSPA_OPT_OUT_OPTION_MODE.toString(),Sl.MSPA_SERVICE_PROVIDER_MODE.toString()],[Sl.GPC_SEGMENT_TYPE.toString(),Sl.GPC.toString()]];return _l(Ol(t=o.call(this,n,r)),"base64UrlEncoder",new gu),e&&e.length>0&&t.decode(e),t}return t=i,(n=[{key:"encode",value:function(){var e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&!0===this.fields.get(Sl.GPC_SEGMENT_INCLUDED).getValue()&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}},{key:"decode",value:function(e){for(var t=e.split("."),n=[],r=!1,o=0;o<t.length;o++){var i=this.base64UrlEncoder.decode(t[o]);switch(i.substring(0,2)){case"00":n[0]=i;break;case"01":r=!0,n[1]=i;break;default:throw new eu("Unable to decode segment '"+t[o]+"'")}}this.decodeSegmentsFromBitStrings(n),this.fields.get(Sl.GPC_SEGMENT_INCLUDED).setValue(r)}},{key:"getId",value:function(){return i.ID}},{key:"getName",value:function(){return i.NAME}}])&&El(t.prototype,n),r&&El(t,r),i}(Qc);function Cl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kl(e){return kl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},kl(e)}function jl(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?Cl(e):t}function Vl(e,t){return Vl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Vl(e,t)}function Ll(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kl(e);if(t){var o=kl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jl(this,n)}}_l(Nl,"ID",8),_l(Nl,"VERSION",1),_l(Nl,"NAME","uscav1"),function(e){e.VERSION="Version",e.SHARING_NOTICE="SharingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SALE_OPT_OUT="SaleOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode"}(Al||(Al={}));var Ml,Ul=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vl(e,t)}(i,e);var t,n,r,o=Ll(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=new Map;n.set(Al.VERSION.toString(),new Hu(6,i.VERSION)),n.set(Al.SHARING_NOTICE.toString(),new Hu(2,0)),n.set(Al.SALE_OPT_OUT_NOTICE.toString(),new Hu(2,0)),n.set(Al.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new Hu(2,0)),n.set(Al.SALE_OPT_OUT.toString(),new Hu(2,0)),n.set(Al.TARGETED_ADVERTISING_OPT_OUT.toString(),new Hu(2,0)),n.set(Al.SENSITIVE_DATA_PROCESSING.toString(),new fl(2,[0,0,0,0,0,0,0,0])),n.set(Al.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new Hu(2,0)),n.set(Al.MSPA_COVERED_TRANSACTION.toString(),new Hu(2,0)),n.set(Al.MSPA_OPT_OUT_OPTION_MODE.toString(),new Hu(2,0)),n.set(Al.MSPA_SERVICE_PROVIDER_MODE.toString(),new Hu(2,0));var r=[Al.VERSION.toString(),Al.SHARING_NOTICE.toString(),Al.SALE_OPT_OUT_NOTICE.toString(),Al.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),Al.SALE_OPT_OUT.toString(),Al.TARGETED_ADVERTISING_OPT_OUT.toString(),Al.SENSITIVE_DATA_PROCESSING.toString(),Al.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),Al.MSPA_COVERED_TRANSACTION.toString(),Al.MSPA_OPT_OUT_OPTION_MODE.toString(),Al.MSPA_SERVICE_PROVIDER_MODE.toString()];return Dl(Cl(t=o.call(this,n,r)),"base64UrlEncoder",new gu),e&&e.length>0&&t.decode(e),t}return t=i,(n=[{key:"encode",value:function(){return this.base64UrlEncoder.encode(this.encodeToBitString())}},{key:"decode",value:function(e){this.decodeFromBitString(this.base64UrlEncoder.decode(e))}},{key:"getId",value:function(){return i.ID}},{key:"getName",value:function(){return i.NAME}}])&&Rl(t.prototype,n),r&&Rl(t,r),i}(Yu);function xl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bl(e){return Bl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Bl(e)}function Hl(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?xl(e):t}function Wl(e,t){return Wl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Wl(e,t)}function zl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Bl(e);if(t){var o=Bl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hl(this,n)}}Dl(Ul,"ID",9),Dl(Ul,"VERSION",1),Dl(Ul,"NAME","usvav1"),function(e){e.VERSION="Version",e.SHARING_NOTICE="SharingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SALE_OPT_OUT="SaleOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",e.GPC_SEGMENT_TYPE="GpcSegmentType",e.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",e.GPC="Gpc"}(Ml||(Ml={}));var Yl,Kl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wl(e,t)}(i,e);var t,n,r,o=zl(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=new Map;n.set(Ml.VERSION.toString(),new Hu(6,i.VERSION)),n.set(Ml.SHARING_NOTICE.toString(),new Hu(2,0)),n.set(Ml.SALE_OPT_OUT_NOTICE.toString(),new Hu(2,0)),n.set(Ml.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new Hu(2,0)),n.set(Ml.SALE_OPT_OUT.toString(),new Hu(2,0)),n.set(Ml.TARGETED_ADVERTISING_OPT_OUT.toString(),new Hu(2,0)),n.set(Ml.SENSITIVE_DATA_PROCESSING.toString(),new fl(2,[0,0,0,0,0,0,0])),n.set(Ml.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new Hu(2,0)),n.set(Ml.MSPA_COVERED_TRANSACTION.toString(),new Hu(2,0)),n.set(Ml.MSPA_OPT_OUT_OPTION_MODE.toString(),new Hu(2,0)),n.set(Ml.MSPA_SERVICE_PROVIDER_MODE.toString(),new Hu(2,0)),n.set(Ml.GPC_SEGMENT_TYPE.toString(),new Hu(2,1)),n.set(Ml.GPC_SEGMENT_INCLUDED.toString(),new ac(!0)),n.set(Ml.GPC.toString(),new ac(!1));var r=[[Ml.VERSION.toString(),Ml.SHARING_NOTICE.toString(),Ml.SALE_OPT_OUT_NOTICE.toString(),Ml.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),Ml.SALE_OPT_OUT.toString(),Ml.TARGETED_ADVERTISING_OPT_OUT.toString(),Ml.SENSITIVE_DATA_PROCESSING.toString(),Ml.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),Ml.MSPA_COVERED_TRANSACTION.toString(),Ml.MSPA_OPT_OUT_OPTION_MODE.toString(),Ml.MSPA_SERVICE_PROVIDER_MODE.toString()],[Ml.GPC_SEGMENT_TYPE.toString(),Ml.GPC.toString()]];return Fl(xl(t=o.call(this,n,r)),"base64UrlEncoder",new gu),e&&e.length>0&&t.decode(e),t}return t=i,(n=[{key:"encode",value:function(){var e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&!0===this.fields.get(Ml.GPC_SEGMENT_INCLUDED).getValue()&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}},{key:"decode",value:function(e){for(var t=e.split("."),n=[],r=!1,o=0;o<t.length;o++){var i=this.base64UrlEncoder.decode(t[o]);switch(i.substring(0,2)){case"00":n[0]=i;break;case"01":r=!0,n[1]=i;break;default:throw new eu("Unable to decode segment '"+t[o]+"'")}}this.decodeSegmentsFromBitStrings(n),this.fields.get(Ml.GPC_SEGMENT_INCLUDED).setValue(r)}},{key:"getId",value:function(){return i.ID}},{key:"getName",value:function(){return i.NAME}}])&&Gl(t.prototype,n),r&&Gl(t,r),i}(Qc);function Ql(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ql(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xl(e){return Xl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xl(e)}function $l(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?Ql(e):t}function Zl(e,t){return Zl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Zl(e,t)}function ef(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xl(e);if(t){var o=Xl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $l(this,n)}}Fl(Kl,"ID",10),Fl(Kl,"VERSION",1),Fl(Kl,"NAME","uscov1"),function(e){e.VERSION="Version",e.SHARING_NOTICE="SharingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE="SensitiveDataProcessingOptOutNotice",e.SALE_OPT_OUT="SaleOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode"}(Yl||(Yl={}));var tf,nf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zl(e,t)}(i,e);var t,n,r,o=ef(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=new Map;n.set(Yl.VERSION.toString(),new Hu(6,i.VERSION)),n.set(Yl.SHARING_NOTICE.toString(),new Hu(2,0)),n.set(Yl.SALE_OPT_OUT_NOTICE.toString(),new Hu(2,0)),n.set(Yl.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new Hu(2,0)),n.set(Yl.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),new Hu(2,0)),n.set(Yl.SALE_OPT_OUT.toString(),new Hu(2,0)),n.set(Yl.TARGETED_ADVERTISING_OPT_OUT.toString(),new Hu(2,0)),n.set(Yl.SENSITIVE_DATA_PROCESSING.toString(),new fl(2,[0,0,0,0,0,0,0,0])),n.set(Yl.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new Hu(2,0)),n.set(Yl.MSPA_COVERED_TRANSACTION.toString(),new Hu(2,0)),n.set(Yl.MSPA_OPT_OUT_OPTION_MODE.toString(),new Hu(2,0)),n.set(Yl.MSPA_SERVICE_PROVIDER_MODE.toString(),new Hu(2,0));var r=[Yl.VERSION.toString(),Yl.SHARING_NOTICE.toString(),Yl.SALE_OPT_OUT_NOTICE.toString(),Yl.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),Yl.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),Yl.SALE_OPT_OUT.toString(),Yl.TARGETED_ADVERTISING_OPT_OUT.toString(),Yl.SENSITIVE_DATA_PROCESSING.toString(),Yl.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),Yl.MSPA_COVERED_TRANSACTION.toString(),Yl.MSPA_OPT_OUT_OPTION_MODE.toString(),Yl.MSPA_SERVICE_PROVIDER_MODE.toString()];return Jl(Ql(t=o.call(this,n,r)),"base64UrlEncoder",new gu),e&&e.length>0&&t.decode(e),t}return t=i,(n=[{key:"encode",value:function(){return this.base64UrlEncoder.encode(this.encodeToBitString())}},{key:"decode",value:function(e){this.decodeFromBitString(this.base64UrlEncoder.decode(e))}},{key:"getId",value:function(){return i.ID}},{key:"getName",value:function(){return i.NAME}}])&&ql(t.prototype,n),r&&ql(t,r),i}(Yu);function rf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function of(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function af(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uf(e){return uf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},uf(e)}function cf(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?rf(e):t}function sf(e,t){return sf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},sf(e,t)}function lf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=uf(e);if(t){var o=uf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cf(this,n)}}Jl(nf,"ID",11),Jl(nf,"VERSION",1),Jl(nf,"NAME","usutv1"),function(e){e.VERSION="Version",e.SHARING_NOTICE="SharingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SALE_OPT_OUT="SaleOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",e.GPC_SEGMENT_TYPE="GpcSegmentType",e.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",e.GPC="Gpc"}(tf||(tf={}));var ff=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sf(e,t)}(i,e);var t,n,r,o=lf(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=new Map;n.set(tf.VERSION.toString(),new Hu(6,i.VERSION)),n.set(tf.SHARING_NOTICE.toString(),new Hu(2,0)),n.set(tf.SALE_OPT_OUT_NOTICE.toString(),new Hu(2,0)),n.set(tf.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new Hu(2,0)),n.set(tf.SALE_OPT_OUT.toString(),new Hu(2,0)),n.set(tf.TARGETED_ADVERTISING_OPT_OUT.toString(),new Hu(2,0)),n.set(tf.SENSITIVE_DATA_PROCESSING.toString(),new fl(2,[0,0,0,0,0,0,0,0])),n.set(tf.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new fl(2,[0,0,0])),n.set(tf.MSPA_COVERED_TRANSACTION.toString(),new Hu(2,0)),n.set(tf.MSPA_OPT_OUT_OPTION_MODE.toString(),new Hu(2,0)),n.set(tf.MSPA_SERVICE_PROVIDER_MODE.toString(),new Hu(2,0)),n.set(tf.GPC_SEGMENT_TYPE.toString(),new Hu(2,1)),n.set(tf.GPC_SEGMENT_INCLUDED.toString(),new ac(!0)),n.set(tf.GPC.toString(),new ac(!1));var r=[[tf.VERSION.toString(),tf.SHARING_NOTICE.toString(),tf.SALE_OPT_OUT_NOTICE.toString(),tf.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),tf.SALE_OPT_OUT.toString(),tf.TARGETED_ADVERTISING_OPT_OUT.toString(),tf.SENSITIVE_DATA_PROCESSING.toString(),tf.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),tf.MSPA_COVERED_TRANSACTION.toString(),tf.MSPA_OPT_OUT_OPTION_MODE.toString(),tf.MSPA_SERVICE_PROVIDER_MODE.toString()],[tf.GPC_SEGMENT_TYPE.toString(),tf.GPC.toString()]];return af(rf(t=o.call(this,n,r)),"base64UrlEncoder",new gu),e&&e.length>0&&t.decode(e),t}return t=i,(n=[{key:"encode",value:function(){var e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&!0===this.fields.get(tf.GPC_SEGMENT_INCLUDED).getValue()&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}},{key:"decode",value:function(e){for(var t=e.split("."),n=[],r=!1,o=0;o<t.length;o++){var i=this.base64UrlEncoder.decode(t[o]);switch(i.substring(0,2)){case"00":n[0]=i;break;case"01":r=!0,n[1]=i;break;default:throw new eu("Unable to decode segment '"+t[o]+"'")}}this.decodeSegmentsFromBitStrings(n),this.fields.get(tf.GPC_SEGMENT_INCLUDED).setValue(r)}},{key:"getId",value:function(){return i.ID}},{key:"getName",value:function(){return i.NAME}}])&&of(t.prototype,n),r&&of(t,r),i}(Qc);function pf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}af(ff,"ID",12),af(ff,"VERSION",1),af(ff,"NAME","usctv1");var df=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};function hf(e){return hf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hf(e)}function yf(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vf(e,t){return vf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},vf(e,t)}function bf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hf(e);if(t){var o=hf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yf(this,n)}}pf(df,"SECTION_ID_NAME_MAP",new Map([[Rs.ID,Rs.NAME],[Gs.ID,Gs.NAME],[Xs.ID,Xs.NAME],[ml.ID,ml.NAME],[Nl.ID,Nl.NAME],[Ul.ID,Ul.NAME],[Kl.ID,Kl.NAME],[nf.ID,nf.NAME],[ff.ID,ff.NAME]])),pf(df,"SECTION_ORDER",[Rs.NAME,Gs.NAME,Xs.NAME,ml.NAME,Nl.NAME,Ul.NAME,Kl.NAME,nf.NAME,ff.NAME]);var gf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vf(e,t)}(n,e);var t=bf(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).name="LazyDecodingError",r}return n}(eu);function Sf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Of=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),mf(this,"sections",new Map),mf(this,"encodedString",void 0),mf(this,"decoded",void 0),mf(this,"dirty",void 0),t?(this.encodedString=t,this.decoded=!1,this.dirty=!1):(this.encodedString="DBAA",this.decoded=!1,this.dirty=!1)}var t,n,r;return t=e,n=[{key:"setFieldValue",value:function(e,t,n){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new gf(e.message)}var r=null;if(this.sections.has(e)?r=this.sections.get(e):e===Gs.NAME?(r=new Gs,this.sections.set(Gs.NAME,r)):e===Rs.NAME?(r=new Rs,this.sections.set(Rs.NAME,r)):e===Xs.NAME?(r=new Xs,this.sections.set(Xs.NAME,r)):e===ml.NAME?(r=new ml,this.sections.set(ml.NAME,r)):e===Nl.NAME?(r=new Nl,this.sections.set(Nl.NAME,r)):e===Ul.NAME?(r=new Ul,this.sections.set(Ul.NAME,r)):e===Kl.NAME?(r=new Kl,this.sections.set(Kl.NAME,r)):e===nf.NAME?(r=new nf,this.sections.set(nf.NAME,r)):e===ff.NAME&&(r=new ff,this.sections.set(ff.NAME,r)),!r)throw new Qs(e+"."+t+" not found");r.setFieldValue(t,n),this.dirty=!0}},{key:"setFieldValueBySectionId",value:function(e,t,n){this.setFieldValue(df.SECTION_ID_NAME_MAP.get(e),t,n)}},{key:"getFieldValue",value:function(e,t){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new gf(e.message)}return this.sections.has(e)?this.sections.get(e).getFieldValue(t):null}},{key:"getFieldValueBySectionId",value:function(e,t){return this.getFieldValue(df.SECTION_ID_NAME_MAP.get(e),t)}},{key:"hasField",value:function(e,t){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new gf(e.message)}return!!this.sections.has(e)&&this.sections.get(e).hasField(t)}},{key:"hasFieldBySectionId",value:function(e,t){return this.hasField(df.SECTION_ID_NAME_MAP.get(e),t)}},{key:"hasSection",value:function(e){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new gf(e.message)}return this.sections.has(e)}},{key:"hasSectionId",value:function(e){return this.hasSection(df.SECTION_ID_NAME_MAP.get(e))}},{key:"deleteSection",value:function(e){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new gf(e.message)}this.sections.delete(e),this.dirty=!0}},{key:"deleteSectionById",value:function(e){this.deleteSection(df.SECTION_ID_NAME_MAP.get(e))}},{key:"clear",value:function(){this.sections.clear(),this.encodedString="DBAA",this.decoded=!1,this.dirty=!1}},{key:"getHeader",value:function(){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new gf(e.message)}var e=new ec;return e.setFieldValue("SectionIds",this.getSectionIds()),e.toObj()}},{key:"getSection",value:function(e){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new gf(e.message)}return this.sections.has(e)?this.sections.get(e).toObj():null}},{key:"getSectionIds",value:function(){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new gf(e.message)}for(var e=[],t=0;t<df.SECTION_ORDER.length;t++){var n=df.SECTION_ORDER[t];if(this.sections.has(n)){var r=this.sections.get(n);e.push(r.getId())}}return e}},{key:"encode",value:function(){if(!this.dirty)return this.encodedString;if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new gf(e.message)}for(var e=[],t=[],n=0;n<df.SECTION_ORDER.length;n++){var r=df.SECTION_ORDER[n];if(this.sections.has(r)){var o=this.sections.get(r);e.push(o.encode()),t.push(o.getId())}}var i=new ec;return i.setFieldValue("SectionIds",this.getSectionIds()),e.unshift(i.encode()),this.encodedString=e.join("~"),this.dirty=!1,this.encodedString}},{key:"decode",value:function(e){this.encodedString=e,this.decoded=!1,this.dirty=!0,this.sections.clear();var t=e.split("~"),n=new ec(t[0]);this.sections.set(ec.NAME,n);for(var r=n.getFieldValue("SectionIds"),o=0;o<r.length;o++)if(r[o]===Gs.ID){var i=new Gs(t[o+1]);this.sections.set(Gs.NAME,i)}else if(r[o]===Rs.ID){var a=new Rs(t[o+1]);this.sections.set(Rs.NAME,a)}else if(r[o]===Xs.ID){var u=new Xs(t[o+1]);this.sections.set(Xs.NAME,u)}else if(r[o]===ml.ID){var c=new ml(t[o+1]);this.sections.set(ml.NAME,c)}else if(r[o]===Nl.ID){var s=new Nl(t[o+1]);this.sections.set(Nl.NAME,s)}else if(r[o]===Ul.ID){var l=new Ul(t[o+1]);this.sections.set(Ul.NAME,l)}else if(r[o]===Kl.ID){var f=new Kl(t[o+1]);this.sections.set(Kl.NAME,f)}else if(r[o]===nf.ID){var p=new nf(t[o+1]);this.sections.set(nf.NAME,p)}else if(r[o]===ff.ID){var d=new ff(t[o+1]);this.sections.set(ff.NAME,d)}this.decoded=!0,this.dirty=!1}},{key:"encodeSection",value:function(e){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new gf(e.message)}return this.sections.has(e)?this.sections.get(e).encode():null}},{key:"encodeSectionById",value:function(e){return this.encodeSection(df.SECTION_ID_NAME_MAP.get(e))}},{key:"decodeSection",value:function(e,t){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new gf(e.message)}var n=null;this.sections.has(e)?n=this.sections.get(e):e===Gs.NAME?(n=new Gs,this.sections.set(Gs.NAME,n)):e===Rs.NAME?(n=new Rs,this.sections.set(Rs.NAME,n)):e===Xs.NAME?(n=new Xs,this.sections.set(Xs.NAME,n)):e===ml.NAME?(n=new ml,this.sections.set(ml.NAME,n)):e===Nl.NAME?(n=new Nl,this.sections.set(Nl.NAME,n)):e===Ul.NAME?(n=new Ul,this.sections.set(Ul.NAME,n)):e===Kl.NAME?(n=new Kl,this.sections.set(Kl.NAME,n)):e===nf.NAME?(n=new nf,this.sections.set(nf.NAME,n)):e===ff.NAME&&(n=new ff,this.sections.set(ff.NAME,n)),n&&n.decode(t)}},{key:"decodeSectionById",value:function(e,t){this.decodeSection(df.SECTION_ID_NAME_MAP.get(e),t)}},{key:"toObject",value:function(){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new gf(e.message)}for(var e={},t=0;t<df.SECTION_ORDER.length;t++){var n=df.SECTION_ORDER[t];this.sections.has(n)&&(e[n]=this.sections.get(n).toObj())}return e}}],n&&Sf(t.prototype,n),r&&Sf(t,r),e}();function Ef(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wf=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_f(this,"gppVersion","1.1"),_f(this,"supportedAPIs",[]),_f(this,"eventQueue",new Ka(this)),_f(this,"cmpStatus",Na.LOADING),_f(this,"cmpDisplayStatus",Ca.HIDDEN),_f(this,"signalStatus",Da.NOT_READY),_f(this,"applicableSections",[]),_f(this,"gppModel",new Of),_f(this,"cmpId",void 0),_f(this,"cmpVersion",void 0),_f(this,"eventStatus",void 0)}var t,n,r;return t=e,(n=[{key:"reset",value:function(){this.eventQueue.clear(),this.cmpStatus=Na.LOADING,this.cmpDisplayStatus=Ca.HIDDEN,this.signalStatus=Da.NOT_READY,this.applicableSections=[],this.supportedAPIs=[],this.gppModel=new Of,delete this.cmpId,delete this.cmpVersion,delete this.eventStatus}}])&&Ef(t.prototype,n),r&&Ef(t,r),e}();function Tf(e,t,n){return Tf=Cf()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Af(o,n.prototype),o},Tf.apply(null,arguments)}function If(e){return If=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},If(e)}function Pf(e,t){return!t||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Af(e,t){return Af=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Af(e,t)}function Nf(e){var t="function"==typeof Map?new Map:void 0;return Nf=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Tf(e,arguments,If(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Af(r,e)},Nf(e)}function Cf(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Rf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Af(e,t)}(o,e);var t,n,r=(t=o,n=Cf(),function(){var e,r=If(t);if(n){var o=If(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Pf(this,e)});function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).name="GVLError",t}return o}(Nf(Error));function Df(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var kf=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=[{key:"has",value:function(t){return e.langSet.has(t)}},{key:"forEach",value:function(t){e.langSet.forEach(t)}},{key:"size",get:function(){return e.langSet.size}}],n&&Df(t.prototype,n),r&&Df(t,r),e}();function jf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(kf,"langSet",new Set(["BG","CA","CS","DA","DE","EL","EN","ES","ET","FI","FR","HR","HU","IT","JA","LT","LV","MT","NL","NO","PL","PT","RO","RU","SK","SL","SV","TR","ZH"]));var Vf=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"absCall",value:function(e,t,n,r){return new Promise((function(o,i){var a=new XMLHttpRequest;a.withCredentials=n,a.addEventListener("load",(function(){if(a.readyState==XMLHttpRequest.DONE)if(a.status>=200&&a.status<300){var e=a.response;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}o(e)}else i(new Error("HTTP Status: ".concat(a.status," response type: ").concat(a.responseType)))})),a.addEventListener("error",(function(){i(new Error("error"))})),a.addEventListener("abort",(function(){i(new Error("aborted"))})),null===t?a.open("GET",e,!0):a.open("POST",e,!0),a.responseType="json",a.timeout=r,a.ontimeout=function(){i(new Error("Timeout "+r+"ms "+e))},a.send(t)}))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return this.absCall(e,JSON.stringify(t),n,r)}},{key:"fetch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.absCall(e,null,t,n)}}],(n=null)&&jf(t.prototype,n),r&&jf(t,r),e}();function Lf(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Mf(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Lf(i,r,o,a,u,"next",e)}function u(e){Lf(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Uf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ff(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}var Bf=function(){function e(){Uf(this,e),Gf(this,"vendors",void 0),Gf(this,"consentLanguages",new kf),Gf(this,"gvlSpecificationVersion",void 0),Gf(this,"vendorListVersion",void 0),Gf(this,"tcfPolicyVersion",void 0),Gf(this,"lastUpdated",void 0),Gf(this,"purposes",void 0),Gf(this,"specialPurposes",void 0),Gf(this,"features",void 0),Gf(this,"specialFeatures",void 0),Gf(this,"stacks",void 0),Gf(this,"dataCategories",void 0),Gf(this,"language",e.DEFAULT_LANGUAGE),Gf(this,"vendorIds",void 0),Gf(this,"ready",!1),Gf(this,"fullVendorList",void 0),Gf(this,"byPurposeVendorMap",void 0),Gf(this,"bySpecialPurposeVendorMap",void 0),Gf(this,"byFeatureVendorMap",void 0),Gf(this,"bySpecialFeatureVendorMap",void 0),Gf(this,"baseUrl",void 0),Gf(this,"languageFilename","purposes-[LANG].json")}var t,n,r;return t=e,r=[{key:"fromVendorList",value:function(t){var n=new e;return n.populate(t),n}},{key:"fromUrl",value:function(t){return Mf((function(){var n,r,o,i,a,u,c,s;return Ff(this,(function(l){switch(l.label){case 0:if(!(n=t.baseUrl)||0===n.length)throw new Rf("Invalid baseUrl: '"+n+"'");if(/^https?:\/\/vendorlist\.consensu\.org\//.test(n))throw new Rf("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");return n.length>0&&"/"!==n[n.length-1]&&(n+="/"),(r=new e).baseUrl=n,t.languageFilename?r.languageFilename=t.languageFilename:r.languageFilename="purposes-[LANG].json",t.version>0?((o=t.versionedFilename)||(o="archives/vendor-list-v[VERSION].json"),i=n+o.replace("[VERSION]",String(t.version)),a=r.populate,[4,Vf.fetch(i)]):[3,2];case 1:return a.apply(r,[l.sent()]),[3,4];case 2:return(u=t.latestFilename)||(u="vendor-list.json"),c=n+u,s=r.populate,[4,Vf.fetch(c)];case 3:s.apply(r,[l.sent()]),l.label=4;case 4:return[2,r]}}))}))()}},{key:"isInstanceOf",value:function(e){var t="object"===(void 0===e?"undefined":function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(e));return t&&"function"==typeof e.narrowVendorsTo}}],(n=[{key:"changeLanguage",value:function(e){var t=this;return Mf((function(){var n,r,o,i;return Ff(this,(function(a){switch(a.label){case 0:if(n=e.toUpperCase(),!t.consentLanguages.has(n))return[3,5];if(n===t.language)return[3,4];t.language=n,r=t.baseUrl+t.languageFilename.replace("[LANG]",e),a.label=1;case 1:return a.trys.push([1,3,,4]),o=t.populate,[4,Vf.fetch(r)];case 2:return o.apply(t,[a.sent()]),[3,4];case 3:throw i=a.sent(),new Rf("unable to load language: "+i.message);case 4:return[3,6];case 5:throw new Rf("unsupported language ".concat(e));case 6:return[2]}}))}))()}},{key:"getJson",value:function(){return JSON.parse(JSON.stringify({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,dataCategories:this.dataCategories,vendors:this.fullVendorList}))}},{key:"isVendorList",value:function(e){return void 0!==e&&void 0!==e.vendors}},{key:"populate",value:function(e){this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.dataCategories=e.dataCategories,this.isVendorList(e)&&(this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.vendorListVersion=e.vendorListVersion,this.lastUpdated=e.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors=e.vendors,this.fullVendorList=e.vendors,this.mapVendors(),this.ready=!0)}},{key:"mapVendors",value:function(e){var t=this;this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach((function(e){t.byPurposeVendorMap[e]={legInt:new Set,consent:new Set,flexible:new Set}})),Object.keys(this.specialPurposes).forEach((function(e){t.bySpecialPurposeVendorMap[e]=new Set})),Object.keys(this.features).forEach((function(e){t.byFeatureVendorMap[e]=new Set})),Object.keys(this.specialFeatures).forEach((function(e){t.bySpecialFeatureVendorMap[e]=new Set})),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map((function(e){return+e}))),this.vendorIds=new Set(e),this.vendors=e.reduce((function(e,n){var r=t.vendors[String(n)];return r&&void 0===r.deletedDate&&(r.purposes.forEach((function(e){t.byPurposeVendorMap[String(e)].consent.add(n)})),r.specialPurposes.forEach((function(e){t.bySpecialPurposeVendorMap[String(e)].add(n)})),r.legIntPurposes.forEach((function(e){t.byPurposeVendorMap[String(e)].legInt.add(n)})),r.flexiblePurposes&&r.flexiblePurposes.forEach((function(e){t.byPurposeVendorMap[String(e)].flexible.add(n)})),r.features.forEach((function(e){t.byFeatureVendorMap[String(e)].add(n)})),r.specialFeatures.forEach((function(e){t.bySpecialFeatureVendorMap[String(e)].add(n)})),e[n]=r),e}),{})}},{key:"getFilteredVendors",value:function(e,t,n,r){var o=this,i=e.charAt(0).toUpperCase()+e.slice(1),a={};return("purpose"===e&&n?this["by"+i+"VendorMap"][String(t)][n]:this["by"+(r?"Special":"")+i+"VendorMap"][String(t)]).forEach((function(e){a[String(e)]=o.vendors[String(e)]})),a}},{key:"getVendorsWithConsentPurpose",value:function(e){return this.getFilteredVendors("purpose",e,"consent")}},{key:"getVendorsWithLegIntPurpose",value:function(e){return this.getFilteredVendors("purpose",e,"legInt")}},{key:"getVendorsWithFlexiblePurpose",value:function(e){return this.getFilteredVendors("purpose",e,"flexible")}},{key:"getVendorsWithSpecialPurpose",value:function(e){return this.getFilteredVendors("purpose",e,void 0,!0)}},{key:"getVendorsWithFeature",value:function(e){return this.getFilteredVendors("feature",e)}},{key:"getVendorsWithSpecialFeature",value:function(e){return this.getFilteredVendors("feature",e,void 0,!0)}},{key:"narrowVendorsTo",value:function(e){this.mapVendors(e)}},{key:"isReady",get:function(){return this.ready}}])&&xf(t.prototype,n),r&&xf(t,r),e}();function Hf(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Wf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yf(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}Gf(Bf,"DEFAULT_LANGUAGE","EN");var Kf=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),zf(this,"callResponder",void 0),zf(this,"cmpApiContext",void 0),this.cmpApiContext=new wf,this.cmpApiContext.cmpId=t,this.cmpApiContext.cmpVersion=n,this.callResponder=new Wa(this.cmpApiContext,r)}var t,n,r;return t=e,n=[{key:"fireEvent",value:function(e,t){this.cmpApiContext.eventQueue.exec(e,t)}},{key:"fireErrorEvent",value:function(e){this.cmpApiContext.eventQueue.exec("error",e)}},{key:"fireSectionChange",value:function(e){this.cmpApiContext.eventQueue.exec("sectionChange",e)}},{key:"getEventStatus",value:function(){return this.cmpApiContext.eventStatus}},{key:"setEventStatus",value:function(e){this.cmpApiContext.eventStatus=e}},{key:"getCmpStatus",value:function(){return this.cmpApiContext.cmpStatus}},{key:"setCmpStatus",value:function(e){this.cmpApiContext.cmpStatus=e,this.cmpApiContext.eventQueue.exec("cmpStatus",e)}},{key:"getCmpDisplayStatus",value:function(){return this.cmpApiContext.cmpDisplayStatus}},{key:"setCmpDisplayStatus",value:function(e){this.cmpApiContext.cmpDisplayStatus=e,this.cmpApiContext.eventQueue.exec("cmpDisplayStatus",e)}},{key:"getSignalStatus",value:function(){return this.cmpApiContext.signalStatus}},{key:"setSignalStatus",value:function(e){this.cmpApiContext.signalStatus=e,this.cmpApiContext.eventQueue.exec("signalStatus",e)}},{key:"getApplicableSections",value:function(){return this.cmpApiContext.applicableSections}},{key:"setApplicableSections",value:function(e){this.cmpApiContext.applicableSections=e}},{key:"getSupportedAPIs",value:function(){return this.cmpApiContext.supportedAPIs}},{key:"setSupportedAPIs",value:function(e){this.cmpApiContext.supportedAPIs=e}},{key:"setGppString",value:function(e){this.cmpApiContext.gppModel.decode(e)}},{key:"getGppString",value:function(){return this.cmpApiContext.gppModel.encode()}},{key:"setSectionString",value:function(e,t){this.cmpApiContext.gppModel.decodeSection(e,t)}},{key:"setSectionStringById",value:function(e,t){this.setSectionString(df.SECTION_ID_NAME_MAP.get(e),t)}},{key:"getSectionString",value:function(e){return this.cmpApiContext.gppModel.encodeSection(e)}},{key:"getSectionStringById",value:function(e){return this.getSectionString(df.SECTION_ID_NAME_MAP.get(e))}},{key:"setFieldValue",value:function(e,t,n){this.cmpApiContext.gppModel.setFieldValue(e,t,n)}},{key:"setFieldValueBySectionId",value:function(e,t,n){this.setFieldValue(df.SECTION_ID_NAME_MAP.get(e),t,n)}},{key:"getFieldValue",value:function(e,t){return this.cmpApiContext.gppModel.getFieldValue(e,t)}},{key:"getFieldValueBySectionId",value:function(e,t){return this.getFieldValue(df.SECTION_ID_NAME_MAP.get(e),t)}},{key:"getSection",value:function(e){return this.cmpApiContext.gppModel.getSection(e)}},{key:"getSectionById",value:function(e){return this.getSection(df.SECTION_ID_NAME_MAP.get(e))}},{key:"hasSection",value:function(e){return this.cmpApiContext.gppModel.hasSection(e)}},{key:"hasSectionId",value:function(e){return this.hasSection(df.SECTION_ID_NAME_MAP.get(e))}},{key:"deleteSection",value:function(e){this.cmpApiContext.gppModel.deleteSection(e)}},{key:"deleteSectionById",value:function(e){this.deleteSection(df.SECTION_ID_NAME_MAP.get(e))}},{key:"clear",value:function(){this.cmpApiContext.gppModel.clear()}},{key:"getObject",value:function(){return this.cmpApiContext.gppModel.toObject()}},{key:"getGvlFromVendorList",value:function(e){return Bf.fromVendorList(e)}},{key:"getGvlFromUrl",value:function(e){return(t=function(){return Yf(this,(function(t){return[2,Bf.fromUrl(e)]}))},function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){Hf(i,r,o,a,u,"next",e)}function u(e){Hf(i,r,o,a,u,"throw",e)}a(void 0)}))})();var t}}],n&&Wf(t.prototype,n),r&&Wf(t,r),e}();function Qf(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function qf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jf(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Xf(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function $f(e){return Zf.apply(this,arguments)}function Zf(){var e;return e=function(e){var t,n;return Xf(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=function(e){var t=Un(e,"__gppLocator");if(!t)throw new Error("No __gppLocator frame");return t}(e),[4,rp(t,e)];case 1:return[2,tp(r.sent().gppString)];case 2:return n=r.sent(),console.log("GPP Error: ",n),[2,null];case 3:return[2]}}))},Zf=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Qf(i,r,o,a,u,"next",e)}function u(e){Qf(i,r,o,a,u,"throw",e)}a(void 0)}))},Zf.apply(this,arguments)}var ep={tcfeu:{id:2,prefix:"tcfeuv2"},tcfca:{id:5,prefix:"tcfcav1"},usp:{id:6,prefix:"uspv1"},usnat:{id:7,prefix:"usnat"},usca:{id:8,prefix:"usca"},usva:{id:9,prefix:"usva"},usco:{id:10,prefix:"usco"},usut:{id:11,prefix:"usut"},usct:{id:12,prefix:"usct"}};function tp(e){var t=function(e){!function(){if(window.__gpp)return;window.__gpp=function(){}}();var t=new Kf(Mn.id,Mn.version);return t.setGppString(e),{tcf:{string:t.getSectionString(ep.tcfeu.prefix),sectionId:ep.tcfeu.id},usp:{string:t.getSectionString(ep.usp.prefix),sectionId:ep.usp.id}}}(e);return Jf(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){qf(e,t,n[t])}))}return e}({},t),{sectionId:np(t)})}function np(e){return e.tcf.string&&e.usp.string?"".concat(e.tcf.sectionId,",").concat(e.usp.sectionId):e.tcf.string?e.tcf.sectionId:e.usp.string?e.usp.sectionId:null}function rp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ping";return new Promise((function(r){var o="gpp-".concat(n,"-").concat(Math.random());!function(e,t,n){window.addEventListener("message",(function(e){return V(e,t,"__gppReturn")}),!1),t.addEventListener("message",(function(t){try{var r=j(t),o=null==r?void 0:r.__gppReturn;o&&o.callId===n&&e(o.returnValue)}catch(e){}}),!1)}(r,t,o),function(e,t){var n=t.command,r=t.callId;e.postMessage({__gppCall:{command:n,parameter:"",version:"1.1",callId:r}},"*")}(e,{command:n,callId:o})}))}function op(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ip(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return op(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return op(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ap(e){var t={};return e.forEach((function(e,n){t[n]=e})),t}function up(e){var t={};return e.getRestrictions().forEach((function(n){var r={},o=n.restrictionType;e.getVendors(n).forEach((function(e){r[e]=o})),t[n.purposeId]=r})),t}function cp(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function sp(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function lp(e,t,n,r,o,i){return fp.apply(this,arguments)}function fp(){var e;return e=function(e,t,n,r,o,i){var u,c,s,l,f,p,d,h,y;return sp(this,(function(v){switch(v.label){case 0:return u=1===n.user.can_serve_ads,c=1===n.user.can_cookie,s=r.frameWindow,n.gpp?n.gppString?(l=tp(n.gppString),[3,3]):[3,1]:[3,4];case 1:return[4,$f(s)];case 2:l=v.sent(),v.label=3;case 3:(null==l?void 0:l.tcf)&&!n.tcString&&(n.tcString=l.tcf.string),(null==l?void 0:l.usp)&&!n.uspString&&(n.uspString=l.usp.string),(null==l?void 0:l.sectionId)&&!n.gpp_sid&&(n.gpp_sid=l.sectionId),v.label=4;case 4:return!n.usp||n.uspString?[3,6]:[4,Vi(s)];case 5:f=v.sent(),n.uspString=f,v.label=6;case 6:return n.partner_tcf_status===a.PARTNER_TCF_STATUS||n["dianomi-tcf"]?(p=null,(d=n.tcString)&&(p=function(e,t){try{if(0===t.user.in_gdpr)return null;var n=Nn.decode(e),r=new jr;r.gdprApplies=k(t.user.in_gdpr),r.tcString=e,r.isServiceSpecific=n.isServiceSpecific,r.useNonStandardTexts=n.useNonStandardTexts,r.purposeOneTreatment=n.purposeOneTreatment,r.purpose={consents:ap(n.purposeConsents),legitimateInterests:ap(n.purposeLegitimateInterests)},r.vendor={consents:ap(n.vendorConsents),legitimateInterests:ap(n.vendorLegitimateInterests)},r.specialFeatureOptins=ap(n.specialFeatureOptins),r.publisher={consents:ap(n.publisherConsents),legitimateInterests:ap(n.publisherLegitimateInterests),customPurpose:{consents:ap(n.publisherCustomConsents),legitimateInterests:ap(n.publisherCustomLegitimateInterests)},restrictions:up(n.publisherRestrictions)};var o=ip(Ln(r),2),i=o[0],a=o[1];return new Vn(r,i,a)}catch(e){return console.error("Error decoding TC String:",e),null}}(d,n)),p?[3,8]:[4,Qo(u,c,s)]):[3,13];case 7:p=v.sent(),v.label=8;case 8:return(null==n?void 0:n.identity)&&p?[4,Ci({identity:n.identity,dianomiContextHost:e.host,tcfPermissions:p,inGDPR:1===(null==n||null===(h=n.user)||void 0===h?void 0:h.in_gdpr),dnt:1===(null==n||null===(y=n.user)||void 0===y?void 0:y.dnt)},r,i.prebidDebug)]:[3,10];case 9:n.identity_values=v.sent(),v.label=10;case 10:return(t.getAttribute("data-dianomi-context-loaded")||a.CONTEXT_NOT_LOADED)===a.CONTEXT_LOADED?[3,12]:[4,o(e,t,n,p)];case 11:v.sent(),v.label=12;case 12:return[2];case 13:return[4,o(e,t,n,null)];case 14:return v.sent(),[2]}}))},fp=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){cp(i,r,o,a,u,"next",e)}function u(e){cp(i,r,o,a,u,"throw",e)}a(void 0)}))},fp.apply(this,arguments)}function pp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dp(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function hp(e,t,n){e.forEach((function(e){!function(e,t){navigator.sendBeacon("https://".concat(t,"/cgi-bin/reporting.pl"),JSON.stringify(e))}(function(e,t){var n=t.videoId,r=t.uniqueId,o=t.adId,i=t.url,a=t.adType,u={type:e.type,url:i,body:e.body,unique_id:r,ad_type:a};return n&&(u.video_id=n),o&&(u.ad_id=o),u}(e,t),n)}))}function yp(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if("sendBeacon"in navigator&&"ReportingObserver"in window&&"JSON"in window){var o=dp(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){pp(e,t,n[t])}))}return e}({},t),{url:r||R(),adType:n}),i=new ReportingObserver((function(t){hp(t,o,e)}),{buffered:!0,types:["intervention"]});i.observe(),window.addEventListener("pagehide",(function(){var t=i.takeRecords();t.length>0&&hp(t,o,e)}))}}function vp(e){var t,n;function r(t,n){try{var i=e[t](n),a=i.value,u=a instanceof mp;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("next",e):o(i.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){o("throw",e)}}function o(e,o){switch(e){case"return":t.resolve({value:o,done:!0});break;case"throw":t.reject(o);break;default:t.resolve({value:o,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,o){return new Promise((function(i,a){var u={key:e,arg:o,resolve:i,reject:a,next:null};n?n=n.next=u:(t=n=u,r(e,o))}))},"function"!=typeof e.return&&(this.return=void 0)}function bp(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function gp(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){bp(i,r,o,a,u,"next",e)}function u(e){bp(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Sp(e){return new mp(e)}function mp(e){this.wrapped=e}function Op(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ep(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Op(e,t,n[t])}))}return e}function _p(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function wp(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}"function"==typeof Symbol&&Symbol.asyncIterator&&(vp.prototype[Symbol.asyncIterator]=function(){return this}),vp.prototype.next=function(e){return this._invoke("next",e)},vp.prototype.throw=function(e){return this._invoke("throw",e)},vp.prototype.return=function(e){return this._invoke("return",e)};var Tp=null;function Ip(e){var t=e.callback,n=e.options,r=void 0===n?{threshold:0}:n,o=e.createNew;return!Tp||void 0!==o&&o?Tp=new IntersectionObserver(t,r):Tp}var Pp=function(e,t,n,r,o,i,a){return"1"===i?(e.args.height="0",v(t,e.args,n),_(r,"resize"),!0):"1"===a&&(e.args.height="0",v(t,e.args,n),_(r,"collapse",o),!0)};function Ap(e,n,r,u){var c,l,f,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,d="20250327154846705",y=0,E=0,N=1,C={videoDebug:E,tcfDebug:E,prebidDebug:E},R=(f=null,function(){return f||(f=n.querySelectorAll(".dianomiLazy"))});function j(e,t,n,r){return V.apply(this,arguments)}function V(){return V=gp((function(u,s,f,p){var h,E,w,N,k,j,V,W,z,J,X,$,Z,te,ne,re,oe,ie,ae,ue;function ce(e,t,n){if(e.when&&e.when[t]){for(var r=e.when[t],o=0;o<r.length;o++)if(r[o]===n)return!0;return!1}return!0}function se(e,t,n){return le.apply(this,arguments)}function le(){return le=gp((function(t,r,o){var i,a,u,c,s,l,f,p,d,h,y,v,b,g,S=arguments;function m(){u()?(e.postMessage({type:"dianomi-native-ad",responsive:!0,nativeUnit:o},"*"),s.style.flexDirection="column"):(e.postMessage({type:"dianomi-native-ad",responsive:!1,nativeUnit:o},"*"),s.style.flexDirection="row")}return wp(this,(function(o){switch(o.label){case 0:i=S.length>3&&void 0!==S[3]?S[3]:j,a=r.responsiveWidth||"0",u=function(){return N<=Number(a)},(c=n.createElement("div")).id="dianomi-native-main-container",(s=n.createElement("div")).id="dianomi-native-container",s.style.display="flex",s.style.flexDirection=u()?"column":"row",c.appendChild(s),i.appendChild(c),l=!0,f=!1,p=void 0,o.label=1;case 1:o.trys.push([1,6,7,8]),d=t[Symbol.iterator](),o.label=2;case 2:return(l=(h=d.next()).done)?[3,5]:("video"===(y=h.value).type&&y.data&&(y.args.data=y.data[0]),[4,W[y.type](y.args,s,!0,u())]);case 3:o.sent(),o.label=4;case 4:return l=!0,[3,2];case 5:return[3,8];case 6:return v=o.sent(),f=!0,p=v,[3,8];case 7:try{l||null==d.return||d.return()}finally{if(f)throw p}return[7];case 8:return b=0,g=setInterval((function(){b>50&&clearInterval(g),m(),b++}),100),O(e,(function(){m(),clearInterval(g)})),[2]}}))})),le.apply(this,arguments)}function fe(e,t){return pe.apply(this,arguments)}function pe(){return pe=gp((function(t,n){var r,o,i;return wp(this,(function(a){switch(a.label){case 0:return P("native",t)?(se(t.units,{},"0",n),[3,5]):[3,1];case 1:return I(["smartad","video"],t)?(P("smartad",t)&&n&&(n=Y(n,t.args,!1,e),O(e,(function(){return b(n,t.args,N)}))),n?(r=t.args,o=t.type,P("googleTag",t)||P("iframe",t)||!t.seed||(r=_p(Ep({},r),{seed:t.seed})),"video"===o&&t.data&&(t.args.data=t.data[0]),[4,W[o](r,n,!1,!0)]):[3,3]):[3,4];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:P("passback",t)&&(i=G(t),n.append(i)),a.label=5;case 5:return[2]}}))})),pe.apply(this,arguments)}function de(t){var o,i=t.units,a=t.closeIfEmpty,c=void 0===a?null:a,s=t.closeUnitIfEmpty,p=void 0===s?null:s,d=t.sticky,h=void 0===d?null:d,y=Math.floor(1e6*Math.random()),v=D(i).units,b=Object.keys(v);function g(){var o;return o=function(o){var i,a,s,l,d,g;return wp(this,(function(S){switch(S.label){case 0:i=null,a="waterfall-".concat(y),S.label=1;case 1:if(0===o)if(h){l=H({frameWindow:e,frameDocument:n},u.host,t,r,null==f||null===(s=f.user)||void 0===s?void 0:s.adchoices);try{(e.top||e).document.body.appendChild(l),i=l}catch(e){console.error(e)}}else i=n.createElement("div"),j.append(i),i.id=a;else i&&(i.innerHTML="");return d=b[o],void 0!==(g=v[d])&&i?(!h||P("cfWaterfall",g)||P("native",g)||(g.args.sticky=h),o++,P("smartad",g)&&0===B(g.args,{width:N,height:k})?o===b.length&&Pp(g,i,N,e,w,c,p)?[2]:[3,1]:[4,Sp(fe(g,i))]):[2];case 2:return S.sent(),[4];case 3:return S.sent()||o===b.length&&I(["smartad","video"],g)&&Pp(g,i,N,e,w,c,p)?[2]:[3,1];case 4:return[2]}}))},g=function(){return new vp(o.apply(this,arguments))},g.apply(this,arguments)}l=function(e){return g.apply(this,arguments)}(0),e.addEventListener("message",(function(e){var t,n;"dianomi-waterfall"===(null===(t=e.data)||void 0===t?void 0:t.type)&&(null==l||null===(n=l.next)||void 0===n||n.call(l,e.data.adServed))}),!1),null==l||null===(o=l.next)||void 0===o||o.call(l)}return wp(this,(function(l){switch(l.label){case 0:if(E=!1,le=n.getElementById("dianomi-context-wrapper"),w=null==le?void 0:le.getAttribute("data-dianomi-parent-iframe-id"),f["dianomi-tcf"]&&console.log("contextfeed tcf debug enabled, context id",null==u?void 0:u.id,"tcfPermissions=",p),(f["dianomi-tcf"]||f.partner_tcf_status==a.PARTNER_TCF_STATUS)&&p&&!p.can_serve_ads())return f["dianomi-tcf"]&&console.log("context feed tcf debug, showing nothing due to can_serve_ads for context id",u.id),o.notify_context(u.host,u.id,U(f),i.NoPermissions),[2];for(ne in!f["dianomi-tcf"]&&f.partner_tcf_status!=a.PARTNER_TCF_STATUS||null!==p||(f["dianomi-tcf"]&&console.log("context feed tcf debug, no tcf object for context id",u.id),o.notify_context(u.host,u.id,U(f),i.NoTcData)),A(s,null===(h=f.args)||void 0===h?void 0:h.styling),N=S(e),k=m(e),O(e,(function(){N=S(e),k=m(e)})),j=t("div",{className:"adContainer"}),V=function(r){n.body.style.overflow="hidden",n.body.style.margin="0";var o={maxWidth:r.width||"650px",height:r.height||"auto",margin:"0 auto"};A(s,o),M(s,r,N),O(e,(function(){return M(s,r,N)}));var i=n.createElement("link");if(i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href","https://".concat(u.host,"/partner/dianomi/css/dianomi-context.css?v=1.1")),n.body.appendChild(i),f.header_html){var a=t("div",{className:"header-container"});a.innerHTML=f.header_html,s.appendChild(a)}s.append(j),r.iframebuster&&("loading"==n.readyState?n.addEventListener("DOMContentLoaded",(function(){return F(r.iframebusterOptions)})):F(r.iframebusterOptions))},W={video:(I=gp((function(t){var r,o,i,a,s,l,h,v=arguments;return wp(this,(function(S){return r=v.length>1&&void 0!==v[1]?v[1]:j,o=v.length>2&&void 0!==v[2]&&v[2],i=v.length>3&&void 0!==v[3]&&v[3],a=Math.floor(1e5*Math.random()),s="dianomi_video_".concat(t.id,"_").concat(a),l=n.createElement("div"),o&&(l.style.paddingRight=t.nativeRightPadding||"20px"),"left"===t.float&&(l.style.padding="0 15px 0 0"),l.id="dianomi-video-container-".concat(t.id,"-").concat(a),l.classList.add("dianomi_video"),o||(g(l,t,N),b(l,t,N,!0),O(e,(function(){b(l,t,N,!0),g(l,t,N)}))),r.appendChild(l),e[s]={args:t,context_id:u.id,dianomiContextHost:u.host,data:f,tcfPermissions:p,server_can_serve_ads:null==p?void 0:p.can_serve_ads(),server_can_cookie:null==p?void 0:p.can_cookie(),viewportWidth:N,dianomiContextAffiliate:u.affiliate,randomId:a,videoDebug:C.videoDebug,dianomiPageUrl:c,cf:f.cf,isNative:o,isNativeResponsive:i,dvDivContainer:l,dianomiClickMacro:u.clickMacro,unitCount:y++,topProductId:u.topProductId},(h=n.createElement("script")).src="https://".concat(u.host,"/js/contextfeed/videofeed.js?v=").concat(d),h.id="dianomi_video_script",h.type="text/javascript",h.setAttribute("dianomi-variable-name",s),r.appendChild(h),e.addEventListener("message",(function(t){var n;"dianomi-parent-resize"===(null===(n=t.data)||void 0===n?void 0:n.type)&&_(e,"resize")})),[2]}))})),function(e){return I.apply(this,arguments)}),smartad:function(){var t=gp((function(t){var o,i,s,l,d,h,m,_,w,I,P,A,C,R,D,V,M=arguments;return wp(this,(function(U){switch(U.label){case 0:return o=M.length>1&&void 0!==M[1]?M[1]:j,i=M.length>2&&void 0!==M[2]&&M[2],s=M.length>3&&void 0!==M[3]&&M[3],t.inline?(l="https://".concat(u.host,"/smartads.epl?id=").concat(encodeURIComponent(t.id),"&callback=callback").concat(encodeURIComponent(t.id),"&return_as=callback%20function&returnAs=callback%20function"),(d=n.createElement("script")).setAttribute("src",l),e["callback".concat(t.id)]=function(e){var t="SMART HTML :".concat(e),r=n.getElementById("test");r&&(r.innerHTML=t)},(h=n.createElement("div")).classList.add("dianomiContent"),h.style.display="block",h.setAttribute("id","test"),o.appendChild(h),n.body.appendChild(d),[3,7]):[3,1];case 1:return 0===(m=B(t,{width:N,height:k}))?[2]:(_=n.createElement("iframe"),w=T(t,y++,f),I={numAds:m,cf:f.cf,url:c,unitCount:y,unitId:w,isWaterfall:s,id:t.id,start:t.start,seed:t.seed,initId:t.initId,responsiveHeight:t.responsiveHeight,closeIfEmpty:t.closeIfEmpty,shuffle:t.shuffle,contentRendered:t.contentRendered,affiliate:u.affiliate,clickMacro:u.clickMacro,darkmodeOverride:u.darkmodeOverride,pageDomain:u.pageDomain,topProductId:u.topProductId,uspString:f.uspString,gppString:f.gppString,gpp_sid:f.gpp_sid,contextfeedFrameId:r},P={dianomiContextHost:u.host,tcfPermissions:p,server_can_serve_ads:(null==p?void 0:p.can_serve_ads())||null,server_can_cookie:(null==p?void 0:p.can_cookie())||null,data:f,params:I},A=K(P),C=Y(_,t,s,e),t.id&&(C.id=t.id),C.setAttribute("data-dianomi-unit-id",w),t.order&&(C.style.order=t.order),C.setAttribute("title","dianomi SmartAd Content ".concat(t.id,"-").concat(y)),C.classList.add("smartad_iframe"),f.identity_values?t.lazy!==a.LAZY_LOADING_ENABLED?[3,2]:(C.classList.add("lazyPost"),C.classList.add("dianomiLazy"),C.setAttribute("data-src-post",A),C.setAttribute("data-eids",JSON.stringify(f.identity_values)),[3,4]):[3,5]);case 2:return[4,L(C,A,JSON.stringify(f.identity_values))];case 3:U.sent(),U.label=4;case 4:return[3,6];case 5:!function(e,t,n){t.lazy&&t.lazy===a.LAZY_LOADING_ENABLED?(e.className="lazy dianomiLazy",e.setAttribute("data-src",n)):e.setAttribute("src",n)}(C,t,A),U.label=6;case 6:if(R=!1,t.lazy&&t.lazy===a.LAZY_LOADING_ENABLED&&(E=!0,R=!0),i&&C.classList.add("dianomi-native-iframe"),i||function(e,t,n,r){if(r.parent){var o=r.parent.innerWidth,i=S(r);b(e,t,i,!1,n),g(e,t,i),v(e,t,i),O(r,(function(){r.parent&&r.parent.innerWidth!==o&&(o=r.parent.innerWidth,i=S(r),t.responsiveHeight||v(e,t,i),b(e,t,i,!1,n),g(e,t,i))}))}}(C,t,s,e),x(C,t),t.sticky===a.STICKY_AD){(V=H({frameWindow:e,frameDocument:n},u.host,t,r,null==f||null===(D=f.user)||void 0===D?void 0:D.adchoices)).appendChild(_);try{(e.top||e).document.body.appendChild(V)}catch(e){console.error(e)}}else o.appendChild(C);R&&q({iframe:C,rootMargin:t.lazyRootMargin,rootElement:t.lazyRootElement}),i&&function(e,t,n){n.addEventListener("message",(function(n){var r,o,i=n.data;"dianomi-native-ad"===i.type&&(i.responsive?(null===(r=e.contentWindow)||void 0===r||r.postMessage({type:"dianomi-native-responsive",responsive:!0},"*"),e.style.width="100%"):(null===(o=e.contentWindow)||void 0===o||o.postMessage({type:"dianomi-native-responsive",responsive:!1},"*"),t.width&&(e.style.width=t.width)))}),!1)}(C,t,e),U.label=7;case 7:return[2]}}))}));return function(e){return t.apply(this,arguments)}}(),iframe:function(t){var r=n.createElement("iframe");t.src&&(r.setAttribute("data-src",t.src),r.setAttribute("src",t.src)),r.setAttribute("title","dianomi iframe Content"),v(r,t,N);var o=e.innerWidth;O(e,(function(){e.parent&&e.parent.innerWidth!==o&&(o=e.innerWidth,v(r,t,N))})),t.width&&(r.style.width=t.width),t.scrolling&&(r.style.overflow=t.scrolling),t.border&&(r.style.border=t.border),j.appendChild(r)},recirc:function(t){var r=B(t,{width:N,height:k});if(0!==r){var o=n.createElement("iframe"),i=T(t,y++,f);o.setAttribute("data-dianomi-unit-id",i);var s="https://".concat(u.host,"/recirculation.epl?id=").concat(t.id,"&unitId=").concat(i);t.id&&(o.id=t.id),t.start&&(s+="&start=".concat(t.start)),t.seed&&(s+="&seed=".concat(Number(t.seed))),f.cf&&(s+="&cf=".concat(encodeURIComponent(f.cf))),c&&(s+="&url=".concat(encodeURIComponent(c))),r&&(s+="&numAds=".concat(r));var l=!1;t.lazy&&t.lazy===a.LAZY_LOADING_ENABLED?(E=!0,l=!0,o.classList.add("lazy"),o.classList.add("dianomiLazy"),o.setAttribute("data-src",s),o.style.minHeight="1px;"):o.setAttribute("src",s);var p="100%";t.width&&(p=t.width),o.style.width=p,o.setAttribute("title","dianomi Recirculation Content"),g(o,t,N),v(o,t,N),b(o,t,N);var d=e.innerWidth;O(e,(function(){e.parent&&e.parent.innerWidth!==d&&(d=e.parent.innerWidth,g(o,t,N),v(o,t,N),b(o,t,N))})),t.minWidth&&(o.style.minWidth=t.minWidth),o.style.border="none",o.style.overflow="hidden",x(o,t),j.appendChild(o),l&&q({iframe:o,rootMargin:t.lazyRootMargin,rootElement:t.lazyRootElement})}},googleTag:function(e){var t;(t=n.createElement("script")).async=!0,t.src="https://www.googletagservices.com/tag/js/gpt.js",n.head.appendChild(t);var r=n.createElement("div"),o=n.createElement("script"),i=n.createElement("script"),u="";e.tagID&&(r.id=e.tagID),e.padding&&(r.style.padding=e.padding),e.align&&(r.style.textAlign=e.align),e.minWidth&&(r.style.minWidth=e.minWidth),b(r,e,N),g(r,e,N),r.className="googleAdFrame",o.type="text/javascript",e.lazy&&e.lazy===a.LAZY_LOADING_ENABLED&&(u="googletag.pubads().enableLazyLoad({fetchMarginPercent: 100,renderMarginPercent: 80,mobileScaling: 1.5}); ",r.style.minHeight="1px"),o.text=" window.googletag = window.googletag || {cmd: []}; googletag.cmd.push(function() {googletag.defineSlot('".concat(e.slot,"', [").concat(e.sizes,"], '").concat(e.tagID,"').addService(googletag.pubads()); ").concat(u," googletag.enableServices(); });"),i.type="text/javascript",i.text=" googletag.cmd.push(function() { googletag.display('".concat(e.tagID,"');});"),n.head.appendChild(o),j.appendChild(r),r.appendChild(i)}},z={},f.args&&(z=f.args),V(z),J=e.parent.location.hostname,X=f.user.country_code,$=D(f.units),Z=$.units,$.responsiveHeight&&e.addEventListener("message",(function(t){if("string"==typeof t.data&&t.origin.includes("dianomi.com")){var r=t.data.split("-");if(/\d{1,4}-\d{1,6}/.test(t.data)){var o=r[0],i=r[1];if(Number(i))for(var a=n.querySelectorAll("[data-dianomi-unit-id^=dianomi-".concat(i,"]")),u=0;u<a.length;u++)a[u].style.height="".concat(o,"px"),_(e,"resize")}if(/\d{1,4}-([a-z])\w+-\d{1,6}-/.test(t.data))for(var c=n.querySelectorAll("IFRAME"),s=0;s<c.length;s++){var l=c[s],f=r[0];if(l.getAttribute("data-dianomi-unit-id")==="dianomi-".concat(r[2],"-").concat(r[3])){_(e,"resize"),l.style.height="".concat(f,"px");break}}}else if(t.data&&"object"===function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t.data)&&"__dianomiResponsiveHeight"in t.data){var p=t.data.__dianomiResponsiveHeight,d=p.frameId,h=p.height;if(Number(d))for(var y=n.querySelectorAll("[data-dianomi-unit-id^=dianomi-".concat(d,"]")),v=0;v<y.length;v++)y[v].style.height="".concat(h,"px"),_(e,"resize")}}),!1),E&&function(){for(var e=Ip({callback:function(){return Q()},options:{threshold:1}}),t=R(),n=0;n<t.length;n++){var r=t[n];ee(r,e,!1),ee(r,e,!0)}}(),te=[],Z)te.push(ne);re=0,l.label=1;case 1:return re<te.length?(oe=te[re],P("cfWaterfall",ie=Z[oe])?(de(ie),[3,12]):P("native",ie)?(ae=f[oe]||{},[4,se(ie.units,ae,oe.split("-")[1])]):[3,3]):[3,13];case 2:return l.sent(),[3,12];case 3:if(P("passback",ie))return ue=G(ie),j.append(ue),[3,12];if(!ce(ie,"domain",J)||!ce(ie,"country_code",X))return[3,12];switch(P("googleTag",ie)||P("iframe",ie)||!ie.seed||(ie.args=_p(Ep({},ie.args),{seed:ie.seed})),ie.type){case"smartad":return[3,4];case"recirc":return[3,6];case"video":return[3,7];case"googleTag":return[3,9];case"iframe":return[3,10]}return[3,11];case 4:return[4,W.smartad(ie.args)];case 5:return l.sent(),[3,12];case 6:return W.recirc(ie.args),[3,12];case 7:return ie.data&&(ie.args.data=ie.data[0]),[4,W.video(ie.args)];case 8:return l.sent(),[3,12];case 9:return W.googleTag(ie.args),[3,12];case 10:return W.iframe(ie.args),[3,12];case 11:throw new Error("Dianomi: Unknown unit type ".concat(ie.type,". Check the unit type in the YAML file. Must be one of the following: smartad, recirc, video, googleTag, iframe, cfWaterfall"));case 12:return re++,[3,1];case 13:return(f.partner_tcf_status==a.PARTNER_TCF_STATUS||f["dianomi-tcf"])&&s.setAttribute("data-dianomi-context-loaded",a.CONTEXT_LOADED),kp.stop("cf-loading-".concat(r)),[2]}var I,le}))})),V.apply(this,arguments)}function M(e,t,n){t.mobileDisplay&&n<480?e.style.display=t.mobileDisplay:e.style.display="block"}function x(e,t){t.display?e.style.display=t.display:e.style.display="block"}function F(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.parent.postMessage({type:"dianomi-iframebuster",options:t},"*")}function W(e){return z.apply(this,arguments)}function z(){return z=gp((function(r){var o,i,l,f,d,y,v,b,g,S,m,O,_,T,I,P,A,R,D,V,L,M,x,G;return wp(this,(function(F){switch(F.label){case 0:return i=function(e,t){var n={},r=!0,o=!1,i=void 0;try{for(var a,u=Object.entries(t)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=s(a.value,2),l=c[0],f=c[1],p="string"==typeof f,d=e.getAttribute(p?f:f.attribute);n[l]=p?d:w(d,f)}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(r,h),l=i.id,f=i.done,d=i.host,y=i.endpoint,v=i.cfTest,b=i.trafficSource,f===a.CONTEXT_LOADED?[2]:"string"!=typeof i.id?(console.log("Couldn't find data-dianomi-context-id",r),[2]):(function(e){var t=e.split(".")[0];try{var n,r,o=new URLSearchParams((null===(n=window.top)||void 0===n?void 0:n.location.search)||"");for(r in C){var i=o.get(r),a=parseInt(i||"0");C[r]=isNaN(a)?"dev"===t?N:E:a}}catch(e){"dev"===t&&console.log("Unable to check for debug options")}}(d),p?(g=p,[3,4]):[3,1]);case 1:return S="https://".concat(d,"/cgi-bin/").concat(y,"?id=").concat(l),"dev.dianomi.com"===d&&(S+="&test=".concat(Date.now())),v&&(S+="&dianomitest=".concat(v)),b&&(S+="&trafficSource=".concat(b)),function(e){try{var t=decodeURIComponent(e);return"null"!==new URL(t).origin}catch(e){return!1}}(m=function(e){var t,n=e.frameWindow,r=e.frameDocument,o=null===(t=r.querySelectorAll(".dianomi_context")[0])||void 0===t?void 0:t.getAttribute("data-referrer-url");if(o)return o;try{var i=window.location.href||n.parent.location.href||n.location.href||r.location.href;return r.referrer.includes("safeframe.googlesyndication")&&(document.referrer||r.referrer)||i}catch(e){return o||r.referrer||r.location.href}}({frameWindow:e,frameDocument:n}))&&(O=m.split("/")[2],S+="&h=".concat(encodeURIComponent(O),"&url=").concat(encodeURIComponent(m)),c=m),i.pageDomain&&(S+="&pageDomain=".concat(encodeURIComponent(i.pageDomain))),_=new URLSearchParams(e.location.search),_.get("debug")&&(S+="&debug=1"),[4,e.fetch(S,{credentials:"include"})];case 2:return(T=F.sent()).ok?[4,T.json()]:[2];case 3:g=F.sent(),F.label=4;case 4:if(-1!=n.location.hostname.indexOf("exedra.dianomi.com")&&(g.partner_tcf_status="0"),(null==g||null===(o=g.user)||void 0===o?void 0:o.tcfDebug)>0&&(C.tcfDebug=null==g||null===(I=g.user)||void 0===I?void 0:I.tcfDebug),yp(d,{adId:l||(null==g?void 0:g.cfid),uniqueId:null==g?void 0:g.unique_id},"contextfeed"),i.consent)try{(P=JSON.parse(i.consent)).tcf&&(g.tcString=P.tcf),P.usp&&(g.uspString=P.usp),P.gpp&&(g.gppString=P.gpp),P.usp&&P.usp.length>4&&!g.gppString&&/([A-Za-z]).{5,6}~(.*)/.test(P.usp)&&(g.gppString=P.usp,g.uspString=null)}catch(e){console.log("Unable to get consent data, invalid JSON.")}return g.css&&(A="https://".concat(i.host).concat(g.css),g.css.startsWith("blob:")&&(A=g.css),R=t("link",{type:"text/css",rel:"stylesheet",href:A}),n.head.append(R),g.css.startsWith("blob:")&&URL.revokeObjectURL(A)),D=U(g),g.cf=D,V=function(e){var n=e.countryCode,r=e.host,o=void 0===r?"www.dianomi.com":r,i=e.cf,a=n?"&geo_ccod=".concat(n):"",u="https://".concat(o,"/cgi-bin/pixeltrack.pl?cf=").concat(encodeURIComponent(i)).concat(a);return t("img",{style:{width:"0px",height:"0px",display:"none"},src:u})}({countryCode:g.user.country_code,host:i.host,cf:D}),r.append(V),u?(u.initialize_can_cookie(k(g.user.can_cookie)),u.initialize_can_serve_ads(k(g.user.can_serve_ads)),(null==g?void 0:g.identity)?[4,Ci({identity:g.identity,dianomiContextHost:i.host,tcfPermissions:u,inGDPR:1===(null==g||null===(L=g.user)||void 0===L?void 0:L.in_gdpr),dnt:1===(null==g||null===(M=g.user)||void 0===M?void 0:M.dnt)},{frameWindow:e,frameDocument:n},C.prebidDebug)]:[3,6]):[3,14];case 5:g.identity_values=F.sent(),F.label=6;case 6:return g.gpp?g.gppString?(x=tp(g.gppString),[3,9]):[3,7]:[3,10];case 7:return[4,$f(e)];case 8:x=F.sent(),F.label=9;case 9:(null==x?void 0:x.tcf)&&!g.tcString&&(g.tcString=x.tcf.string),(null==x?void 0:x.usp)&&!g.uspString&&(g.uspString=x.usp.string),(null==x?void 0:x.sectionId)&&!g.gpp_sid&&(g.gpp_sid=x.sectionId),F.label=10;case 10:return!g.usp||g.uspString?[3,12]:[4,Vi(e)];case 11:G=F.sent(),g.uspString=G,F.label=12;case 12:return[4,j(i,r,g,u)];case 13:return F.sent(),[3,16];case 14:return[4,lp(i,r,g,{frameWindow:e,frameDocument:n},j,C)];case 15:F.sent(),F.label=16;case 16:return r.setAttribute("data-dianomi-context-done",a.CONTEXT_LOADED),[2]}}))})),z.apply(this,arguments)}function Q(){var e=n.querySelectorAll(".dianomi_context"),t=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){W(i.value)}}catch(e){r=!0,o=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw o}}}function q(t){var n=t.iframe,r=t.rootMargin,o=t.rootElement,i=t.threshold,u=void 0===i?0:i,c=t.createNew,s=void 0!==c&&c,l=Ip({callback:function(t){t.forEach((function(t){t.isIntersecting&&(!function(e){Z.apply(this,arguments)}(t.target),ee(t.target,l,!1),_(e,"resize"))}))},options:{threshold:u,rootMargin:"".concat(null!=r?r:a.LAZY_LOADING_ROOT_MARGIN,"px"),root:o?ne(n,o):null},createNew:s});ee(n,l,!0)}function J(e,t){return X.apply(this,arguments)}function X(){return(X=gp((function(e,t){var n;return wp(this,(function(r){try{n=new URL(t),e.src=n.href,e.classList.add("loaded")}catch(e){console.error("Dianomi: Unable to set src attribute as source is not a valid URL")}return[2]}))}))).apply(this,arguments)}function $(e){return"IFRAME"===e.tagName}function Z(){return(Z=gp((function(e){var t,n;return wp(this,(function(r){switch(r.label){case 0:return $(e)?(t=e.getAttribute("data-src")||"",n=e.getAttribute("data-src-post")||"",t?[4,J(e,t)]:[3,2]):[2];case 1:return r.sent(),[3,4];case 2:return n?[4,L(e,n)]:[3,4];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))).apply(this,arguments)}function ee(e,t,n){n?t.observe(e):t.unobserve(e)}var te=function(e,t){return!!t&&("#"===e[0]?t.id.includes(e.substring(1)):t.className.includes(e.substring(1)))};function ne(t,n){return"body"===(null==t?void 0:t.tagName.toLowerCase())&&e.top===e?null:"body"===(null==t?void 0:t.tagName.toLowerCase())?ne(e.frameElement,n):te(n,t)?t:t?ne(t.parentElement,n):null}return{dianomiLoadContext:j,dianomiContextElement:W,reloadFrameContext:Q,waterfallAdServed:function(e){l.next(e)},skipLazyAds:function(){if(Tp){var e=R(),t=!0,n=!0,r=!1,o=void 0;try{for(var i,a=function(){var e=i.value;Tp.unobserve(e),setTimeout((function(){$(e)&&(q({iframe:e,threshold:.2,createNew:t}),t=!1)}),500)},u=e[Symbol.iterator]();!(n=(i=u.next()).done);n=!0)a()}catch(e){r=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw o}}}}}}function Np(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Cp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rp(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}var Dp="dianomiPerformance=1";var kp=function(){var e={},t={start:function(t){e[t]&&console.error("Tracker name: ".concat(t," already in use. Overwriting.")),e[t]={start:performance.now()}},stop:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e[t];if(r){var o=performance.now()-r.start,i=n?", ".concat(n):"";console.log("*** ".concat(t," performance = ").concat(o.toFixed(2)," ").concat(i," ***"))}else console.error("Tracker name: ".concat(t," not started. Ignoring."))}};return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?t:{start:function(){},stop:function(){}}}(function(){try{var e;return(null===(e=window.top)||void 0===e?void 0:e.location.search.includes(Dp))||window.location.search.includes(Dp)}catch(e){return window.location.search.includes(Dp)}}()||!1),jp={contextId:"data-dianomi-context-id",complete:"data-dianomi-complete",parentFrameId:"data-dianomi-parent-iframe-id",hostname:"data-dianomi-context-hostname"},Vp={context:".dianomi_context",childContext:".dianomi-context",parentIframe:".dianomi-parent-iframe",contextWrapper:"dianomi-context-wrapper"},Lp=function(e){return e.startsWith(".")||e.startsWith("#")?e.substring(1):e},Mp={};function Up(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=document.querySelectorAll(Vp.context),n=!0,r=!1,o=void 0;try{for(var i,a=function(){var t,n=i.value,r=Number(n.getAttribute(jp.contextId)),o=n.getElementsByClassName(Lp(Vp.parentIframe)).length>0,a="1"===n.getAttribute(jp.complete);if(!r||a&&o)return"continue";var u="".concat(r,"-").concat(Math.round(1e3*Math.random()));kp.start("cf-loading-".concat(u));var c=function(e){var t=document.createElement("iframe");return t.classList.add(Lp(Vp.parentIframe)),t.title="Dianomi ad container (".concat(e,")"),t.id=e,t.style.width="100%",t.height="0",t.style.overflow="hidden",t.style.border="none",t}(u);n.appendChild(c);var s=function(e,t){var n=document.createElement("div");n.classList.add(Lp(Vp.childContext)),n.id=Vp.contextWrapper,n.setAttribute(jp.parentFrameId,t);var r=document.createElement("div");return r.classList.add("dianomi_context"),y.forEach((function(t){var n=e.getAttribute(t);n&&r.setAttribute(t,n)})),n.appendChild(r),n}(n,u);"complete"!==(null===(t=c.contentDocument)||void 0===t?void 0:t.readyState)?c.onload=function(){xp(c,s,u,e)}:xp(c,s,u,e),n.setAttribute(jp.complete,"1"),window.addEventListener("message",Hp)},u=t[Symbol.iterator]();!(n=(i=u.next()).done);n=!0)a()}catch(e){r=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw o}}}function xp(e,t,n){return Gp.apply(this,arguments)}function Gp(){var e;return e=function(e,t,n){var r,o,i,a,u,c,s=arguments;return Rp(this,(function(l){switch(l.label){case 0:return r=s.length>3&&void 0!==s[3]?s[3]:null,(o=e.contentDocument)?((i=o.body).appendChild(t),i.style.overflow="hidden",[4,Qo(null,null,C(),!0)]):[2];case 1:return a=l.sent(),u=e.contentWindow,c=Ap(u,o,n,a,r),Mp[n]=c,c.reloadFrameContext(),f=setInterval((function(){return Wp()}),100),setTimeout((function(){clearInterval(f)}),1e4),[2]}var f}))},Gp=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Np(i,r,o,a,u,"next",e)}function u(e){Np(i,r,o,a,u,"throw",e)}a(void 0)}))},Gp.apply(this,arguments)}var Fp={"dianomi-parent-resize":function(){return Wp()},"dianomi-iframebuster":function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yp,t=0,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Cp(e,t,n[t])}))}return e}({},Yp,e),r=window.setInterval((function(){if(window.frameElement){var e=window.parent.document.getElementById(window.frameElement.id);if(e&&"IFRAME"===e.tagName&&e.contentWindow===window){e.style.width=n.width,e.style.display=n.display;var o=document.body.scrollHeight;e.style.height="".concat(n.additionalBodyHeight+o,"px")}}10==++t&&window.clearInterval(r)}),1e3)}(e.options)},"dianomi-parent-collapse":function(e){return t=e.frameId,void((n=document.getElementById(t))&&n.remove());var t,n},"dianomi-waterfall":function(e){var t=null==e?void 0:e.cfid,n=Mp[t];n&&n.waterfallAdServed(e.adServed)},"dianomi-viewport-width-request":function(e,t){!function(e){if(e.source&&"function"==typeof e.source.postMessage){var t=window.innerWidth;e.source.postMessage({type:"dianomi-viewport-width-response",width:t},e.origin)}}(t)}},Bp=Object.keys(Fp);function Hp(e){var t,n=null===(t=e.data)||void 0===t?void 0:t.type;n&&Bp.includes(n)&&Fp[n](e.data,e)}function Wp(){var e=document.querySelectorAll(Vp.parentIframe),t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,u=0,c=a.contentDocument,s=null==c?void 0:c.getElementById(Vp.contextWrapper);if(s)u=s.scrollHeight;else{var l,f=null==c?void 0:c.body;u=null!==(l=null==f?void 0:f.scrollHeight)&&void 0!==l?l:0}a.height="".concat(u,"px")}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}var zp,Yp={width:"100%",display:"block",additionalBodyHeight:20};zp=Up,"loading"!==document.readyState?zp():document.addEventListener("DOMContentLoaded",(function(){zp()})),window.dianomiReloadContext=function(){return Up()},window.dianomiSkipLazyAds=function(){return function(){var e=!0,t=!1,n=void 0;try{for(var r,o=Object.values(Mp)[Symbol.iterator]();!(e=(r=o.next()).done);e=!0)r.value.skipLazyAds()}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}}()},window.dianomiPreviewContextFeed=function(e){Up(e)}})();