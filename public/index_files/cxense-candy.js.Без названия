window.cxdj=window.cxdj||{version:"2025-03-17 03:30:45",renderTemplateHost:"http://cdn.cxpublic.com/",envType:"",env:"prod",initialized:!1,userId:null,url:window.location.href,referrer:document.referrer,meta:{},persistedQueryId:"c77e57f707a8285372fa005966570578c63489b3",sites:{"onboarding.cxpublic.com":"9222363238898586877","www.local.wsj.com":"9222363238898586877"},sharedAccounts:{"8eebc7c7d60311c7c3936557c944228b90dbca842b100398efea4a169aa12fe7":"starbucks"},graphicsTestId:18,isSubscriber(e){return"prosubscriber"===e||"procbsubscriber"===e||"subscriber"===e},getSiteId(e){return cxdj.getSiteIdForTopDomain(cxdj.getTopDomain(e),e,cxdj.getSiteEdition())},getSiteIdForTopDomain(e,t,r){var s=t===e?"":t.slice(0,t.lastIndexOf("."+e));switch(e){case"wsj.com":return 0===window.location.pathname.indexOf("/market-data/quotes/")?"1137428874877849937":-1<["","graphics","www","store"].indexOf(s)?"9222318613852486900":"quotes"===s?"1137428874877849937":"deloitte"===s?"1135177142006008713":"partners"===s?"1135132405600019683":"onboarding"===s?"1135108723701486695":"jp"===s?"9222335528673021906":cxdj.sites[t]||"1134002947328204066";case"jp.wsj.com":return"9222335528673021906";case"cn.wsj.com":switch(r){case"asiacn":return"9222335528567651934";case"asiacn_hant":return"1135189930654442767"}case"marketwatch.com":return"bigcharts"===s?"1132882648552401441":-1<["www.stg","www.dev","s.dev","caj-qa.smpdev","caj.uat.smpdev","register.s.dev","customercenter-newlz.s.dev","newretirement-staging","stg.sponsor"].indexOf(s)?"1138573015853471556":"9222325317970825873";case"barrons.com":return"partners"===s?"1131774050934839824":-1<["dev.partners","stg.partners","sbx.partners"].indexOf(s)?"1132899956055435449":"9222325317970825875";case"realtor.com":return"1142953111780883056";case"fnlondon.com":return"1139592114930554183";case"penews.com":return"1133979867428110118";case"heatst.com":return"1140711674266969838";case"wsjplus.com":return"1144060886250044680";case"wsjcs-dev.com":return"1132877656863055436";case"moneyish.com":return"1131757219286375810";case"wsj.net":if(0===window.location.pathname.indexOf("/newsletter/"))return"1136293312189049388";break;case"mansionglobal.com":switch(r){case"naus":return"1144071410389139719";case"europees":return"1140714022692008822";default:return"1134007940894473081"}case"huanyuju.com":return"1140714022692008823";case"dowjones.com":return"1134008299188968078"}return cxdj.sites[t]||"1131751141886830816"},getEnv(e){return e.includes(".dev.")||e.includes(".stage.")?"dev":"prod"},async getEntitlementsAsyncData(){try{if(window.entitlementsAsyncData)return await window.entitlementsAsyncData||{}}catch(e){return console.error("[Candy.js] Error fetching entitlements data: ",e?.message||"Unknown error"),{}}},async isPianoEnabled(){try{var e=await cxdj.getEntitlementsAsyncData();return e?e?.client?.piano?.enable||!1:"true"===cxdj.getMetaTagValue("piano-enable")}catch(e){return console.error("[Candy.js] Error fetching entitlements data: ",e?.message||"Unknown error"),!1}},getTopDomain(e){var t;return e.startsWith("jp")?"jp.wsj.com":e.startsWith("cn")?"cn.wsj.com":2<(t=e.split(".")).length?t.slice(-2).join("."):e},getSiteEdition(){var{page_content_region:e,page_content_language:t}=cxdj.getUtagData();let r;return r="asiacn"===(r="North_America_USA"===e?"naus":"Japan"===e?"asiajp":"China"===e?"asiacn":(e=(r=cxenseOffers.getCookieValue("wsjregion")||"na,us").indexOf("reset"),(r=-1===e?r:r.slice(0,e-1)).replace(/,/g,"")))&&"zh-hant"===t?"asiacn_hant":r},async getUserPropensityBucket(){try{var t=((await cxdj.getEntitlementsAsyncData())?.profiles?.propensity||{}).propensityScore;if(!(isNaN(t)||t<0||1<t)){let e;return e=Math.round(10*t)===10*t?t?10*t:1:Math.ceil(10*t)}}catch(e){console.error("Error fetching entitlements from getUserPropensityBucket:",e)}},getAutomatedPricingFromStorage(){var e=window.localStorage.getItem("ca_offers");if(!e)return{};let t=null;try{t=JSON.parse(e)}catch(e){console.error("The Automated Pricing Data can not be parsed. "+e)}return t||{}},getAutomatedPricingData(){var e=cxdj.getAutomatedPricingFromStorage(),t=e?.main_offer,r=e?.in_situ_offers?.primary,s=e?.in_situ_offers?.secondary;return{price:e?.[t]?.price,bundleName:e?.[t]?.bundleName,rawPrice:e?.[t]?.rawPrice,benefits:e?.[t]?.benefits,primaryPrice:e?.[r]?.price,primaryBundleName:e?.[r]?.bundleName,primaryRawPrice:e?.[r]?.rawPrice,primaryBenefits:e?.[r]?.benefits,primaryOfferId:e?.[r]?.offerId,secondaryPrice:e?.[s]?.price,secondaryBundleName:e?.[s]?.bundleName,secondaryRawPrice:e?.[s]?.rawPrice,secondaryBenefits:e?.[s]?.benefits,secondaryOfferId:e?.[s]?.offerId}},getAutomatedPricingUrl(e){var t=cxdj.getAutomatedPricingFromStorage().jwt,r=window.location.hostname,r=cxdj.getTopDomain(r),s="https://www.wsj.com/subscribe";return e=e||{"cn.wsj.com":s+"/zh_cn","jp.wsj.com":s+"/ja_jp"}[r]||`https://www.${r}/subscribe`,t?cxenseOffers.addQueryStringToUrl(e,{pot:t,AP1F4404:"AP1F4404"}):e},reportEvent(e,t,r,s){let a=null,c="0";c=e&&e.length&&0===e.indexOf("https://store.wsj.com")?(cX.initializePage(),cxdj.sites["store.wsj.com"]):cxdj.getSiteId(window.location.hostname),cX.setSiteId(r||c),cX.setCustomParameters(cxdj.meta),t&&cX.setCustomParameters(t),cxdj.isSubscriber(cxdj.meta.subscriber)&&cxdj.userId&&cX.setUserProfileParameters({knownSubscriber:1}),e&&e.length&&(a={location:e}),cxdj.userId&&cX.addExternalId({id:cxdj.userId,type:"wsj"}),cX.sendPageViewEvent(a,s)},reportHOKTestImpression(e,t){cX.callQueue.push(["invoke",()=>{cX.setEventAttributes({origin:"wsj-hok",persistedQueryId:cxdj.persistedQueryId}),cX.sendEvent("hokImpression",{hokTestId:e,hokTestVariant:t})}])},reportFunnelEvent(a,c){cX.callQueue.push(["invoke",()=>{let e="default",t;"object"!=typeof a&&(a={});cX.library.parseUrlArgs();a.eventType&&(e=a.eventType),cX.setEventAttributes({origin:"wsj-funnel",persistedQueryId:cxdj.persistedQueryId}),c&&(t={callback:c});var r,s={conversionType:"subscription"};for(r in a)"eventType"!==r&&a.hasOwnProperty(r)&&(s[r]=a[r]);cX.sendEvent(e,s,t)}])},reportCustomConversion(e,t){cX.callQueue.push(["invoke",()=>{cX.setEventAttributes({origin:"wsj-conversion",persistedQueryId:cxdj.persistedQueryId}),t=t||{},cX.sendEvent(e,t)}])},reportMissingDiv(e){cX.setEventAttributes({origin:"wsj-event",persistedQueryId:cxdj.persistedQueryId}),cX.sendEvent("missingDiv",{divId:e})},reportInteractionEvent(t,r,s){cX.callQueue.push(["invoke",()=>{let e;r=r||{},cX.setEventAttributes({origin:"wsj-placement",persistedQueryId:cxdj.persistedQueryId}),s&&(e={callback:s}),cX.sendEvent(t,r,e)}])},annotateUserProfile(e,t){e=e||"default",cX.initializePage();let r=t?window.location.href:"http://event.wsj.com";r+=-1<r.indexOf("?")?"&":"?et="+e,cX.setUserProfileParameters({useraction:e}),cX.sendPageViewEvent({location:r})},trackPolicy(e,t){cX.initializePage(),cX.setUserProfileParameters({policy:e||"unknown"});let r=cxdj.meta.topDomain;t&&(r=t,cX.setSiteId(cxdj.getSiteIdForTopDomain(t,t))),cX.sendPageViewEvent({location:`http://policy.${r}/`}),"mwcpoct2017"===e&&window.localStorage&&window.localStorage.setItem("cx-gdpr-accepted","true")},reportVisibility(e,t){cX.callQueue.push(["invoke",()=>{cX.trackElement({elementId:e,trigger:{on(e){return.2<=e.visibility.timeSome},callback(e){cX.setEventAttributes({origin:"wsj-visibility",persistedQueryId:cxdj.persistedQueryId}),cX.sendEvent("widgetVisible",{widgetName:t})}}})}])},trackKnownElements(){var t=[{divId:"cx-user-headlines",name:"cx-user-headlines"},{divId:"cx-live-qa-subscribe-button",name:"cx-live-qa-subscribe-button"}];for(let e=0;e<t.length;e++){var r=t[e].divId,s=t[e].name;document.getElementById(r)&&cxdj.reportVisibility(r,s)}},isExcludedWidgetSection(e){return-1!==["JournalReports:CollegeRankings","JournalReports:CollegeRankingsHighlights","JournalReports:Conferences","JournalReports:Energy","JournalReports:Funds&ETFs","JournalReports:HealthCare","JournalReports:Leadership","JournalReports:Retirement","JournalReports:SmallBusiness","JournalReports:TechCompaniestoWatch","JournalReports:WealthManagement","JournalReports:Technology"].indexOf(e.type)},isNewRelicMonitoring(){return-1!==window.location.href.indexOf("__newrelic_pad_monitoring=true")},getAbHashValue(e){var t=cxenseOffers.getCookieValue("ab_uuid");if(!t)return-2;let r=0;for(let e=0;e<t.length;e++)r=(r<<5)-r+t.charCodeAt(e),r|=0;return(Math.abs(r)%e).toString()},getUserBucket(){return cxdj.getAbHashValue(10)},getAbBucket(){return cxdj.getAbHashValue(100)},getOmnitureCookieValue(){var e=cxenseOffers.getCookieValue("AMCV_CB68E4BA55144CAA0A4C98A5@AdobeOrg");if(!e)return{};var t=e.split("|");if(t.length<2)return{};var r,s={};for(let e=1;e<t.length-1;e+=2)s[t[e].toLowerCase()]=t[e+1];for(r in s)"none"===(s[r]||"").toLowerCase()&&delete s[r];return s},getMetaTagValue(e,t){e=cxdj.getMetaTag(e,t);return e&&e.getAttribute("content")||""},getMetaTag(e,t){if(!e)return null;t=t||"name";t=document.querySelector(`meta[${t}="${e}"]`);return t||null},getQueryParamValue(e){e=e.replace(/[\[\]]/g,"\\$&");e=new RegExp(`[?&]${e}(=([^&#]*)|&|#|$)`).exec(window.location.href);return e&&e[2]?decodeURIComponent(e[2].replace(/\+/g," ")):""},getMonthName(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][new Date(e||Date.now()).getMonth()]},displayArticleCover(){if(!cxdj.isNewRelicMonitoring()){var e="cx-articlecover";switch(cxdj.meta.topDomain){case"barrons.com":cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("cb5ddcce7d042f8bf5215efb6aff7f93089bcd57",e);break;case"marketwatch.com":var t="cx-marketing-snippet";cxenseOffers.hasDivId(t)?cxenseOffers.requestCCEOffer("38a8e471ea3f5ee900128bb831310b82c22c3d3e",t):cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("5a6132e17936ff4f8115bd8104cdd66c356a0313",e);break;case"wsj.com":cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("665e0bcdbbe895316d610f4cd72480f820a6d08e",e)}}},displayJoinTheConversationInline(){var e;cxdj.isNewRelicMonitoring()||(e="cx-jtc-inline","wsj.com"===cxdj.meta.topDomain&&cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("6440fe3ca63c69d41b8729648f7ed38b4d38efdc",e))},displayAdvisorOnboarding(){var e;cxdj.isNewRelicMonitoring()||(e="cx-onboarding",cxenseOffers.hasDivId(e)&&cxdj.isSubscriber(cxdj.meta.subscriber)&&"barrons.com"===cxdj.meta.topDomain&&cxenseOffers.requestCCEOffer("32c994bfc9d543314ebaa5a45260e263117fe1bd",e))},displayVideoScrim(){var e;cxdj.isNewRelicMonitoring()||(e="cx-scrim",cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("b3e80557a3fb67b2ec6b23810f739873daa70ce9",e))},displayScrim(){if(!cxdj.isNewRelicMonitoring()){var e="cx-scrim";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"barrons.com":"Video"!==cxdj.meta.section&&"Video Center"!==cxdj.meta.section&&(cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("643fbd8f63b7439e03c41adfbe753cb75abd8d87",e):"Barrons Stock Screener"!==cxdj.meta.subsection&&cxenseOffers.requestCCEOffer("a79051bd87db0958ee9836ac4b045614586a88cc",e));break;case"fnlondon.com":"Article"!==cxdj.getUtagData().page_content_type&&cxenseOffers.requestCCEOffer("dd988baf5af5819704a9889728e5b9f82189f8ec",e);break;case"mansionglobal.com":cxenseOffers.requestCCEOffer("1525c3c9ed64809f70104e5300e5debd2a92605f",e);break;case"marketwatch.com":cxenseOffers.requestCCEOffer("12458a7acb1868379181ba540ba8c31bcf6ffae4",e);break;case"penews.com":cxenseOffers.requestCCEOffer("139e07a3c1a5bca246465c71b424f9472584146d",e);break;case"wsj.com":switch(cxdj.meta.edition){case"naus":"Video"!==cxdj.meta.section&&"Video Center"!==cxdj.meta.section&&"Graphics"!==cxdj.meta.type&&cxenseOffers.requestCCEOffer("b3e80557a3fb67b2ec6b23810f739873daa70ce9",e);break;case"asiajp":cxdj.isSubscriber(cxdj.meta.subscriber)||cxenseOffers.requestCCEOffer("05c771a5f0c9be8128d8597b3fc5c43c1f7a8ada",e);break;case"asiacn":cxdj.isSubscriber(cxdj.meta.subscriber)||cxenseOffers.requestCCEOffer("11fe6d28255622ce1dd6d06aa7a4cc97aafc469f",e);break;case"asiacn_hant":cxdj.isSubscriber(cxdj.meta.subscriber)||cxenseOffers.requestCCEOffer("e4090803f309dc232db0b0d7d577625551571009",e)}}}},displayProScrim(){var e;cxdj.isNewRelicMonitoring()||(e="cx-pro-scrim",cxenseOffers.hasDivId(e)&&"wsj.com"===cxdj.meta.topDomain&&cxenseOffers.requestCCEOffer("410321637a47e12baa8863e677aba7a74cf81319",e))},displaySwgScrim(){if(!cxdj.isNewRelicMonitoring()){var e="cx-scrim";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"wsj.com":cxenseOffers.requestCCEOffer("37f03c441247b04f717f8931c4030b4f6efe8448",e);break;case"barrons.com":cxenseOffers.requestCCEOffer("3d1d22206acb0a0aa0fe4c0ee3ab2ff9dee37080",e);break;case"fnlondon.com":cxenseOffers.requestCCEOffer("1bf55ecd7131ef252b9b73efc4fc5b79a3659f86",e);break;case"marketwatch.com":cxenseOffers.requestCCEOffer("ce75c786922fa9a3309c8005c3358ecbfc3c0efb",e)}}},displayProSnippet(){var e;cxdj.isNewRelicMonitoring()||(e="cx-pro-snippet-overlay",cxenseOffers.hasDivId(e)&&"wsj.com"===cxdj.meta.topDomain&&cxenseOffers.requestCCEOffer("618da8476c015a43e028f0f026cb08d3e3a173b4",e))},displayProCandybar(){var e;cxdj.isNewRelicMonitoring()||(e="cx-pro-candybar",cxenseOffers.hasDivId(e)&&"wsj.com"===cxdj.meta.topDomain&&cxenseOffers.requestCCEOffer("12b72b5f423f0d0b51e1796bfd800c057765ab49",e))},displayCandyBar(){if(!cxdj.isNewRelicMonitoring()){var e="cx-candybar";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"wsj.com":switch(cxdj.meta.edition){case"naus":"nonsubscriber"!==cxdj.meta.subscriber&&"registered"!==cxdj.meta.subscriber||cxenseOffers.requestCCEOffer("15fc5810f60a3ecdf05c10bbdab82744dbc95213",e);break;case"asiajp":cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("69829cec87fa661ad05628f01c21d793881ddf08",e):"nonsubscriber"===cxdj.meta.subscriber?cxenseOffers.requestCCEOffer("46c976a6d4479e4ec8c96b13fb9e002f6eb68265",e):"registered"===cxdj.meta.subscriber&&cxenseOffers.requestCCEOffer("23e199122ee3c03dfcdce8447e05b51c11665f89",e);break;case"asiacn":cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("49e69245fbd802cf880e0d594a1e0969dcdbc6d9",e):"nonsubscriber"===cxdj.meta.subscriber?cxenseOffers.requestCCEOffer("1c7cfe13eb4ae0e594dba0323f1864e905fb5e0a",e):"registered"===cxdj.meta.subscriber&&cxenseOffers.requestCCEOffer("d46ccfe810558f1df73280cfdd694a18165ed217",e);break;case"asiacn_hant":cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("36bfed3799d02d926501c9ba4c42f0c528d9d012",e):"nonsubscriber"===cxdj.meta.subscriber?cxenseOffers.requestCCEOffer("45f5ca6fa134b605506a7668f140843ef8751248",e):"registered"===cxdj.meta.subscriber&&cxenseOffers.requestCCEOffer("27c2700b1edb56d254216b4ad01ab529ceb3e7dc",e)}break;case"barrons.com":cxdj.isSubscriber(cxdj.meta.subscriber)||cxenseOffers.requestCCEOffer("3136cddea70289fe567e2697f7fcf7124817cdf3",e);break;case"marketwatch.com":"nonsubscriber"!==cxdj.meta.subscriber&&"registered"!==cxdj.meta.subscriber||cxenseOffers.requestCCEOffer("28f7dc8ae583469d207401968eba8a7f811f7267",e);break;case"fnlondon.com":cxenseOffers.requestCCEOffer("1666d27019d1402232df2ea166649e4a992f83ed",e);break;case"penews.com":cxenseOffers.requestCCEOffer("a381d0556addfaaef7e062fe8e7886abe2cd5260",e);break;case"dowjones.net":case"wsjplus.com":break;case"mansionglobal.com":cxenseOffers.requestCCEOffer("fee3e247795f8e6f14cec1654a5cd88152a84a99",e)}}},displayMwTopNews(){var e;cxdj.isNewRelicMonitoring()||"marketwatch.com"===cxdj.meta.topDomain&&(e="cx-recommended",cxenseOffers.hasDivId(e))&&cxenseOffers.requestCCEOffer("2b64a09aac82f77d0c3896930dae048fdb5f7ddb",e)},displayMGPoptart(){var e="cx-lhs-poptart";cxenseOffers.hasDivId(e)&&"mansionglobal.com"===cxdj.meta.topDomain&&cxenseOffers.requestCCEOffer("ae9cb7c837ba9f3d67b2fa4edc2a3ea5e9bb094b",e)},displayLiveCoverageTile(){var e;if(!cxdj.isNewRelicMonitoring()&&"wsj.com"===cxdj.meta.topDomain)for(e of["cx-live-coverage-tile","cx-live-coverage-tile_2"])cxenseOffers.hasDivId(e)&&(cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("bbf5004c1541d0b4fd4dfd4af819fb5c18ea97f3",e):cxenseOffers.requestCCEOffer("05fd828c4879cce5b1f442926e43636b829d5e9b",e))},displayLiveCoverageSnippet(){if(!cxdj.isNewRelicMonitoring()){var e="cx-lc-snippet";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"wsj.com":cxenseOffers.requestCCEOffer("f047f0b3ca4289545d222c589a4749c88afa4fc1",e);break;case"barrons.com":cxenseOffers.requestCCEOffer("476fc3ad52fb828ee828fd88c0adaf30dc688c6a",e);break;case"marketwatch.com":cxenseOffers.requestCCEOffer("e40cc9f70b86cb2857a1864e7adfa01423461e70",e)}}},displayVideoCandybar(e){return!cxdj.isNewRelicMonitoring()&&!!cxenseOffers.hasDivId(e)&&"wsj.com"===cxdj.meta.topDomain&&(cxenseOffers.requestCCEOffer("89db58b807586e51710375813c487ff1d7cab8c6",e),!0)},displayExpRepRightRail(){var e;cxdj.isNewRelicMonitoring()||(e="cx-exp-rep-right-rail",cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("b326c1c3a82c69e6d09f3ed6d32eb5b604a43962",e))},displayExpRepArticleContent(){var e;cxdj.isNewRelicMonitoring()||(e="cx-content-main",cxenseOffers.hasDivId(e)&&"Experience Report"===cxdj.getUtagData().article_type&&cxenseOffers.requestCCEOffer("ac1d3b4b6acb27df1dd0049b42e2c011031dd595",e))},displayNewsletterTile(){if(!cxdj.isNewRelicMonitoring()){var e="cx-newsletter-tile";if(cxenseOffers.hasDivId(e)){var{page_content_type:t,page_site:r,page_section:s,page_subsection:a}=cxdj.getUtagData();switch(cxdj.meta.topDomain){case"wsj.com":"wsjpro"!==r?"naus"===cxdj.meta.edition&&("ITP"===s?cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("bbf5004c1541d0b4fd4dfd4af819fb5c18ea97f3",e):cxenseOffers.requestCCEOffer("05fd828c4879cce5b1f442926e43636b829d5e9b",e):"Experience Report"===a?cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("70fc3140d02b250c5cf765fef8975ddfe4a4ccb2",e):cxenseOffers.requestCCEOffer("421485868f76ecbb3cc8c06c2655516a8bc697c6",e):cxenseOffers.requestCCEOffer("e68cc07ebf7b89a142b78f1850ac786ac22aa3c7",e)):cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("42b5c423f0c9ce0e4ea14f0ddeed23ea53fcc54b",e):cxenseOffers.requestCCEOffer("9d660f11b6dce3bba615ee946a6e8083514f94f1",e);break;case"barrons.com":cxenseOffers.hasDivId("webui_newsletter_inset")&&"Article"===t||cxdj.getMetaTagValue("keywords","name").includes("newsletteroff")||(cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("6a905ac47f9ad184994a4e77ba5eba015e087723",e):"nonsubscriber"===cxdj.meta.subscriber&&cxenseOffers.requestCCEOffer("c141ad1193c47d3bb2d9c38abb81229917c0d1e7",e))}}}},displayMembershipTile(){if(!cxdj.isNewRelicMonitoring()){var e="cx-membership-tile";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"wsj.com":switch(cxdj.meta.edition){case"naus":"wsjpro"===cxdj.getUtagData().page_site?cxenseOffers.requestCCEOffer("e73119387d9c6312e6d5993fd54420b15a9c6d12",e):cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("556ce9c5384c380288f1ea527cbd712e77c333e2",e):cxenseOffers.requestCCEOffer("9e5724d5eda30e7c52430d3a5113fed1ed60d22a",e);break;case"asiajp":cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("aa45e25a0ccac1c2df888c2ef19c4eae85b2f2b6",e):cxenseOffers.requestCCEOffer("44e2ad40b81445b146fa2ac43233637ecaa83695",e)}break;case"marketwatch.com":cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("232052ae3dbb3db5fd2bcf224a173f7c66e3e1b7",e):cxenseOffers.requestCCEOffer("7494fd2c425fe9b12869e87d0897dda4687f0071",e)}}},displayHpEngagementTile(){var e;cxdj.isNewRelicMonitoring()||(e="cx-hp-engagement-tile",cxenseOffers.hasDivId(e)&&"wsj.com"===cxdj.meta.topDomain&&(cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("0595ce29d7ba2ff6d00fc524abcafa7a437748bf",e):cxenseOffers.requestCCEOffer("911a484d53608e30c46b27128087a062e71cf8a9",e)))},displayNotification(){if(!cxdj.isNewRelicMonitoring()){var e="cx-notification";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"wsj.com":cxenseOffers.requestCCEOffer("fdffeaef25759d5a4b278e2b045241d7cc93fb7c",e);break;case"barrons.com":cxenseOffers.requestCCEOffer("68781b66900d5e3f4b42ff5be1d712959ff90f4d",e);break;case"marketwatch.com":cxenseOffers.requestCCEOffer("cccd1013b442c52c78a8a47269f14edd1d9c6f0b",e)}}},displayNotificationForNewNav(){var e;cxdj.isNewRelicMonitoring()||(e="cx-notification",cxenseOffers.hasDivId(e)&&"wsj.com"===cxdj.meta.topDomain&&cxenseOffers.requestCCEOffer("675e3e8a35706ca767b7b94fef79a2e1adc80b87",e))},displaySnippet(){if(!cxdj.isNewRelicMonitoring()){let e;switch(cxdj.meta.topDomain){case"barrons.com":e="cx-interstitial-snippet",cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("80c889e1149a1d949c7f0976ed3bba042569df39",e),e="cx-advisor-snippet",cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("b4d497c31c59ab1a93edc7ea69d8633eca1eaa5c",e);break;case"fnlondon.com":e="cx-snippet",cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("9ef64dfdc06f9f3c917196cca13b2b1f9e3438b0",e);break;case"marketwatch.com":e="cx-marketing-snippet",cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("38a8e471ea3f5ee900128bb831310b82c22c3d3e",e),e="cx-snippet",cxenseOffers.hasDivId(e)&&("subnotloggedin"===cxdj.meta.subscriber?cxenseOffers.requestCCEOffer("454c54cd7ac66abf605d79021e02634f6b2da545",e):cxenseOffers.requestCCEOffer("d3f5bcfc09f3b1143517476f28d8a4c5dd0ace8c",e));break;case"wsj.com":switch(cxdj.meta.edition){case"naus":"modern"===cxdj.getUtagData().page_content_type_detail?(e="cx-snippet-overlay",cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("d80d90db46839643c0f5816042aebe20be65bd15",e)):(e="cx-snippet-promotion",cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("7c0f421cfa9c7ff41f8607ed2a35e74618ba7a6a",e));break;case"asiajp":e="cx-snippet-promotion",cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("83ba16c918566642d7f7c2338d054cfa41984333",e);break;case"asiacn":e="cx-snippet-promotion",cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("f351b3bf7e2d2cf25f3b367f4a5989fde7e2933e",e);break;case"asiacn_hant":e="cx-snippet-promotion",cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("eb80b7f56087340d84371a119cb902dbd63add21",e)}}}},displaySignInReminder(){if(!cxdj.isNewRelicMonitoring()){var e="cx-sign-in-reminder";if(cxenseOffers.hasDivId(e)&&"subnotloggedin"===cxdj.meta.subscriber&&!(-1<cxdj.getMetaTagValue("stack.name").indexOf("static")))switch(cxdj.meta.topDomain){case"wsj.com":switch(cxdj.meta.edition){case"naus":cxenseOffers.requestCCEOffer("e6ac7b2eeb47df18b23b5e3470ef7fe0cb5949d1",e);break;case"asiajp":cxenseOffers.requestCCEOffer("85ed5943cf5309541cdfad426b1b74b52fd85ba8",e);break;case"asiacn":cxenseOffers.requestCCEOffer("fe71f96af21230de427aa3968b0d1a49af2c9f8f",e);break;case"asiacn_hant":cxenseOffers.requestCCEOffer("65343b9ea632e6fc06ca911e9c917d810d26ad1d",e)}break;case"marketwatch.com":cxenseOffers.requestCCEOffer("596a1f5df030a71e478175c3e9ed2203820213ea",e)}}},displayArticleInsetSignInReminder(){if(!cxdj.isNewRelicMonitoring()){var e="cx-article-inset-sign-in-reminder";if(cxenseOffers.hasDivId(e)&&"subnotloggedin"===cxdj.meta.subscriber)switch(cxdj.meta.topDomain){case"wsj.com":"naus"===cxdj.meta.edition&&cxenseOffers.requestCCEOffer("13195ea4c444e717bb16238bee7fa16a3679caa6",e);break;case"barrons.com":cxenseOffers.requestCCEOffer("8c89d7da8ed8b739575848d6ef2ebfaf0511f72f",e)}}},displayCustomFooter(){if(!cxdj.isNewRelicMonitoring()){var e="cx-mg-footer";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"huanyuju.com":case"mansionglobal.com":cxenseOffers.requestCCEOffer("2be38a0c08a35cec08c20ba86bd650386b832ac3",e)}}},displayPoptart(){if(!cxdj.isNewRelicMonitoring()){var e="cx-poptart";if(cxenseOffers.hasDivId(e)&&"wsj.com"===cxdj.meta.topDomain)switch(cxdj.meta.edition){case"asiajp":cxenseOffers.requestCCEOffer("a4e5e66af9756b29d6dac6bb8c6303c26984a92f",e);break;case"asiacn":cxenseOffers.requestCCEOffer("cc586206df60d808d326be68a038339b9190e0c9",e);break;case"asiacn_hant":cxenseOffers.requestCCEOffer("8c2844db17f8de6a9d833b8fc2021a9eabad71b3",e)}}},displayArticleInlineNewsletterTile(){var e;cxdj.isNewRelicMonitoring()||(e="cx-article-inline-newsletter-tile",cxenseOffers.hasDivId(e)&&"wsj.com"===cxdj.meta.topDomain&&"naus"===cxdj.meta.edition&&cxenseOffers.requestCCEOffer("05fd828c4879cce5b1f442926e43636b829d5e9b",e))},callCxPianoMasterLauncher(){if(!cxdj.isNewRelicMonitoring()){var e="cx-piano";switch(cxdj.meta.topDomain){case"barrons.com":cxdj.prepareDiv(e),cxenseOffers.requestCCEOffer("2993364dab4735f2ada34803c6dbc9901b473b62",e);break;case"wsj.com":cxdj.prepareDiv(e),cxenseOffers.requestCCEOffer("cd6dfe5cad0e11d2b5b32bf63b7776a73af93c00",e);break;case"fnlondon.com":if("fnlondon.com"===cxdj.meta.topDomain&&"/"===window.location.pathname){let e="cx-topstories";cxenseOffers.lazyLoad(e,()=>{cxenseOffers.requestCCEOffer("016bcad9c8f36753c18c6c1d9c1210f8538f7fc7",e)})}else{var t="cx-topstories-1",t=(cxenseOffers.hasDivId(t)&&cxenseOffers.requestCCEOffer("c9b8590e00936bb0bec277e47f3a6d15b5213269",t),document.querySelector("body.is-continuous"));if(t){let t="cx-topstories-2";if(cxenseOffers.hasDivId(t))cxenseOffers.requestCCEOffer("b6978d0eb797821de133178a8d70536502de8f96",t);else{let e=()=>{window.requestAnimationFrame(()=>{cxenseOffers.hasDivId(t)&&(cxenseOffers.requestCCEOffer("b6978d0eb797821de133178a8d70536502de8f96",t),window.removeEventListener("scroll",e))})};window.addEventListener("scroll",e)}}}}}},displayTopRhsHeader(){if(!cxdj.isNewRelicMonitoring())switch(cxdj.meta.topDomain){case"wsj.com":cxenseOffers.hasDivId("cx-popup")&&(cxdj.isSubscriber(cxdj.meta.subscriber)?980<=window.innerWidth&&cxenseOffers.requestCCEOffer("fa9ece0be3e76d3209af49ec40ae78155e52670a","cx-popup"):cxenseOffers.requestCCEOffer("2de24eadb5f96a9436a375f0d2087dac83093d90","cx-popup"));break;case"barrons.com":cxenseOffers.hasDivId("cx-header")&&(cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("1b660fe240d883254c2f46031c49182cf5c10e14","cx-header"):cxenseOffers.requestCCEOffer("8beff7dca1f80abd8d6e191025ab9acfd2204aa5","cx-header"));break;case"marketwatch.com":cxenseOffers.hasDivId("cx-header")&&(cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("c819ff28558758e2a8472cdf4b37a1c76cf72ad9","cx-header"):cxenseOffers.requestCCEOffer("1594cc79136361e4a4391f3b7b1ea0294f0511f3","cx-header"))}},displaySideMenu(){var e;cxdj.isNewRelicMonitoring()||(e="cx-sidemenu",!cxenseOffers.hasDivId(e))||"marketwatch.com"!==cxdj.meta.topDomain||cxdj.isSubscriber(cxdj.meta.subscriber)||cxenseOffers.requestCCEOffer("48e9c719e21a2f9226b1487fba341059455dd976",e)},displayCatchUp(){var e;cxdj.isNewRelicMonitoring()||(e="cx-catch-up",cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("3f2954bdd14f53fc51f4c7d552bfeec1158934d5",e))},displayWhatToReadNext(){if(!cxdj.isNewRelicMonitoring()){let e="cx-what-to-read-next";cxenseOffers.hasDivId(e)&&cxenseOffers.lazyLoad(e,()=>{if("wsj.com"===cxdj.meta.topDomain)switch(cxdj.meta.edition){case"naus":cxdj.getUtagData().article_type.includes("Journal Reports")&&"full"===cxdj.getUtagData().article_template||cxenseOffers.requestCCEOffer("8fc24f5568d1c6da8db6a570a4368b5b523deabe",e);break;case"asiajp":cxenseOffers.requestCCEOffer("4393cade519a0ab746346fc20f9e93952d3dba98",e);break;case"asiacn":cxenseOffers.requestCCEOffer("7d5fe562cf0a8a8f2d7983b2913b02f1addb36e9",e);break;case"asiacn_hant":cxenseOffers.requestCCEOffer("e221afec8f77bf597b9e04d5f8e92b76c0ecc4b7",e);break;default:cxenseOffers.requestCCEOffer("8fc24f5568d1c6da8db6a570a4368b5b523deabe",e)}})}},displayNextRead(){if(!cxdj.isNewRelicMonitoring()){let e;switch(cxdj.meta.topDomain){case"marketwatch.com":e="cx-next",cxenseOffers.hasDivId(e)&&!window.matchMedia("(max-width: 1560px)").matches&&cxenseOffers.requestCCEOffer("5d3fd8776d49182b69c0291543394a9640e2d8f7",e);break;case"fnlondon.com":e="cx-below-article",cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("34eb52d4cdb355b0c4e26af1214cd738fc700387",e)}}},displayInArticlePromotion(){var e;cxdj.isNewRelicMonitoring()||(e="cx-inline-promotion",cxenseOffers.hasDivId(e)&&"fnlondon.com"===cxdj.meta.topDomain&&cxenseOffers.requestCCEOffer("6a7608341f3f6ade30b35e754673f08a7318b9a3",e))},displayMostPopularArticles(){if(!cxdj.isNewRelicMonitoring()){var e="cx-most-popular-articles";if(cxenseOffers.hasDivId(e)&&"wsj.com"===cxdj.meta.topDomain)switch(cxdj.meta.edition){case"asiajp":cxenseOffers.requestCCEOffer("36538210711f305d5f22951f73a1c139c52da097",e);break;case"asiacn":cxenseOffers.requestCCEOffer("b2be944fbe2015fdf31ba11ba0d46c8e3ff1ebda",e);break;case"asiacn_hant":cxenseOffers.requestCCEOffer("1329bc0da129961e62be1edd348f56f593edb8a0",e);break;default:cxenseOffers.requestCCEOffer("4c744d3013084762411b96593dcd0052cfec928c",e)}}},displayDeloitteTrending(){var e;cxdj.isNewRelicMonitoring()||(e="cx-trending-articles",cxenseOffers.hasDivId(e)&&"wsj.com"===cxdj.meta.topDomain&&cxenseOffers.requestCCEOffer("ef32dea7d4701eb48ef8fde3da3e5a60b283880b",e))},displayDeloitteRightRail(){var e;cxdj.isNewRelicMonitoring()||(e="cx-deloitte-insight",cxenseOffers.hasDivId(e)&&"wsj.com"===cxdj.meta.topDomain&&cxenseOffers.requestCCEOffer("2a15f91fb0031a6eb0b15bd05b36bc23765bd090",e))},displayMarketData:function(){var e;cxdj.isNewRelicMonitoring()||(e="cx-marketdata",cxenseOffers.hasDivId(e)&&"marketwatch.com"===cxdj.meta.topDomain&&cxenseOffers.requestCCEOffer("63049966a9dc2d05a429143596b6d2b771ea9555",e))},displayPuzzleSnippet(){var e;cxdj.isNewRelicMonitoring()||"barrons.com"===cxdj.meta.topDomain&&(e="cx-puzzle-snippet",cxenseOffers.hasDivId(e))&&cxenseOffers.requestCCEOffer("5152028a28d276dc7639862ccc4f32972055adfc",e)},displayNavHatCta(){if(!cxdj.isNewRelicMonitoring()){var e="cx-nav-hat";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"wsj.com":cxenseOffers.requestCCEOffer("68dcf24a985aac6de098dee501af78fc48913458",e);break;case"barrons.com":cxenseOffers.requestCCEOffer("be92dd6904f42fdf3a56f4ea17def44168cedcf3",e);break;case"marketwatch.com":cxenseOffers.requestCCEOffer("5dca299f5bdc74d5edfb93b30e9ab844020f8475",e)}}},displayPaywall(){if(this.cxshield&&"object"==typeof this.cxshield){switch(this.cxshield.placement){case"cx-articlecover":cxdj.displayArticleCover(),cxdj.displayJoinTheConversationInline(),cxdj.displayArticleInlineNewsletterTile();break;case"cx-candybar":cxdj.displayCandyBar();break;case"cx-scrim":cxdj.displayScrim();break;case"cx-pro-scrim":cxdj.displayProScrim();break;case"cx-pro-snippetad":cxdj.displayProSnippet();break;case"cx-snippetad":cxdj.displaySnippet(),cxdj.displayProSnippet();break;case"cx-lc-snippetad":cxdj.displayLiveCoverageSnippet()}"barrons.com"===cxdj.meta.topDomain&&cxdj.displayCandyBar()}else"preview"===cxdj.meta.template?(cxdj.displaySnippet(),cxdj.displayProSnippet(),"barrons.com"===cxdj.meta.topDomain&&cxdj.displayCandyBar()):("Article"!==cxdj.meta.pageContentType&&cxdj.displayScrim(),cxdj.displayCandyBar(),cxdj.displayProCandybar(),"fnlondon.com"===cxdj.meta.topDomain&&cxdj.displaySnippet())},getUtagData(){return"object"!=typeof window.utag_data?{}:window.utag_data},prepareDiv(e){var t;!e||(t=document.getElementById(e))||((t=document.createElement("div")).setAttribute("id",e),document.body.insertBefore(t,document.body.firstChild))},normalizeUserType(e){return"subscriber"===e||"prosubscriber"===e?"subscriber":"nonsubscriber"===e?{s:"subnotloggedin",n:"subnotloggedin"}[cxenseOffers.getCookieValue("ca_lo")]||"nonsubscriber":"freeRegister"===e||"regUser"===e?"registered":"default"},async readPageContext(){let e;try{e=await cxdj.getEntitlementsAsyncData()}catch(e){console.error("Error fetching entitlements from readPageContext:",e)}var t,r,s,a,c,n={},i=cxdj.getUtagData(),{article_type:o,article_template:d,cms_name:f,page_access:l,page_content_source:u,page_content_type:p,page_content_type_detail:m,page_section:b,page_subsection:x,page_site_product:R,profiles:g,swg:h,vix:U,harmony:M}=i;"staging"===cxdj.env&&(n.env=cxdj.env),n.topDomain=cX.getTopLevelDomain();let w=i.cx_shield;if(w&&"string"==typeof w)try{w=JSON.parse(w)}catch(e){}"object"==typeof w&&({tag:a,placement:c,campaign:t,type:r,propensity:s}=w,n.pwTag=a,n.pwPlacement=c,n.pwCampaign=t,n.pwType=r,"object"==typeof w.propensity&&({propensityScore:a,quantile:c}=s,n.propScore=a,n.propQuantile=c),cxdj.cxshield=w),cxenseOffers.getAbandonedCartData()?.cartUrl&&(n.cartAbandonment=!0);try{var{mod:j,reflink:O,trackCode:y,testEnv:C}=cX.library.parseUrlArgs(),v=(j&&(n.navSource=j),O&&(n.reflink=O),y&&(n.trackCode=y),C&&(n.testEnv=C),n.type=o,n.template=d,n.access=l,n.section=b,n.subsection=x,n.cms_name=f,n.vix=U,!e?.wsjPausedSub&&"true"!==i.sub_paused||(n.subPaused="true"),e?.type||i.user_type||cxdj.getMetaTagValue("user.type"));v&&(n.subscriber=cxdj.normalizeUserType(v)),n.edition=cxdj.getSiteEdition();let t=e?.tags;(t=t||i.user_tags?.split(",")||[]).length&&(t.includes("WSJPRO-CYBER")&&(n.entitlement="wsjpro-cyber"),t.includes("BAR-ADVISOR")&&(n.entitlement="bar-advisor"),t.includes("BAR-ADVISOR-TRIALIST-HOMEPAGE")&&(n.entitlement="bar-advisor-triallist-homepage"),t.includes("BAR-FINDER")&&(n.entitlement="bar-finder"),t.includes("BARRONS-SUB")&&(t.includes("MW-ONLINE")||t.includes("MW-SUB"))&&(n.entitlement="bar-mw"),t.includes("MWPREMIUM")&&(n.entitlement="mwpremium"),t.includes("WSJ-CORP"))&&(n.entitlement="exec-edition");var E,I,S,k,D,T,_=e?.trackid||i.user_ref||cxenseOffers.getCookieValue("TR"),N=(_&&(0===_.indexOf("V2-")?cxdj.userId=_.substring(3):cxdj.userId=_),cxdj.sharedAccounts[cxdj.userId]&&(n.sharedAccount=cxdj.sharedAccounts[cxdj.userId],cxdj.userId=null),n.bucket=cxdj.getUserBucket(),n.ab_bucket=cxdj.getAbBucket(),n.pageContentSource=u,n.pageContentType=p,n.pageContentTypeDetail=m||"default",n.pageSiteProduct=R,g&&g.account),B=(N&&(E=Date.parse(N.stop),I=Date.now()-E<63072e6)&&(n.targettableFormer=I.toString()),["BARRONS-SUB","FN-SUB","MW-SUB","WSJ-SUB","WSJ-SMARTPHONE","WSJ-PLUS","WSJ-IPAD","WSJPLUS-BUNDLE"]),P=(n.userTags=B.filter(e=>t.includes(e)),document.querySelector("#catch-up-module-container")),q=(P&&({catchUpSection:S,catchUpSlug:k,catchUpTopic:D}=P.dataset,n.catchupmodulesection=S,n.catchupmoduleslug=k,n.catchupmoduletopic=D),h&&h.showcaseEntitlement&&(T=h.showcaseEntitlement.isUserRegistered,n.swg="true"===T?"true":"false"),M&&(n.harmony="true"),cxenseOffers.getCookieValue("djcs_session")),A=cxenseOffers.getCookieValue("ca_id");n.sessionState=q&&A?"both":q?"djcs":A?"ca":"none"}catch(e){}return n},requestAllOffers(){cxdj.displayArticleInsetSignInReminder(),cxdj.displayCustomFooter(),cxdj.displayDeloitteTrending(),cxdj.displayDeloitteRightRail(),cxdj.displayExpRepArticleContent(),cxdj.displayInArticlePromotion(),cxdj.displayLiveCoverageTile(),cxdj.displayMGPoptart(),cxdj.displayMarketData(),cxdj.displayMembershipTile(),cxdj.displayMostPopularArticles(),cxdj.displayNavHatCta(),cxdj.displayNewsletterTile(),cxdj.displayNextRead(),cxdj.displayPoptart(),cxdj.displaySideMenu(),cxdj.displaySignInReminder(),cxdj.displayTopRhsHeader(),cxdj.displayWhatToReadNext(),"marketwatch.com"===cxdj.meta.topDomain&&"/"===window.location.pathname&&cxdj.displayMwTopNews(),"wsj.com"===cxdj.meta.topDomain&&0===window.location.pathname.indexOf("/graphics")&&cxenseOffers.hasDivId("cx-recommendations")&&cX.CCE.runCxVersion(cxdj.graphicsTestId,"cx-recommendations",{widgetId:"7ba219edc99dffa66b9542eb11b13234440982ae"})},async init(){var e,[t]=document.getElementsByTagName("head"),r=document.createElement("script"),s=document.createElement("script"),r=(r.type="text/javascript",r.src="https://cdn.cxense.com/cx.js",s.type="text/javascript",t.appendChild(r),await cxdj.isPianoEnabled());r?(r=window.location.hostname,[e]=r.split(".").slice(-2,-1),r=cxdj.getEnv(r),s.src=`https://www.${"dev"===r?"investors"===e?"stage.":"dev.":""}${e}.com/asset/piano/piano.js`):(s.src="https://cdn.cxense.com/cx.cce.js",s.onload=()=>{cX.callQueue.push(["invoke",async()=>{await cxdj.bootstrapPage()}])}),t.appendChild(s)},reInit(){var e=window.__cxdj_init;e instanceof Promise&&e.then(async()=>{cxdj.url===window.location.href?console.error("[cxdj:reInit]: initPromise called twice for same page view"):(cxdj.referrer=cxdj.url,cxdj.url=window.location.href,cxdj.cxshield=void 0,cX.initializePage(),await cxdj.bootstrapPage())}).catch(e=>{console.error("[cxdj:reInit]: initPromise did not resolve successfully: "+e)})},async bootstrapPage(){cxTest.init(null,"wsj",cxdj.persistedQueryId,"timeSome");var e=cxdj.getMetaTagValue("cx_pv_id");e&&cX.setRandomId(e),cX.addEventListener(window,"message",cxdj.renderCallback),cxdj.meta=await cxdj.readPageContext(),cX.requireActivityEvents(),cxdj.initializationCompleted=!0,cxdj.newPageEvent();let t=window.setInterval(()=>{"interactive"!==document.readyState&&"complete"!==document.readyState||(void 0===window.grandcanyon&&(cxdj.displayNotification(),cxdj.displayPaywall(),cxdj.requestAllOffers(),cxdj.callCxPianoMasterLauncher()),window.clearInterval(t))},200);"barrons.com"===cxdj.meta.topDomain&&"/"===window.location.pathname&&cxdj.callCxPianoMasterLauncher(),cxdj.trackKnownElements()},newPageEvent(){var e=cxdj.getSiteId(window.location.hostname);cX.setSiteId(e),cX.setCustomParameters(cxdj.meta),cxdj.isSubscriber(cxdj.meta.subscriber)&&cxdj.userId&&cX.setUserProfileParameters({knownSubscriber:1}),cxdj.userId&&cX.addExternalId({id:cxdj.userId,type:"wsj"}),cX.sendPageViewEvent({location:cxdj.url,referrer:cxdj.referrer})},isArray(e){return Array.isArray(e)}},window.cX=window.cX||{},cX.callQueue=cX.callQueue||[],(()=>{if(!cxdj.initialized){cxdj.initialized=!0;let t=window.__cxdj_init;Object.defineProperty(window,"__cxdj_init",{get:()=>t,set:e=>{t=e,cxdj.reInit()},enumerable:!0}),t instanceof Promise?t.then(()=>{cxdj.init()}).catch(e=>{console.error("[cxdj:init]: initPromise did not resolve successfully: "+e)}):cxdj.init()}})(),window.cxenseOffers=window.cxenseOffers||{_siteKey:"6LcmI7sUAAAAAF-vTKb3JIwIzz2CXCx8hJW0Ukis",hasDivId(e){return null!==document.getElementById(e)},translate(e="",t="en_US",r={}){var s,a;return!e||"en_US"!==t&&"es_ES"!==t&&"zh_HANS"!==t||"object"!=typeof r?(console.error("Error: Missing Props in translate function"),e):(a=r&&r.en_US||{},s=r&&r.es_ES||{},r=r&&r.zh_HANS||{},(a={en_US:Object.assign({mg_nlpopup_requiredCheckboxErr:"You must click the Policy Agreement checkbox.",mg_nlpopup_validEmailErr:"Please enter a valid email address."},a),es_ES:Object.assign({mg_nlpopup_requiredCheckboxErr:"Debe hacer click en la casilla de verificación Aceptando la Política.",mg_nlpopup_validEmailErr:"Por favor ingrese una dirección de correo válida"},s),zh_HANS:Object.assign({},r)})[t]&&a[t][e]||e)},getDisplaySection(e){var t={us:"U.S. News",world:"World News",csuite:"Business","page one":"World News",realestate:"Real Estate",news:"World News","front section":"World News","wealth management journal":"Markets","health and wellness":"Life","new york/ny real estate residential":"Real Estate"};if(e["recs-category"]&&e["recs-category"].length){e=e["recs-category"].split("/");if(1<e.length)return t.hasOwnProperty(e[1])?t[e[1]]:e[1]}return"WSJ"},shortenTitle(e,t){var r;return t<e.length?(r=e.charAt(t),e=e.substr(0,t),(e=" "!==r?e.substr(0,e.lastIndexOf(" ")):e)+"..."):e},updateCCEKValue(t){if(t&&t.length){var r=[];for(let e=0;e<t.length;++e)t[e].adTargetingKeywords&&r.push(t[e].adTargetingKeywords);r.length&&(cxdj.meta.k=r.join(" "))}},addContextParameter(e,t,r){t=""+t,r=r.toLowerCase();e.context.categories[r]=t,e.context.parameters.push({key:r,value:t})},getCCEContext(e,t,r){var s,a=cxdj.meta;let c={},n=((c=e?JSON.parse(JSON.stringify(e)):c).context||(c.context={}),c.context.categories||(c.context.categories={}),c.context.parameters||(c.context.parameters=[]),r&&(c.user=r),["subscriber","edition","pwCampaign"]);t&&(n=n.concat(t));for(let e=0;e<n.length;++e)a.hasOwnProperty(n[e])&&void 0!==a[s=n[e]]&&cxenseOffers.addContextParameter(c,a[s],s);return c},requestCCEOffer(e,t,r,s,a){let c=cxdj.meta.navSource?["navSource","bucket"]:["bucket"];a&&(c=c.concat(a)),t&&t.length&&!cxenseOffers.hasDivId(t)&&cxdj.reportMissingDiv(t),cxTest.run({widgetId:e,targetElementId:t},cxenseOffers.getCCEContext(r,c,s))},_getParameterByName(e,t){t=t||window.location.href,e=e.replace(/[\[\]]/g,"\\$&");e=new RegExp(`[?&]${e}(=([^&#]*)|&|#|$)`).exec(t);return e?e[2]?decodeURIComponent(e[2].replace(/\+/g," ")):"":null},getUserRenewLink(i,o){o="function"==typeof o?o:()=>{},fetch("/emailsignup/profile",{method:"GET",credentials:"include",headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(e=>{if(e.ok)return e.json();throw Error("Invalid HTTP Status Code")}).then(t=>{if(!t||!t.profile)throw Error("Invalid Profile Data");var a={};for(let e=0;e<t.profile.length;++e){var r=t.profile[e];for(let e=0;e<r.groups.length;++e)a[r.groups[e].group]=r.item}var c=a["wsj-renew-postage-indicator"],n=a["wsj-bol-renew-postage-indicator"];if(c||n){let e,t,r,s;return c?"c"===c?(e=a["wsj-renew-ctaurl1-1"],t=a["wsj-renew-ctaurl1-2"]||""):"m"===c&&(e=a["wsj-renew-ctaurl2-1"],t=a["wsj-renew-ctaurl2-2"]||""):n&&("c"===n?(e=a["wsj-bol-renew-ctaurl1-1"],t=a["wsj-bol-renew-ctaurl1-2"]||""):"m"===n&&(e=a["wsj-bol-renew-ctaurl2-1"],t=a["wsj-bol-renew-ctaurl2-2"]||"")),e&&t?(s=e+t,s=(s="userprofile"!==(i||"").toLowerCase()&&(r=s.match(/(.*)((\&|\?)mod=([^&]*))(.*)/))&&6<=r.length?r[1]+r[3]+"mod="+i+r[5]:s).replace(/(\?|&)ec=([^&]*)/,(e,t,r)=>t+"ec="+r.toUpperCase()),o(null,s)):o()}return o()}).catch(e=>o(e))},get1stPartyData(s,a){fetch("/emailsignup/profile",{method:"GET",credentials:"include",headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(e=>{if(e.ok)return e.json();throw Error("Invalid HTTP Status Code")}).then(t=>{if(!t||!t.profile)throw Error("Invalid Profile Data");for(let e=0;e<t.profile.length;++e){var r=t.profile[e];if(r.item)for(let e=0;e<r.groups.length;++e)if(r.groups[e].group===s)return a(null,r.item)}return a()}).catch(e=>a(e))},getQueryVariable(t){var r=window.location.search.substring(1).split("&");for(let e=0;e<r.length;e++){var s=r[e].split("=");if(s[0]===t)return s[1]}return!1},getSection(e){var t={us:"U.S. News",world:"World News",csuite:"Business","page one":"World News",realestate:"Real Estate",news:"World News","front section":"World News","wealth management journal":"Markets","health and wellness":"Life","new york/ny real estate residential":"Real Estate"};if(e["recs-category"]&&e["recs-category"].length){var e=e["recs-category"].split("/"),r=e[0];if(1<e.length){e=e[0]+"/"+e[1];if(t[e])return t[e]}if(t[r])return t[r];if(r.length)return r}return"WSJ"},slideUp(c,n,i){if(c){i="function"==typeof i?i:()=>{};var e=c.clientHeight||c.offsetHeight;if(0===n)c.style.height=0,c.style.display="none";else{n=isNaN(n)?400:n;let t=c.style.height=e;let r=Math.round(25*e/n),s=new Date,a=setInterval(()=>{var e=new Date;if(t<=0||e-s>=n)return clearInterval(a),c.style.height=0,c.style.display="none",i();t-=r,c.style.height=t+"px"},25)}}},getSubscribedNewsletterIds(a){"function"==typeof a&&fetch("/newsletters/svc/signup/2",{method:"GET",credentials:"include",headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(e=>{if(e.ok)return e.json();throw Error("Invalid HTTP Status Code")}).then(e=>{if(!e||!e.subscriptions)throw Error("Invalid User Subscriptions Data");var t=e.subscriptions,r=t.length,s=[];for(let e=0;e<r;e++)"object"==typeof t[e]&&t[e].opt_in&&s.push(t[e].id);return a(null,s)}).catch(e=>a(e,[]))},signupGuestPass(e,r,s){if(e&&r){let t=isNaN(parseInt(r))?-1:parseInt(r);var a=0===document.location.pathname.indexOf("/membership/")?"https://www.wsj.com":document.location.href,e={email:e,type:r,userId:cxenseOffers.getCxenseId(),url:a};fetch("/emailsignup/enroll",{method:"POST",credentials:"include",body:JSON.stringify(e),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(e=>e.json()).then(e=>{if(!e||e.code)throw Error(e.message);7===t?cxdj.reportInteractionEvent("GuestPass7DSuccess"):2===t&&cxdj.reportInteractionEvent("GuestPass2DSuccess"),cX.setUserProfileParameters({userEvent:"EmailOfferGrantedArticleCover"}),e&&e.url&&(window.location.href=e.url)}).catch(e=>{s&&(s.innerHTML=e||"Unable to process request"),cxdj.reportInteractionEvent("EmailOfferError",{error:e})})}},signupMemberGetMember(t,e,r,s,a,c){r&&s&&a&&(c="function"==typeof c?c:()=>{},fetch("/emailthis/member-signup",{method:"POST",credentials:"include",body:JSON.stringify({to:r,"g-recaptcha-response":e}),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(e=>{if(!e.ok)throw Error("Invalid HTTP Status Code");cxenseOffers.showSignupMessage(s,a,!0),c(),grecaptcha.reset(t)}).catch(e=>{s.style.display="none",a.innerHTML="<p>An unexpected error occurred and we were unable to send the invite</p>",cxenseOffers.fadeIn(a,0),grecaptcha.reset(t)}))},handleNewsletterSignupForSub(t,r=!0,s={}){let a="/newsletters/svc/signup/";let c={"wsj.com":2,"barrons.com":30,"marketwatch.com":114,"fnlondon.com":201,"mansionglobal.com":200}[cxdj.getTopDomain(window.location.hostname)];if(c)return fetch(a+c,{method:"GET",credentials:"include",headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(e=>{if(e.ok)return e.json();throw Error("Invalid HTTP Status Code")}).then(e=>{if(e&&e.email)return e={email:e.email,subscription:{}},"object"==typeof s&&0<Object.keys(s).length?e.subscription=s:e.subscription[t]=r,fetch(a+c,{method:"PATCH",credentials:"include",body:JSON.stringify(e),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"});throw Error("Invalid Email Data")})},candybarSignupNewsletterAsSub(t,r,s,a,c,n){t&&r&&(c="function"==typeof c?c:()=>{},cxenseOffers.handleNewsletterSignupForSub(t,!0).then(e=>{if(!e.ok)throw Error("Invalid HTTP Status Code");cxenseOffers._hideElement(r),cxenseOffers.fadeIn(s,0),cxdj.reportCustomConversion("newsletterSignup",{newsletterId:t}),n=n?"_"+n:"",utag.link({event_name:"add_newsletter",newsletter_name:"",newsletter_id:t,module_tracker:"cxense_module"+n}),c()}).catch(e=>{cxenseOffers._hideElement(r),cxenseOffers.fadeIn(a,0)}))},signupNewsletterAsSub(t,r,s,a,c){t&&r&&(a="function"==typeof a?a:()=>{},cxenseOffers.handleNewsletterSignupForSub(t,!0).then(e=>{if(!e.ok)throw Error("Invalid HTTP Status Code");cxenseOffers.showSignupMessage(r,s,!0),cxdj.reportCustomConversion("newsletterSignup",{newsletterId:t}),c=c?"_"+c:"",utag.link({event_name:"add_newsletter",newsletter_name:"",newsletter_id:t,module_tracker:"cxense_module"+c}),a()}).catch(e=>{cxenseOffers.showSignupMessage(r,s,!1)}))},handleNewsletterSignupForNonSub(s,a,c=!0,n=()=>{}){let i={"wsj.com":{url:"/newsletters/svc/signup/2/simple-signup",editionId:"WSJ-EN_US"},"barrons.com":{url:"/newsletters/svc/signup/30/simple-signup",editionId:"BARRONS-EN_US"},"marketwatch.com":{url:"/newsletters/svc/signup/114/simple-signup",editionId:"MARKETWATCH-EN_US"},"mansionglobal.com":{url:"/newsletters/svc/signup/200/simple-signup",editionId:"MANSIONGLOBAL-EN_US"}};cxenseOffers.injectRecaptchaScript(()=>{grecaptcha.ready(()=>{grecaptcha.execute(cxenseOffers._siteKey,{action:"social"}).then(e=>{var t,r;return s&&a?(t=cxdj.getTopDomain(window.location.hostname),r=Array.isArray(a)?a:[parseInt(a)],r={emailAddress:s,newsletterIds:r,marketing:c,returnLink:"http://www."+t,editionId:i[t].editionId,displayContextId:"ONE_CLICK_REGISTRATION","g-recaptcha-response":e},i[t]?void fetch(i[t].url,{method:"POST",credentials:"include",body:JSON.stringify(r),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(e=>{if(!e.ok)throw new Error("Invalid HTTP Status Code");n(null)}).catch(e=>{n(e)}):n(new Error("Unsupported domain."))):n(new Error("Email and Newsletter ID are required"))})})})},signupNewsletterAsNonSub(r,s,a,c,n,i,o){let d={"wsj.com":{url:"/newsletters/svc/signup/2/simple-signup",editionId:"WSJ-EN_US"},"barrons.com":{url:"/newsletters/svc/signup/30/simple-signup",editionId:"BARRONS-EN_US"},"marketwatch.com":{url:"/newsletters/svc/signup/114/simple-signup",editionId:"MARKETWATCH-EN_US"},"mansionglobal.com":{url:"/newsletters/svc/signup/200/simple-signup",editionId:"MANSIONGLOBAL-EN_US"}},f=cxdj.getTopDomain(window.location.hostname);d[f]&&(i="function"==typeof i?i:()=>{},cxenseOffers.injectRecaptchaScript(()=>{grecaptcha.ready(()=>{grecaptcha.execute(cxenseOffers._siteKey,{action:"social"}).then(e=>{var t;r&&s&&(t=Array.isArray(s)?s:[parseInt(s)],t={emailAddress:r,newsletterIds:t,marketing:n,returnLink:"http://www."+f,editionId:d[f].editionId,displayContextId:"ONE_CLICK_REGISTRATION","g-recaptcha-response":e},fetch(d[f].url,{method:"POST",credentials:"include",body:JSON.stringify(t),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(e=>{if(!e.ok)throw Error("Invalid HTTP Status Code");cxenseOffers.showSignupMessage(a,c,!0),cxdj.reportCustomConversion("newsletterSignup",{newsletterId:s}),o=o?"_"+o:"",utag.link({event_name:"add_newsletter",newsletter_name:"",newsletter_id:s,module_tracker:"cxense_module"+o}),i()}).catch(e=>{cxenseOffers.showSignupMessage(a,c,!1)}))})})}))},signupForElectionOpenHouse(t){var e={url:window.location.href};fetch("/emailsignup/electionOpenhouse",{method:"POST",credentials:"include",body:JSON.stringify(e),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(e=>e.json()).then(e=>{if(!e||!e.redirectUrl)throw Error("Invalid HTTP Status Code");t(null,e.redirectUrl)}).catch(e=>{t(e)})},showSignupMessage(e,t,r){e&&t&&(e.style.display="none",r||(t.innerHTML=`<p>We could not Subscribe you at this time. <a href="https://${window.location.host}/newsletters">Manage your subscription manually</a></p>`),cxenseOffers.fadeIn(t,0))},submitJobForm(e,t){t="function"==typeof t?t:()=>{};fetch("/user/fpd/api/profile",{method:"POST",credentials:"include",body:cxenseOffers._convertDataFormat(e),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(e=>{if(e.ok)return cxdj.reportInteractionEvent("p13nScrim",{submitType:"successfulSubmit"}),t(null);throw Error("Invalid HTTP Status Code")}).catch(e=>t(e))},isUserInUs(){return-1!==decodeURIComponent(cxenseOffers.getCookieValue("DJSESSION")||"").indexOf("country=us")},getCookieValue(e){e=document.cookie.match(new RegExp(e+"=([^;]*)"));return e&&1<e.length?e[1]:void 0},getVxid(){var e=document.cookie.match(/TR=V2-([^;]*)/);return e&&1<e.length?e[1]:void 0},getCxenseId(){return cxenseOffers.getCookieValue("cX_P")},isEmailValid(e){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)},isEmailInputValidated(e,t){if(e&&t){const s="1px solid #cccccc",a="1px solid #f12b2b",c="",n="Please enter your Email",i="Please enter a valid Email";var r=e.value;if(""!==r&&cxenseOffers.isEmailValid(r))return t.textContent=c,e.style.border=s,!0;""===r?t.textContent=n:cxenseOffers.isEmailValid(r)||(t.textContent=i),e.style.border=a}return!1},handleNewsletterInputsChange(e,t,r,s,a){let c=!0,n=()=>{c?c=!1:cxenseOffers.isNewsletterInputsValidated(e,t,r)};e&&e.addEventListener("change",e=>{e.stopPropagation(),n()}),r&&r.addEventListener("change",e=>{e.stopPropagation(),n()}),s&&s.addEventListener("change",e=>{e.stopPropagation(),a&&(a.style.display=s.checked?"block":"none")})},getNewsletterInputValidationMessage(e,t){const r="",s="You must agree the Policy Notice & Cookie Notice & enter Email",a="Please enter your Email",c="You must agree the Policy Notice & Cookie Notice",n="Please enter a valid Email";e=e.trim();return e&&t?cxenseOffers.isEmailValid(e)?r:n:e||t?t?a:c:s},isNewsletterInputsValidated(e,t,r){if(e&&t&&r){const a="1px solid #cccccc",c="1px solid #f12b2b",n="",i="You must click the Policy Agreement checkbox & enter Email",o="Please enter your Email",d="You must click the Policy Agreement checkbox",f="Please enter a valid Email";var s=e.value,r=r.checked;if(""!==s&&r)return cxenseOffers.isEmailValid(s)?(t.textContent=n,e.style.border=a,!0):(t.textContent=f,e.style.border=c,!1);r||""!==s?r?""===s&&(t.textContent=o,e.style.border=c):(t.textContent=d,e.style.border=a):(t.textContent=i,e.style.border=c)}return!1},throttle(e,t){let r=!1;return()=>{r||(e.apply(null,arguments),r=!0,setTimeout(()=>{r=!1},t))}},pageScrollDown(r,s,a){if(!(isNaN(r)||100<r||r<0)){var c=window.innerHeight,n=document.documentElement.scrollHeight||document.body.clientHeight;let e=(n-c)*r/100,t=()=>{window.requestAnimationFrame(()=>{window.pageYOffset>=e&&"function"==typeof s&&(s(),window.removeEventListener("scroll",t))})};c<n?window.addEventListener("scroll",t):"function"==typeof a&&a()}},pageScroll(e,a,c,t){if(!(isNaN(e)||100<e||e<0)){let r=!1;var n=window.innerHeight,i=document.documentElement.scrollHeight||document.body.clientHeight;let s=(i-n)*e/100;n<i?window.addEventListener("scroll",cxenseOffers.throttle(e=>{var t=window.pageYOffset;t>=s&&!r?("function"==typeof a&&a(),r=!0):t<s&&r&&("function"==typeof c&&c(),r=!1)},50)):"function"==typeof t&&t()}},fadeIn(t,e,r){t&&(e<=0&&(cxenseOffers._showElement(t),cxenseOffers._setOpacity(t,100)),r="function"==typeof r?r:()=>{},e=isNaN(e)?400:e,cxenseOffers._animate({duration:e,timing(e){return e},draw(e){cxenseOffers._setOpacity(t,100*e),1===e&&(cxenseOffers._showElement(t),r())}}))},fadeOut(t,e,r){t&&(e<=0&&(cxenseOffers._hideElement(t),cxenseOffers._setOpacity(t,0)),r="function"==typeof r?r:()=>{},e=isNaN(e)?400:e,cxenseOffers._animate({duration:e,timing(e){return e},draw(e){cxenseOffers._setOpacity(t,100*(1-e)),1===e&&(cxenseOffers._hideElement(t),r())}}))},_showElement(e){e&&(e.style.display="block",e.style.visibility="visible")},_hideElement(e){e&&(e.style.display="none",e.style.visibility="hidden")},_setOpacity(e,t){e.style.opacity=t/100,e.style.filter=`alpha(opacity=${t})`},_animate(r){let s=performance.now(),a;requestAnimationFrame(a=e=>{let t=(e-s)/r.duration;1<t&&(t=1);e=r.timing(t);r.draw(e),t<1&&requestAnimationFrame(a)})},injectFstDropdown(){var e=document.createElement("link"),e=(e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href",`https://${cxdj.cdnDomain}/static_html_files/cxense/fstdropdown.min.css`),document.getElementsByTagName("head")[0].appendChild(e),document.createElement("script"));e.setAttribute("type","text/javascript"),e.setAttribute("src",`https://${cxdj.cdnDomain}/static_html_files/cxense/fstdropdown.min.js`),e.onload=()=>{setFstDropdown()},document.getElementsByTagName("head")[0].appendChild(e)},injectRecaptchaScript(e){if(e="function"==typeof e?e:()=>{},"undefined"!=typeof grecaptcha)return e();var t=document.createElement("script");t.type="text/javascript",t.src="https://www.google.com/recaptcha/api.js?render="+cxenseOffers._siteKey,t.setAttribute("async",""),t.onload=e,document.getElementsByTagName("head")[0].appendChild(t)},_isDivEmpty(e){if(e)for(var t,r,s=[e];0!==s.length;){var a=s.length;for(let e=0;e<a;e++){if("object"==typeof(t=s.shift())&&"string"==typeof t.textContent&&""!==t.textContent.trim())return!1;if("object"==typeof t&&"object"==typeof t.children)for(let e=0;e<t.children.length;e++)r=t.children[e],s.push(r)}}return!0},lazyLoad(e,r){r="function"==typeof r?r:()=>{};let s=document.getElementById(e);if(s){let t=new IntersectionObserver(e=>{e[0].isIntersecting&&(r(),t.unobserve(s))});t.observe(s)}},isDivVisibleInViewport(e){var t,r,s;return!!e&&(r=(t=window.pageYOffset)+window.innerHeight,e=(s=e.getBoundingClientRect().top+t)+(e.clientHeight||e.offsetHeight),s<=r&&t<=s||t<=e&&e<=r)},getModCode(e){return"string"==typeof e&&0!==e.length&&(e=e.match(/[?&]mod=([^&#]*)/))?e[1]:""},getNewsletterId(e){return"string"==typeof e&&0!==e.length&&(e=e.match(/[?&]sub=([^&#]*)/))?e[1]:""},signupFreeregUser(e,t,r){if(!/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/i.test(e))return r("Invalid Email Address");fetch("/emailsignup/freereg",{method:"POST",body:JSON.stringify({email:e,type:t,url:window.location.href}),headers:{"content-type":"application/json; charset=UTF-8"}}).then(e=>e.json()).then(e=>e&&e.redirectUrl?r(null,e.redirectUrl):r("Unable to Retrieve Free Article")).catch(e=>r("Unable to Retrieve Free Article"))},sendLinkText(a,c){if(c="function"==typeof c?c:()=>{},!a)return c("Please enter your phone number.");cxenseOffers.injectRecaptchaScript(()=>{grecaptcha.ready(()=>{let s={"wsj.com":"88b2f8b2-9d37-4a6c-8d63-5cdc4da9210f","barrons.com":"b3c3a3a5-eff0-4ebd-a1f4-53a670e36dd5"};grecaptcha.execute(cxenseOffers._siteKey,{action:"social"}).then(e=>{var t="https://api.linktexting.com/sendLink?",r=cxdj.getTopDomain(window.location.hostname);t+=`linkId=${s[r]}&number=`+a,fetch(t,{method:"POST"}).then(e=>e.json()).then(e=>{if(!e)throw Error(e);c(null)}).catch(e=>{c(e)})})})})},setLinkTextingConfiguration(){var e=document.createElement("link"),e=(e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href","https://d22hhoe037sl7u.cloudfront.net/1.7/css/link_texting_gz.min.css"),document.getElementsByTagName("head")[0].appendChild(e),document.createElement("script"));e.setAttribute("type","text/javascript"),e.setAttribute("src","https://s3.amazonaws.com/linktexting-cdn/1.7/js/link_texting_gz.min.js"),document.getElementsByTagName("head")[0].appendChild(e),window.linkTextingDefaultCountryOff=!1,window.linkTextingPreferredCountries=["us","ca"],window.linkTextingOnlyCountries=["af","al","dz","as","ad","ao","ai","ag","ar","am","aw","au","at","az","bs","bh","bd","bb","by","be","bz","bj","bm","bt","bo","ba","bw","br","io","vg","bn","bg","bf","bi","kh","cm","ca","cv","bq","ky","cf","td","cl","cn","co","km","cd","cg","ck","cr","ci","hr","cu","cw","cy","cz","dk","dj","dm","do","ec","eg","sv","gq","er","ee","et","fk","fo","fj","fi","fr","gf","pf","ga","gm","ge","de","gh","gi","gr","gl","gd","gp","gu","gt","gn","gw","gy","ht","hn","hk","hu","is","in","id","ir","iq","ie","il","it","jm","jp","jo","kz","ke","ki","kw","kg","la","lv","lb","ls","lr","ly","li","lt","lu","mo","mk","mg","mw","my","mv","ml","mt","mh","mq","mr","mu","mx","fm","md","mc","mn","me","ms","ma","mz","mm","na","nr","np","nl","nc","nz","ni","ne","ng","nu","nf","kp","mp","no","om","pk","pw","ps","pa","pg","py","pe","ph","pl","pt","pr","qa","re","ro","ru","rw","bl","sh","kn","lc","mf","pm","vc","ws","sm","st","sa","sn","rs","sc","sl","sg","sx","sk","si","sb","so","za","kr","ss","es","lk","sd","sr","sz","se","ch","sy","tw","tj","tz","th","tl","tg","tk","to","tt","tn","tr","tm","tc","tv","vi","ug","ua","ae","gb","us","uy","uz","vu","va","ve","vn","wf","ye","zm","zw"]},_convertDataFormat(e){var t,r={items:[]};for(t in e)r.items.push({field:t,value:e[t]});return JSON.stringify(r)},sendToProfile(e,t){t="function"==typeof t?t:()=>{};fetch("user/fpd/api/cxprofile",{method:"POST",credentials:"include",body:cxenseOffers._convertDataFormat(e),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(e=>{if(e.ok)return t(null);throw Error("Invalid HTTP Status Code")}).catch(e=>t(e))},unPauseDigitalSubscription(){let t={staging:"https://customercenter-newlz.s.dev.wsj.com",prod:"https://customercenter.wsj.com"};let r=`https://${"staging"===cxdj.env?"int.":""}accounts.wsj.com/refresh?url=`+window.location.href;fetch("BASE_URL[cxdj.env]/api/subscriptions/restartSubscription",{method:"POST",credentials:"include",body:JSON.stringify({brand:"WSJ"}),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(e=>{if(!e.ok)throw Error("Invalid HTTP Status Code");window.location.href=r}).catch(e=>{window.location.href=t[cxdj.env]+"/public"})},saveArticle(e,t){fetch("/articles/svc/personalization/saved-contents",{method:"POST",body:JSON.stringify({contentId:e}),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(e=>{if(e.ok)return t(null);throw Error("Invalid HTTP Status Code")}).catch(e=>t(e))},getCampaignData(e){var t,r={},s=e.url,a={"Message Id":"messageId","Placement Id":"placementId","Channel Id":"channelId","Campaign Id":"campaignId","Cellcode Id":"cellCodeId","Suppress Value":"suppressId","Tracking Code":"trackCode","Source Key":"sourceKey",Brand:"brand","Campaign Type":"campaignType","Campaign Name":"campaignName"},c=cxenseOffers.getModCode(s),s=cxenseOffers.getNewsletterId(s);for(t in a)e[t]&&(r[a[t]]=e[t]);return c&&(r.modCode=c),s&&(r.newsletterId=s),r},sendLiveQAEmailReminder(t,r,s=()=>{}){cxenseOffers.injectRecaptchaScript(()=>{grecaptcha.ready(()=>{grecaptcha.execute(cxenseOffers._siteKey,{action:"social"}).then(e=>{fetch("/live-qa/reminder",{method:"POST",body:JSON.stringify({email:t,"g-recaptcha-response":e,newsletter_name:"Live Question & Answer Event - "+r}),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(e=>{if(e.ok)return s(null);throw Error("Invalid HTTP Status Code")}).catch(e=>s(e))})})})},getAutomatedPricing(){var e=window.localStorage.getItem("ca_offers");if(!e)return{};let t={};try{t=JSON.parse(e)}catch(e){throw Error("The Automated Pricing Data can not be parsed. "+e)}var e=t.main_offer,r=t.in_situ_offers?.primary,s=t.in_situ_offers?.secondary;return{jwt:t.jwt,price:t[e]?.price,bundleName:t[e]?.bundleName,rawPrice:t[e]?.rawPrice,benefits:t[e]?.benefits,primaryPrice:t[r]?.price,primaryBundleName:t[r]?.bundleName,primaryRawPrice:t[r]?.rawPrice,primaryBenefits:t[r]?.benefits,primaryOfferId:t[r]?.offerId,secondaryPrice:t[s]?.price,secondaryBundleName:t[s]?.bundleName,secondaryRawPrice:t[s]?.rawPrice,secondaryBenefits:t[s]?.benefits,secondaryOfferId:t[s]?.offerId}},getAutomatedPricingUrl(e){var t=cxenseOffers.getAutomatedPricing().jwt,r="staging"===cxdj.env?"dev.":"",s=cxdj.getTopDomain(window.location.hostname);return e=e||("wsj.com"===s?`https://www.${r}${s}/subscribe`:`https://www.${s}/subscribe`),t?cxenseOffers.addQueryStringToUrl(e,{pot:t,AP1F4404:"AP1F4404"}):e},sendTermsAndConditionsToUAP(e,t,r=()=>{}){if(!e||!t)throw Error("Missing Edition or Version");var s=cxdj.getTopDomain(window.location.hostname),s=`https://register${"staging"===cxdj.env?".s.dev":""}.${s}/api/customers/addTermsAndConditions`;fetch(s,{method:"POST",credentials:"include",body:JSON.stringify({termsAndConditions:[{acceptedEdition:e,acceptedVersion:t}]}),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(e=>{if(e.ok)return r(null);throw Error("Invalid HTTP Status Code")}).catch(e=>r(e))},addQueryStringToUrl(e,t){return e?"object"!=typeof t||0===Object.keys(t).length||""===(t=Object.entries(t).filter(([,e])=>e).map(([e,t])=>encodeURIComponent(e)+"="+encodeURIComponent(t)).join("&"))?e:""+e+(e.includes("?")?"&":"?")+t:""},getClientRefreshUrl(e){var t="/client/refresh";return e?t+"?target="+encodeURIComponent(e):t},getLoginUrl(e){var t="/client/login",r="asiacn_hant"===cxdj.getSiteEdition()?"locale=zh-tw":"";return e?t+"?target="+encodeURIComponent(e)+(r?"&":"")+r:t+(r?"?":"")+r},getRegisterUrl(e,t){var r="staging"===cxdj.env?"s.dev.":"",s=cxdj.getTopDomain(window.location.hostname),t=t||`https://register.${r}${s}/register`;return e?(r=t.includes("?")?"&":"?",t+r+"targetUrl="+encodeURIComponent(e)):t},getFreeRegisterUrl(e){var t=`https://register.${"staging"===cxdj.env?"s.dev.":""}${cxdj.getTopDomain(window.location.hostname)}/free-register`;return e?t+"?targetUrl="+encodeURIComponent(e):t},addModuleInfoToUrl(e,t,r){return e?cxenseOffers.addQueryStringToUrl(e,{pw_widget:t,pw_campaign:r}):""},toTitleCase(e=""){return e?e.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):""},addStyleToDiv(e={},t,r){let s=document.querySelector(t);for(var a in s||((s=document.createElement("div")).id=r),e)s.style[a]=e[a];return s},adjustHeaderTile(e="#cx-header"){cxenseOffers.adjustContainerWidth(e),cxenseOffers.adjustIframeWidth(e)},adjustContainerWidth(e){var t=document.querySelector(e+" .tp-container-inner");t?(t.classList.remove("no-width"),t.style.width="auto"):console.error(e+" .tp-container-inner does not exist")},adjustIframeWidth(e){var t=document.querySelector(e+" .tp-container-inner iframe");t?t.style.width="auto":console.error(e+" .tp-container-inner iframe does not exist")},adjustArticleCover(e="#cx-articlecover"){cxenseOffers.addStyleToDiv({zIndex:"20",top:"200px",position:"sticky"},e);e=document.querySelector(e+" ~ section");e&&(e.style.opacity="0.1")},adjustModal(){cxenseOffers.addStyleToDiv({alignContent:"center"},".tp-modal")},getUserRenewalUrl(e,t){return e?.fields?.length&&t&&e.fields.find(e=>e.name===t)?.value||""},getUserRenewalUrlByTopDomain(e,t){var r;return e?t?(r={"barrons.com":"wsj-barrenewfy24-ctaurl1:string"}[e])?cxenseOffers.getUserRenewalUrl(t,r):(console.error("No field names found for domain: "+e),null):(console.error("No userProfile found for domain: "+e),null):(console.error("No topDomain to get renewalUrl"),null)},getAbandonedCartData(){try{var e=localStorage.getItem("abandonData");return e&&(e=JSON.parse(e))?.cartUrl?e:null}catch(e){return null}}};
//# sourceMappingURL=cxense-candy.js.map