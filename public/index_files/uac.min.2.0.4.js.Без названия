(()=>{"use strict";let t,a;var r={};r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(t){if("object"==typeof window)return window}}();let i={breakpoints:{at4units:0,at8units:640,at12units:980,at16units:1300}},n=t=>{let{__ace:a}=window,r={initiator:"uac",...t};try{a("log","log",[r])}catch(t){console.error(`__ace function does not exist: ${t}`)}},s={ERROR:"error",WARNING:"warning",INFO:"info"},o=()=>{let t=[];return window.location.search.replace(/([^?=&]+)(=([^&]*))?/g,(a,r,i,n)=>t.push([r,n])),t},d={ALLOWED_AD_BIDDING_SIZES:[[728,90],[970,250],[300,600],[300,250]],CURRENT_CONTENT_TYPE_KEY:"currentPageContentType",REFERRER_CONTENT_TYPE_KEY:"referrerPageContentType",MAXIMUM_NUMBER_OF_VISITS:6,AD_CONFIG_ORIGIN:{geneva:"GENEVA",abt:"ABT"},LOGGER_CONFIG:{ENABLED_LOG_KEY:"uac_log",ENABLED_VERBOSE_LOG_OPTION:"verbose"},AD_REFRESH:{DEFAULT_CONFIG:{adRefreshVisibilityThreshold:.5,adRefreshIntervalMs:3e4,maxAdRefreshTimes:5,adDelayMs:5e3,specialAdDelayMs:6e4,checkSpecialAdDelayMs:3e3},REFRESHED_TIMES_TARGET_KEY:"adrefresh"},AD_BIDDING:{TIMEOUT_MS:1200}},{LOGGER_CONFIG:l}=d,{ENABLED_LOG_KEY:c,ENABLED_VERBOSE_LOG_OPTION:u}=l,g=()=>{let{aceConfig:t={}}=window,a=t.scripts?.find(t=>"uac"===t.id);return a?.params||{}},p={},f=()=>{let t=o(),a=!!t.find(t=>t[0]===c),r=!!t.find(t=>t[0]===c&&t[1]===u);return a&&(p.logEnabled=!0),r&&(p.logEnabledVerbose=!0),{logEnabled:p?.logEnabled??a,logEnabledVerbose:p?.logEnabledVerbose??r}},m=(a=!1)=>{a&&(t=null);let r={};try{t||(t=document.querySelector("#uac"));let a=t&&t.getAttribute("data-params");r=a?JSON.parse(a):g()}catch(t){n({type:s.ERROR,message:t.message,stack:t.stack})}return r},w=()=>{let{__ace:t=()=>({})}=window,a=t("dataLayer","getData",["breakpoints"])||{},r=function(t,a){let r=document.querySelector(`meta[${t}="${a}"]`);return r?r.content:null}("name","uac-config"),n={};try{n=JSON.parse(decodeURIComponent(r))}catch(t){n={}}let s={...i,...n};return a.breakpoints&&(s={...s,...a}),s},h=t=>{let{breakpoints:a}=w(),{googletag:r}=window,i=r.sizeMapping();return Object.keys(t).forEach(r=>{let n=t[r];a.hasOwnProperty(r)&&i.addSize([a[r],0],n)}),i},_=t=>{let{adId:a="",adLocation:r}=t,i={adlocation:a.includes("AD_")?a.slice(a.indexOf("AD_")+3,a.length):a};return("string"==typeof r&&r?{adlocation:r}:r)||i},y=t=>{let a=t.adId||t.adLocation;try{let{__ace:r=()=>({})}=window,{genevaConfig:i,adConfigSource:o}=r("dataLayer","getData",["adConfigSource","genevaConfig"]);if(!(i&&o===d.AD_CONFIG_ORIGIN.geneva&&i?.adSlots))return n({type:s.WARNING,message:`[applyUACConfigFromGeneva] Geneva config is not valid for adLocation: ${a}.`}),t;let{adlocation:l}=_(t),c=i.adSlots?.find(t=>t.adSlotName===l);if(!c){let t=l.replace(/[_\d]+$/,"");c=i.adSlots?.find(a=>a.adSlotName===t)}if(!(c&&Object.keys(c.uacConfig).length))return n({type:s.WARNING,message:`[applyUACConfigFromGeneva] There is no UAC config for adLocation: ${a}.`}),t;return n({type:s.INFO,message:`[applyUACConfigFromGeneva] Applied custom UAC config from Geneva for adLocation '${a}'. Config: ${JSON.stringify(c.uacConfig)} (Geneva adSlotName: '${c.adSlotName}').`}),{...t,...c.uacConfig}}catch(r){return n({type:s.ERROR,message:`[applyUACConfigFromGeneva] Failed to apply UAC config from Geneva for adLocation: ${a}. Error details: ${r.message}`}),t}},b={min:t=>`(min-width: ${t.value}px)`,between:(t,a)=>`(min-width: ${t.value}px) and (max-width: ${a.value-1}px)`,max:t=>`(max-width: ${t.value-1}px)`},T=()=>{let{breakpoints:t}=w();if(!t)return;let a=Object.keys(t).map(a=>({name:a,value:t[a]})).sort((t,a)=>a.value-t.value);try{let[t]=a;for(let r=0;r<a.length;r++){let i;let n=a[r],s=a[r-1],o=a[r+1];if(s&&o?i=b.between(n,s):!s&&o?i=b.min(n):!o&&s&&(i=b.max(s)),i&&window.matchMedia(i).matches){t=n;break}}return t.name}catch(t){return a[a.length-1].name}},R=(t={})=>{let{useTaxonomyInformation:a=!0,taxonomyAdUnitPathRoot:r="/2/interactive.wsj.com",taxonomyAdUnitPathDelimiter:i="/",taxonomyDefaultFrontPageIdentifier:n="front"}=m(),{adUnitPath:s}=t,{__dataProvider:o,__dataLayer:l,__ace:c=()=>{}}=window;if(l){let{adConfigSource:t}=l.getData("adConfigSource");if(t===d.AD_CONFIG_ORIGIN.geneva)return s}if(!a||!o)return s;let{data:{taxonomyInformation:u}}=o.getData("taxonomyInformation",{source:"uac"}),{hasTaxonomyInformation:g=!1,taxonomyStructure:p="",pageType:f=""}=u;if(!g)return s;let[w,h]=p.split("|");if(!w)return s;let _=`${r}${i}${w}`;return h?_+=`${i}${h}`:_+="article"===f.toLowerCase()?"":`${i}${n}`,c("dataLayer","setData",[{siteAdUnitPath:[_]}]),_},A={APSTAG:"apstag-request-resolved",PREBID:"prebid-request-resolved",IAS:"ias-request-resolved"};class D{constructor(t,a){this.requestPending=[],this.createRequest(t),this.callback=a}resolve(t,a,r){let{__uac:i,__ace:n,performance:s}=window,o=this.requestPending.find(a=>a.id===t);o&&(o.pending=!1);let d=A[t];i.requestsReadiness[t]=!0,s.getEntriesByName(d).length||n("ace","setPerfMark",[d,{isNewRelicEnabled:!0}]),this.allRequestResolved()&&this.callback(a,r)}execute(t,a){this.isRequestListEmpty()?this.callback(t,a):this.requestPending.forEach(r=>{r.callback({adId:t,options:a,requestId:r.id,requestManager:this})})}isRequestListEmpty(){return 0===this.requestPending.length}createRequest(t){Object.keys(t).filter(a=>"function"==typeof t[a]).forEach(a=>{this.requestPending.push({callback:t[a],id:a,pending:!0})})}allRequestResolved(){return this.isRequestListEmpty()||this.requestPending.every(t=>!t.pending)}}let x="white",E="#9dd7ef",v=(t,a,r,i)=>{let{logEnabled:n}=f();if(n){let n="error"===t?console.error:"warn"===t?console.warn:console.log,s=i?.textColor??x,o=i?.backgroundColor??E;n(`%cUAC%c %c${a}%c - ${r} - ${parseInt(performance.now())}ms`,`color: ${x}; background-color: ${E}; border-radius: 4px; padding: 2px 4px;`,"color: black; background-color: transparent;",`color: ${s}; background-color: ${o}; border-radius: 4px; padding: 2px 4px;`,"color: default; background-color: transparent;")}};class k{constructor(t,a={textColor:x,backgroundColor:E}){this.context=t,this.defaultStyles=a}log(t,a={}){let r={...this.defaultStyles,...a};v("log",this.context,t,r)}logVerbose(t,a={}){let{logEnabledVerbose:r}=f();if(r){let r={...this.defaultStyles,...a};v("log",this.context,t,r)}}warn(t,a){let r={...this.defaultStyles,...a};v("warn",this.context,t,r)}error(t,a){let r={...this.defaultStyles,...a};v("error",this.context,t,r)}}let{ALLOWED_AD_BIDDING_SIZES:I}=d,$=(t,a)=>{let r,i,n;for(r=0;r<t.length;++r)if(a.length===t[r].length){for(i=0,n=t[r];i<a.length&&a[i]===n[i];++i);if(i===a.length)return r}return -1},S=t=>t&&Array.isArray(t)?t.filter(t=>-1!==$(I,t)):[],C=new k("LoadAd",{textColor:"white",backgroundColor:"red"}),Z=({adId:t,options:a,requestId:r,requestManager:i})=>{let o=window.adslots||{},{apstagAdSlots:d=[]}=window,{adUnitPath:l,adSize:c}=a;C.log(`Apstag request START for Ad ${t}`);let u=S(c);if(!u.length)return C.log(`Apstag request END for Ad ${t} (not supported sizes)`),i.resolve(r,t,a);let g={sizes:u,slotID:t,slotName:l},{apstag:p,__ace:f,performance:m}=window,w=n=>{m.getEntriesByName("apstag-firstBid").length||f("ace","setPerfMark",["apstag-firstBid",{isNewRelicEnabled:!0}]),o[t].apstagBids=n,googletag.cmd.push(()=>{p.setDisplayBids(),C.log(`Apstag request END for Ad ${t}`),i.resolve(r,t,a)})};try{f.subscribe(`header-bidding-apstag-${t}`,{apstagCallback:w}),f("ace","setPerfMark",["apstag-start"])}catch(t){n({type:s.ERROR,initiator:"uac.js",message:"requestApstag function: GMS function does not exist"})}f("djcmp","executeOnCmpReady",[{cb:()=>{try{d.find(a=>a.slotID===t)||p.fetchBids({slots:[g]},t=>w(t))}catch(n){C.log(`Apstag request END (with error) for Ad ${t}`),i.resolve(r,t,a)}}}])},O=new k("LoadAd",{textColor:"white",backgroundColor:"red"}),N=({adId:t,options:a,requestId:r,requestManager:i})=>{let{pbjs:o,pbAdIds:d=[],__ace:l=()=>{}}=window;O.log(`Prebid request START for Ad ${t}`);let c=()=>{window.__ace("ace","setPerfMark",["ace_pbjsLoadAds_start"]),n({type:s.INFO,message:`${t} PREBID loadPrebidAds function callback`}),O.log(`Prebid request END for Ad ${t}`),i.resolve(r,t,a)};try{l.subscribe(`header-bidding-prebid-${t}`,{prebidCallback:c})}catch(t){n({type:s.ERROR,initiator:"uac.js",message:"requestPbjs function: GMS function does not exist"})}try{d.includes(t)||(l("ace","setPerfMark",["ace_pbjsPush_start"]),o.que.push(()=>{o.loadPrebidAds([t],c)}))}catch(n){O.log(`Prebid request END (with error) for Ad ${t}`),i.resolve(r,t,a)}},M=(t,a)=>{let{__dataProvider:r}=window,{options:i}=a,{adTargeting:n={}}=i,s=_(i),{data:o}=r.getData("slotTargeting",{source:"uac",metadata:{...n,...s,adcomponent:"uac"}});return Object.keys(o).forEach(function(a){o[a]&&t.setTargeting(a,o[a])}),o},L=(t,a="ace")=>(r,i,n=[],s=!0)=>{t(`${a}_${r}_start`);let o=i(...n);return s&&t(`${a}_${r}_end`),o},P=(t,a={})=>{let r=!!a.changeCorrelator,{waitForUsp:i=!0}=m(),{adId:o}=a,{adslots:d,googletag:l,dispatchEvent:c,Event:u,__ace:g=()=>{},localStorage:p}=window,f=L((...t)=>g("ace","setPerfMark",t));c(new u("setPageLevelTargeting"));let w=d[o],{adAlreadyRequested:h}=w;if(h||(w.adAlreadyRequested=!0),t&&w){let d;w.options.adTargeting=f("adSlotTargeting",M,[t,{options:a}]),n({type:s.INFO,message:`requestAd: ${o} request to GoogleAdManager`,data:t});let c=p.getItem("regulationApplies")||"";try{d=JSON.parse(c)}catch{d={usp:!0},n({type:s.ERROR,message:"Error happened while parsing regulationApplies from localStorage"})}d?.usp&&i?g("djcmp","executeOnCmpReady",[{cb:()=>{f("adRefresh",l.pubads().refresh,[[t],{changeCorrelator:r}])}}]):f("adRefresh",l.pubads().refresh,[[t],{changeCorrelator:r}])}},q=new k("LoadAd",{textColor:"white",backgroundColor:"red"}),j={apstag:"APSTAG",prebid:"PREBID",ias:"IAS"},F=d.AD_BIDDING.TIMEOUT_MS,G=(t,a)=>{let{adslots:r={},__ace:i,alreadyRequestedAds:n,__uac:s,performance:o}=window;return q.log(`LoadAd timeout start for Ad ${t}`),o.getEntriesByName("3p-timer-start").length||i("ace","setPerfMark",["3p-timer-start",{isNewRelicEnabled:!0}]),setTimeout(()=>{o.getEntriesByName("ace-request-manager-callback").length||o.getEntriesByName("3p-timed-out").length||(s.requestsReadiness[j.apstag]||i("ace","setPerfMark",["apstag-timed-out",{isNewRelicEnabled:!0}]),s.requestsReadiness[j.ias]||i("ace","setPerfMark",["ias-timed-out",{isNewRelicEnabled:!0}]),s.requestsReadiness[j.prebid]||i("ace","setPerfMark",["prebid-timed-out",{isNewRelicEnabled:!0}]),i("ace","setPerfMark",["3p-timed-out",{isNewRelicEnabled:!0}])),q.log(`Requesting Ad ${t} by timeout`),P(r[t].slot,a),n.push(t)},F)},B=new k("LoadAd",{textColor:"white",backgroundColor:"red"}),U=(t,a)=>{let{adslots:r,iasAdsReady:i,alreadyRequestedAds:n,__ace:s,clearTimeout:o,performance:d}=window,{timerId:l}=a;if(B.logVerbose(`Request manager callback triggered for Ad ${t}`),d.getEntriesByName("ace-request-manager-callback").length||d.getEntriesByName("3p-timed-out").length||s("ace","setPerfMark",["ace-request-manager-callback"]),n.find(a=>a===t)){B.log(`Ad ${t} already requested by Timeout, avoid requesting again`);return}if(i.includes(t)){o(l),B.log(`Ad ${t} ready and requested by Request manager callback. Timeout cleared`),P(r[t].slot,a);return}B.log(`Ad ${t} NOT ready when calling Request manager callback, waiting for Timeout`)},z=new k("LoadAd",{textColor:"white",backgroundColor:"red"}),Y=({adId:t,options:a,requestId:r,requestManager:i})=>{let{adslots:n={},__iasPET:s={},iasAdsReady:o,__ace:d,performance:l,googletag:c}=window;z.logVerbose(`setIASTargets START for Ad ${t}`),l.getEntriesByName("ias-data-requested").length||d("ace","setPerfMark",["ias-data-requested",{isNewRelicEnabled:!0}]),s.queue=s.queue||[];let u=n[t],g=()=>{z.log(`Adding IAS targets for Ad ${t}`),l.getEntriesByName("ias-first-target").length||d("ace","setPerfMark",["ias-first-target",{isNewRelicEnabled:!0}]),s.setTargetingForGPT(),o.push(t),i.resolve(r,t,a)};c.cmd.push(()=>{let a=u.slot.getSizes().map(t=>t.getWidth&&t.getHeight?[t.getWidth(),t.getHeight()]:[1,1]),r=[{adSlotId:t,size:a,adUnitPath:u.slot.getAdUnitPath()}];z.log(`Pushing Ad to __iasPET.queue with: adSlotId: ${t} | size: ${a} | adUnitPath: ${u.slot.getAdUnitPath()}`),s.queue.push({adSlots:r,dataHandler:g})})},V={apstag:"APSTAG",prebid:"PREBID",ias:"IAS"},H=(t,a={})=>{let{triggerPrebid:r,triggerAdBidding:i}=a,{iasEnabled:n}=m(),s=S(a.adSize),o=(i||r)&&s.length>0,d=[t,a];a.timerId=G(...d);let{__uac:l={}}=window;l.requestsReadiness={[V.prebid]:!o,[V.apstag]:!o};let c={[V.prebid]:o&&N,[V.apstag]:o&&Z};n&&(c[V.ias]=Y,l.requestsReadiness[V.ias]=!1),new D(c,U).execute(t,a)},J=(t=[],a,r={})=>{let{adslots:i,__uac:{uacObservers:n}}=window,{isIntersecting:s}=t[0]||!1,{infiniteScrollDisplayAds:o}=r;if(s){if(void 0!==o&&a&&!o.includes(a))return;n[a](),i[a].isObserveAdRequested||(i[a].isObserveAdRequested=!0,H(a,r))}},K=(t,a={options:{}})=>{let{__uac:{uacObservers:r},adslots:i={}}=window,{options:{rootMargin:n="0px",threshold:s=0}}=a,o=i[t]?.options??a.options;try{let a=document.querySelector(`#${t}`),i=document.querySelector(`#wrapper-${t}`)||a;if(!i)return;let d=new IntersectionObserver(a=>J(a,t,o),{rootMargin:n,threshold:s});d.observe(i),window.adslots[t].observed=!0,r[t]=function(){d.unobserve(i)}}catch(r){H(t,a.options)}},W={exclusionIds:{adUnits:[{path:"2/brokerbuttons.marketwatch.com/investing_story",type:"MW Broker Button"}],advertiserIds:[{id:0x1447712,type:"SAP "},{id:0x147a3e2,type:"UBS "},{id:0x14875e2,type:"Oracle"},{id:0x14bc292,type:"Pimco "},{id:0x117e63dc1,type:"Sapient Razorfish "},{id:0x379acd2,type:"CITIBANK IPB"},{id:0x106e84ac0,type:"Darktrace Ltd "}],campaignIds:[{id:0x9d9ee82f,type:"Connatix"},{id:0xda8f1c0e,type:"HOUSE"}],lineItemIds:[{id:0x194ea2a95,startDate:"2024-12-06T05:00:00.000Z",endDate:"2024-12-31T05:00:00.000Z"},{id:0x1977774f2,startDate:"2024-12-02T05:00:00.000Z",endDate:"2024-12-22T05:00:00.000Z"},{id:0x19777750d,startDate:"2024-12-02T05:00:00.000Z",endDate:"2024-12-22T05:00:00.000Z"},{id:0x19852a145,startDate:"2024-12-02T05:00:00.000Z",endDate:"2024-12-22T05:00:00.000Z"},{id:0x19875db3d,startDate:"2024-12-02T05:00:00.000Z",endDate:"2024-12-22T05:00:00.000Z"},{id:0x197ecdbfa,startDate:"2024-11-19T05:00:00.000Z",endDate:"2024-12-25T05:00:00.000Z"},{id:0x197ecdb73,startDate:"2024-11-19T05:00:00.000Z",endDate:"2024-12-25T05:00:00.000Z"},{id:0x197ecdb5e,startDate:"2024-11-19T05:00:00.000Z",endDate:"2024-12-25T05:00:00.000Z"},{id:0x19744328c,startDate:"2024-11-08T05:00:00.000Z",endDate:"2024-11-18T04:59:59.000Z"},{id:0x197444585,startDate:"2024-11-08T05:00:00.000Z",endDate:"2024-11-18T04:59:59.000Z"},{id:0x19730a484,startDate:"2024-11-08T05:00:00.000Z",endDate:"2024-11-18T04:59:59.000Z"},{id:0x19231a2d7,startDate:"2024-11-12T05:00:00.000Z",endDate:"2025-02-01T04:59:59.000Z"},{id:0x19232326e,startDate:"2024-11-12T05:00:00.000Z",endDate:"2024-11-13T04:59:59.000Z"},{id:0x192323361,startDate:"2024-11-12T05:00:00.000Z",endDate:"2025-02-01T04:59:59.000Z"},{id:0x192323367,startDate:"2024-11-12T05:00:00.000Z",endDate:"2025-02-01T04:59:59.000Z"},{id:0x1925419b4,startDate:"2024-11-12T05:00:00.000Z",endDate:"2025-02-01T04:59:59.000Z"},{id:0x192541d2c,startDate:"2024-11-12T05:00:00.000Z",endDate:"2025-02-01T04:59:59.000Z"},{id:0x192541d32,startDate:"2024-11-12T05:00:00.000Z",endDate:"2025-02-01T04:59:59.000Z"},{id:0x19265747c,startDate:"2024-11-12T05:00:00.000Z",endDate:"2025-02-01T04:59:59.000Z"},{id:0x1937378f1,startDate:"2024-08-20T04:00:00.000Z",endDate:"2024-08-24T04:00:00.000Z"},{id:0x162889caa,startDate:"2022-03-15T04:00:00.000Z"},{id:0x1629d83df,startDate:"2022-03-15T04:00:00.000Z"},{id:0x162a7102c,startDate:"2022-03-15T04:00:00.000Z"},{id:0x161972ecb,startDate:"2022-02-26T05:00:00.000Z"},{id:0x161aad3e3,startDate:"2022-02-26T05:00:00.000Z"},{id:0x161aad4cd,startDate:"2022-02-26T05:00:00.000Z"},{id:0x161aae3b2,startDate:"2022-02-26T05:00:00.000Z"},{id:0x161aae499,startDate:"2022-02-26T05:00:00.000Z"},{id:0x161aae859,startDate:"2022-02-26T05:00:00.000Z"},{id:0x161b3d8df,startDate:"2022-02-26T05:00:00.000Z"},{id:0x161b3d24c,startDate:"2022-02-25T21:42:00.000Z"},{id:0x15eea7e50,startDate:"2022-01-14T16:47:00.000Z"},{id:0x17d6f49e4,startDate:"2023-10-20T04:00:00.000Z",endDate:"2023-11-17T05:00:00.000Z"},{id:0x17d4c1145,startDate:"2023-10-20T04:00:00.000Z",endDate:"2023-11-17T05:00:00.000Z"},{id:0x17d4c113f,startDate:"2023-10-20T04:00:00.000Z",endDate:"2023-11-17T05:00:00.000Z"},{id:0x17d4c112d,startDate:"2023-10-20T04:00:00.000Z",endDate:"2023-11-17T05:00:00.000Z"},{id:0x17d4c0ff8,startDate:"2023-10-20T04:00:00.000Z",endDate:"2023-11-17T05:00:00.000Z"},{id:0x17d4c0f68,startDate:"2023-10-20T04:00:00.000Z",endDate:"2023-11-17T05:00:00.000Z"},{id:0x17d4c0f59,startDate:"2023-10-20T04:00:00.000Z",endDate:"2023-11-17T05:00:00.000Z"},{id:0x17e56a0b1,startDate:"2023-11-15T05:00:00.000Z",endDate:"2024-09-30T04:00:00.000Z"},{id:0x191d0449b,startDate:"2024-06-14T04:00:00.000Z",endDate:"2024-06-14T04:00:00.000Z"},{id:0x191db3d46,startDate:"2024-06-19T04:00:00.000Z",endDate:"2024-06-19T04:00:00.000Z"},{id:0x18f355e69,startDate:"2024-04-22T04:00:00.000Z",endDate:"2024-11-30T05:00:00.000Z"},{id:0x190a4fd76,startDate:"2024-07-15T04:00:00.000Z",endDate:"2025-03-31T04:00:00.000Z"},{id:0x190a4fe06,startDate:"2024-07-15T04:00:00.000Z",endDate:"2025-03-31T04:00:00.000Z"},{id:0x190759368,startDate:"2024-07-15T04:00:00.000Z",endDate:"2025-03-31T04:00:00.000Z"},{id:0x1947d412b,startDate:"2024-10-01T04:00:00.000Z",endDate:"2024-11-04T04:59:59.000Z"},{id:0x1947d4023,startDate:"2024-10-01T04:00:00.000Z",endDate:"2024-11-04T04:59:59.000Z"},{id:0x1947d4116,startDate:"2024-10-01T04:00:00.000Z",endDate:"2024-11-04T04:59:59.000Z"},{id:0x1945a9c2e,startDate:"2024-10-01T04:00:00.000Z",endDate:"2024-11-04T04:59:59.000Z"},{id:0x1947d403b,startDate:"2024-10-01T04:00:00.000Z",endDate:"2024-11-04T04:59:59.000Z"},{id:0x1945a9ba1,startDate:"2024-10-01T04:00:00.000Z",endDate:"2024-11-04T04:59:59.000Z"},{id:0x194ea013c,startDate:"2024-10-07T04:00:00.000Z",endDate:"2024-11-08T04:59:59.000Z"},{id:0x1951e208a,startDate:"2024-10-07T04:00:00.000Z",endDate:"2024-11-08T04:59:59.000Z"},{id:0x1951e238a,startDate:"2024-10-07T04:00:00.000Z",endDate:"2024-11-08T04:59:59.000Z"},{id:0x1951e2438,startDate:"2024-10-07T04:00:00.000Z",endDate:"2024-11-08T04:59:59.000Z"},{id:0x1951e2345,startDate:"2024-10-15T04:00:00.000Z",endDate:"2024-10-16T03:59:59.000Z"},{id:0x1951e234e,startDate:"2024-10-15T04:00:00.000Z",endDate:"2024-10-16T03:59:59.000Z"}]},adSizeRefreshConfig:[{size:[1,6],refresh_timeout_ms:3e4},{size:[1,7],refresh_timeout_ms:3e4},{size:[1,8],refresh_timeout_ms:3e4}]},{AD_REFRESH:X}=d,{DEFAULT_CONFIG:Q,REFRESHED_TIMES_TARGET_KEY:ee}=X,et=()=>{let{enableAdRefresh:t,adRefreshVisibilityThreshold:a,adRefreshIntervalMs:r,maxAdRefreshTimes:i}=m(),n=a??Q.adRefreshVisibilityThreshold;return{adRefreshVisibilityThreshold:n,adRefreshIntervalMs:r??Q.adRefreshIntervalMs,REFRESHED_TIMES_TARGET_KEY:ee,maxAdRefreshTimes:i??Q.maxAdRefreshTimes,isAdRefreshEnabled:t??!1,adDelayMs:Q.adDelayMs,specialAdDelayMs:Q.specialAdDelayMs,checkSpecialAdDelayMs:Q.checkSpecialAdDelayMs}},ea=()=>W.exclusionIds,er=()=>W.adSizeRefreshConfig;class ei{constructor(t){this.subscribedCallbacks=new Map;let a=new IntersectionObserver(t=>{for(let a of t){let t=this.subscribedCallbacks.get(a.target);t&&t(a)}},t);this.observer=a}observe(t,a){this.subscribedCallbacks.set(t,a),this.observer.observe(t)}unobserve(t){this.observer.unobserve(t),this.subscribedCallbacks.delete(t)}}let en=new k("Ad Refreshing",{textColor:"white",backgroundColor:"#007acc"}),es=t=>{en.log(t)},eo=t=>{en.logVerbose(t)},ed=(t,a)=>{let r=[];if(t?.children?.length===0&&!t?.contentDocument)return r;let i=t.contentDocument??t,n=i?.querySelectorAll(a)??[];return n?.length>0&&n.forEach(t=>r.push(t)),t.children.forEach(t=>{ed(t,a).forEach(t=>r.push(t))}),r},el="timer_trigger",ec=t=>{let{__ace:a=()=>{}}=window;a("dataLayer","setData",[{globalTimerId:t}])},eu=()=>{let{__ace:t=()=>{}}=window,a=t("dataLayer","getData",["globalTimerId"]);return a?.globalTimerId??void 0},eg=t=>{let{__ace:a=()=>{}}=window;a("dataLayer","setData",[{timerInterval:t}])},ep=()=>{let{__ace:t=()=>{}}=window,a=t("dataLayer","getData",["timerInterval"]);return a?.timerInterval??500},ef=()=>{let t=eu();if(t)return t;let a=new Event(el),r=setInterval(()=>{window.dispatchEvent(a)},500);return eg(500),ec(r),r},em={},ew=(t,a)=>(em[t]&&(eo(`Subscription to global timer for ${t} already existed. Removing the previous subscription to be replaced with the new one.`),eh(t)),em[t]=a,window.addEventListener(el,em[t]),t),eh=t=>{em[t]&&(window.removeEventListener(el,em[t]),delete em[t])},e_=new k("LoadAd",{textColor:"white",backgroundColor:"red"}),ey=d.AD_BIDDING.TIMEOUT_MS,eb=(t,a)=>{let{refreshAdFn:r}=a;return e_.log(`AdRefresh timeout start for Ad ${t}`),setTimeout(()=>{e_.log(`Refreshing Ad ${t} by timeout`),r()},ey)},eT=(t,a)=>{let{adslots:r,clearTimeout:i}=window,{currentRefreshNumber:n,timerId:s,refreshAdFn:o}=a;if(eo(`Ad Refreshing Request manager callback triggered for Ad ${t}`),(n??0)+1===r[t].adRefresh?.refreshedTimes){es(`Ad ${t} already refreshed by Timeout, avoid requesting again`);return}i(s),es(`Ad Refresh for ${t} ready and refreshed by Request manager callback. Timeout cleared`),o()},eR={apstag:"APSTAG",prebid:"PREBID"},eA=(...t)=>{let{googletag:a}=window;if(t.length>0){let a=t[0];es(`Refresh triggered for Ad ${a?.getSlotElementId()}`)}else es("Refresh triggered with no arguments");t&&t.length?a.pubads().refresh(t):a.pubads().refresh()},eD=(t,a)=>{let{adslots:r={}}=window,i=t.getSlotElementId(),n=r[i]?.options;if(!n){es(`No options found for ${i} slot. Skipping bids and refreshing the Ad`),a();return}let{triggerPrebid:s,triggerAdBidding:o}=n,d=S(n.adSize),l=(o||s)&&d.length>0;if(!l){es(`Ad Bidding is not enabled for ${i} slot. Skipping bids and refreshing the Ad`),a();return}n.refreshAdFn=a;let c=[i,n];n.timerId=eb(...c),n.currentRefreshNumber=r[i]?.adRefresh?.refreshedTimes??0,new D({[eR.prebid]:l&&N,[eR.apstag]:l&&Z},eT).execute(i,n)},ex=()=>document.hasFocus(),eE=()=>{a=new ei({root:null,rootMargin:"0px",threshold:et().adRefreshVisibilityThreshold}),eZ()},ev=(t,a)=>{let{adslots:r={}}=window,i=r[t],{adDelayMs:n}=et(),s=a??n;i.adRefresh.delayCounterMs=s,es(`Set counter delay to ${s}ms for ${t} slot`)},ek=t=>{let a=document.querySelector(`#${t}`);return document.querySelector(`#wrapper-${t}`)||a},eI=t=>{let a=ek(t);if(!a)return null;try{let t=a.querySelector("iframe");if(t){let a=t?.contentDocument?.getElementById("google_image_div");if(a)return a;return t}}catch(t){console.error("Error getting the Ad image container:",t)}return es(`Ad inner container not found for ${t}, using the Ad Wrapper for pointer events.`),a},e$=t=>{let{adslots:a={}}=window;if(!a[t]?.adRefresh)return;es(`Subscribing Ad ${t} to mouse/pointer events | Remove previous subscriptions if exists`),a[t].adRefresh?.unsubscribeFromAdInteractions&&(a[t].adRefresh.unsubscribeFromAdInteractions(),a[t].adRefresh.unsubscribeFromAdInteractions=void 0);let r=eI(t);if(!r)return;let i=()=>{ev(t)};r.addEventListener("pointerover",i),a[t].adRefresh.unsubscribeFromAdInteractions=()=>r.removeEventListener("pointerover",i),eS(t)},eS=t=>{let{checkSpecialAdDelayMs:a}=et();setTimeout(()=>{let a=ed(ek(t),"input, select");a.length>0?(es(`Found special Ad: ${t}. Adding listener to input elements`),a.forEach(a=>{eC(t,a)})):es(`${t} NON special Ad`)},a)},eC=(t,a)=>{if(void 0===a||void 0===t)return;let{adslots:r={}}=window;if(!r[t]?.adRefresh)return;let{specialAdDelayMs:i}=et(),n=()=>{ev(t,i)};a.onkeydown=n,a.onchange=n,a.onclick=n},eZ=()=>{let{googletag:t}=window;t.cmd.push(()=>{t.pubads().addEventListener("slotRequested",t=>{let a=t.slot.getSlotElementId();es(`AdSlot ${a} requested`)}),t.pubads().addEventListener("slotOnload",t=>{let a=t.slot.getSlotElementId();es(`AdSlot ${a} loaded`),eL(a)}),t.pubads().addEventListener("slotRenderEnded",t=>{let{slot:a,size:r}=t,i=a.getSlotElementId(),{adslots:n={}}=window;r&&r.length&&n[i]&&(n[i].currentAdSize=r),eM(i)})})},eO=t=>{let{adslots:r={}}=window,i=ek(t);i&&a.observe(i,a=>{r[t].isSlotVisible=a?.isIntersecting??!1})},eN=t=>{let a=t?.slot,{adUnits:r,advertiserIds:i,campaignIds:n,lineItemIds:s}=ea(),o=a?.getResponseInformation()||{},d=a?.getAdUnitPath()||"",{advertiserId:l,campaignId:c,lineItemId:u}=o,g=r.find(t=>t.path===d),p=i.find(t=>t.id===l),f=n.find(t=>t.id===c),m=s.find(t=>t.id===u&&function({startDate:t,endDate:a}={}){let r=new Date;return!(t&&r<new Date(t)||a&&r>new Date(a))}(t));if(g||p||f||m){let a=g?`Ad Unit Path: ${g.path}`:p?`AdvertiserId: ${p.id}`:f?`CampaignId: ${f.id}`:`LineItemId: ${m.id}`;return es(`${t?.options?.adId||"slot"} excluded from refresh. ${a}`),!0}return!1},eM=t=>{let{adslots:a={}}=window,r=a[t];if(!r)return;let i=r.currentAdSize;if(!i)return;let n=er().find(t=>t.size[0]===i[0]&&t.size[1]===i[1]);n&&(es(`Custom refresh timeout set for ${t}: ${n.refresh_timeout_ms} ms`),r.adRefresh=r.adRefresh??{},r.adRefresh.customRefreshTimeout=n.refresh_timeout_ms)},eL=t=>{let{adslots:a={}}=window,r=a[t];if(eN(r))return;let i=et(),n=r.slot.getTargeting(i.REFRESHED_TIMES_TARGET_KEY)[0]?+r.slot.getTargeting(i.REFRESHED_TIMES_TARGET_KEY)[0]:0;(n>=i.maxAdRefreshTimes?(es(`Ad ${t} reached max refresh times (${i.maxAdRefreshTimes}) | Not subscribing it to Ad Refresh anymore`),1):r?.adRefresh?.subscribedToRefresh)||(es(`Subscribing ${t} to Ad Refresh`),r.adRefresh=r.adRefresh??{},r.adRefresh.refreshCounterMs=0,r.adRefresh.delayCounterMs=0,r.adRefresh.refreshedTimes=n,eO(t),e$(t),ew(t,()=>{eq(t)}),r.adRefresh.subscribedToRefresh=!0)},eP=t=>{let{adslots:r={}}=window,i=r[t];if(!i)return;es(`Unsubscribing ${t} from Ad Refresh`);let n=document.querySelector(`#${t}`),s=document.querySelector(`#wrapper-${t}`)||n;i.adRefresh&&(i.adRefresh.refreshCounterMs=0,i.adRefresh.subscribedToRefresh=!1,i.adRefresh.customRefreshTimeout=void 0),eh(t),s&&a.unobserve(s),r[t]?.adRefresh?.unsubscribeFromAdInteractions&&(r[t].adRefresh.unsubscribeFromAdInteractions(),r[t].adRefresh.unsubscribeFromAdInteractions=void 0)},eq=t=>{let{adslots:a={}}=window,r=a[t],i=et(),n=r.adRefresh?.customRefreshTimeout??i.adRefreshIntervalMs,s=()=>r.adRefresh.refreshCounterMs,o=()=>r.adRefresh.delayCounterMs,d=t=>{let a=r.adRefresh.delayCounterMs-t;r.adRefresh.delayCounterMs=a>=0?a:0},l=()=>r.adRefresh.refreshedTimes??0,c=t=>{r.adRefresh.refreshedTimes=t,r.slot.setTargeting(i.REFRESHED_TIMES_TARGET_KEY,t)};!(!r.isSlotVisible||l()>=i.maxAdRefreshTimes)&&ex()&&(s()>=n?(es(`Starting refresh process for Ad ${t}`),r.adRefresh.refreshCounterMs=0,eP(t),eD(r.slot,()=>{c(l()+1),eA(r.slot),es(`Ad ${t} refreshed | Updated values: Internal counter: ${s()}, Delay: ${o()}, Refreshed times: ${l()} `)})):((a=>{o()>0?(d(a),0===o()&&es(`Counter delay for ${t} slot finished`)):r.adRefresh.refreshCounterMs=r.adRefresh.refreshCounterMs+a})(ep()),eo(`Updating internal counter for Ad ${t} | Updated values: Internal counter: ${s()}, Delay: ${o()}, Refreshed times: ${l()} `)))},ej=t=>{let{googletag:a,adslots:r,__ace:i=()=>{}}=window,{options:o}=t;t.options=y(o);let d=L((...t)=>i("ace","setPerfMark",t)),{siteBreakpoint:l}=i("dataLayer","getData",["siteBreakpoint"])||{},c=T(),u=l||c;u||n({type:s.ERROR,message:"[buildAd] Breakpoint is not detected!"}),!o?.adSize?.length&&u&&o?.adSizeMap&&(o.adSize=o.adSizeMap[u]||o.adSize);let{abt:g,adSizeMap:p,collapseAdBeforeFetch:f,destroySlotIfExist:m,isObserve:w,observeFromUAC:_,triggerPrebid:b}=o,{adId:A,adSize:D,adActivate:x}=o,E=R(o);if(!A){n({type:s.WARNING,message:"An error occurred, an adId has not been provided."});return}if(D&&D.length||n({type:s.ERROR,message:`[buildAd] adSize is not defined for adId: ${A}`}),!D||!D.length||!x||!E){r[A]=g;return}let v=r[A]&&r[A].slot,k=r[A]&&r[A].isUnmounted;if(v&&m&&a.destroySlots([r[A].slot]),!v||m){let t=d("defineSlot",a.defineSlot,[E,D,A]).addService(d("pubads",a.pubads)).setCollapseEmptyDiv(f);if((r[A]?.adRefresh?.subscribedToRefresh||k)&&eP(A),r[A]={slot:t,isObserve:w,triggerPrebid:b,options:o,slotCreationData:new Date().getTime()},n({type:s.INFO,message:`${A}: BuildAd function: Ad slot creation`,isObserve:w,triggerPrebid:b}),p&&"function"==typeof t.defineSizeMapping){let a=h(p);t.defineSizeMapping(a.build())}d("enableServices",a.enableServices),a.display(A)}(()=>{let{adAlreadyRequested:a}=r[A];if(w){if(!_||a)return;K(A,t)}else H(A,o)})()},eF=t=>{let{__ace:a}=window,{adlocation:r}=_(t),{siteBreakpoint:i}=a("dataLayer","getData",["siteBreakpoint"])||{};r&&i?a("dataLayer","subscribeData",[{adConfigForUAC:t=>{let a=t[r];if(a){let t=a.formattedAdSizes[i]||[];googletag.cmd.push(()=>ej({options:{...a,adSize:t}}))}}}]):a("log","log",[{type:"error",initiator:"uac.js",message:"adId or adLocation properties are mandatory for async ad build",stacktrace:e.stack}])},eG=t=>{let{__ace:a}=window,{siteAdUnitPath:r}=a("dataLayer","getData",["siteAdUnitPath"]),i=t?.options?.adUnitPath;!i||r&&r.length&&r[0]===i||a("dataLayer","setData",[{siteAdUnitPath:[i]}])},eB=(t={})=>{eG(t);let{googletag:a,adslots:r}=window,{options:i}=t,n=i&&i.adId,{async:s=!1}=i;s?eF(i):a.cmd.push(()=>ej(t)),n&&!r[n]&&(window.adslots[n]={});let o=new Event("adslots-loaded");window.dispatchEvent(o)},eU=(t,a)=>{let{initialHeight:r,reserveInitialHeight:i,staticHeight:n={}}=t,{height:s}=n;return!!(a&&!s&&(r||i))},ez=t=>{let{isEmpty:a,slot:r}=t,{adslots:i={}}=window,n=r.getSlotElementId(),s=i[n]&&i[n].options||{},o=document.querySelector(`#${n}`),d=document.querySelector(`#wrapper-${n}`);o&&(d&&a&&(d.style.display="none"),eU(s,d)&&(d.style.height="100%",d.style.minHeight=""))},eY=()=>{let{googletag:t}=window;t.cmd.push(function(){t.pubads().addEventListener("slotRenderEnded",t=>{ez(t)})})},eV=t=>{let a=document.cookie.match("(^|;) ?"+t+"=([^;]*)(;|$)");return a?a[2]:null},eH=()=>{let t=eV("_ncg_g_id_");if(!t)return null;let a=t.split(".")[0];return/^([0-9a-zA-Z]{32,150})$|^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/.test(a)?a:""},eJ=[null,void 0,""],eK=t=>Object.keys(t).reduce((a,r)=>eJ.includes(t[r])?a:{...a,[r]:t[r]},{}),eW=(t,a)=>{Object.keys(t).forEach(r=>{a.cmd.push(function(){a.pubads().setTargeting(r,t[r])})})},eX=(t,a,r)=>{let{enablePermutive:i,permutiveSourcepointId:n}=m();if(!i||!n)return;let{localStorage:s}=window,o=s.getItem("permutiveHasConsent"),{data:d}=a.getData("pageTargeting",{source:"permutive"});"true"===o&&(t=>{r.cmd.push(()=>{if(!r.pubads().getTargeting("permutive").length){t(d,r);return}let{puid:a,ptime:i}=d;t({puid:a,ptime:i},r)})})((t,a)=>eW(t,a)),t("djcmp","customVendorIsEnabled",[n,t=>{s.setItem("permutiveHasConsent",t)}])},eQ=(()=>{let t={executed:!1,fulfilled:!1},a=[];return()=>{let{__ace:r,__dataProvider:i,googletag:n}=window;if(!t.fulfilled){a.length&&eW(eK(r("dataLayer","getData",[...a])),n);let{data:s,missing:o,fulfilled:d}=i.getData("pageTargeting",{source:"uac"});t.executed||(eW(s,n),eX(r,i,n),t.executed=!0),t.fulfilled=d,a=o}}})(),e0=t=>{if(!t||!t.length)return;let{googletag:a}=window;a.cmd.push(function(){a.pubads().setTargeting("ab_experiments",t)})},e2=()=>{let{uacQueue:t,__ace:a}=window;if(!a||!a.subscribe||"function"!=typeof a.subscribe||a().indexOf("pageuac")>-1)return;let r={},i=t&&t.length;a("ace","setPerfMark",["uac-loaded",{isNewRelicEnabled:!0}]),r.__buildAd=t=>{a("ace","addRenamingMessage",["__buildAd","renderAd",t?.options?.adId]),eB(t)},r.renderAd=eB,i&&(t.forEach(t=>eB(t)),t.splice(0,t.length)),r.setExperimentalTargeting=e0,r.setTargetABExperiments=e0,r.refreshAds=eA,r.requestAd=P,r.getAdBreakpoint=T,r.getExclusionIds=ea,a.subscribe("uac",r),window.__buildAd=t=>{a("ace","addDeprecationMessage",["__buildAd",t?.options?.adId,!1]),eB(t)}},{MAXIMUM_NUMBER_OF_VISITS:e1}=d,e4=t=>{let a=JSON.stringify(t||{numberOfTimesVisited:1,timestamp:new Date().getTime()});window.localStorage.setItem("pageview",a)},e5=()=>{try{let t=window.localStorage.getItem("pageview");if(!t){e4();return}let{numberOfTimesVisited:a,timestamp:r}=JSON.parse(t);if(e9(r)){e4();return}if(a===e1)return;e4({numberOfTimesVisited:a+1,timestamp:r})}catch(t){n({type:s.ERROR,message:t})}},e9=t=>{let a=new Date,r=new Date(t);return a.getDate()!==r.getDate()||a.getMonth()!==r.getMonth()||a.getFullYear()!==r.getFullYear()},e3=()=>{let t=Date.now().toString(36),a=Math.random().toString(36).substr(2,5);return`${t}-${a}`},e7=()=>{try{let{newrelic:t,localStorage:a}=window,r=e3();t.setCustomAttribute("pvid",r),a.setItem("pvid",r)}catch(t){n({type:s.ERROR,message:t})}},{CURRENT_CONTENT_TYPE_KEY:e6,REFERRER_CONTENT_TYPE_KEY:e8}=d,te=t=>{let{localStorage:a}=window,r=a.getItem(e6);a.setItem(e8,r),a.setItem(e6,t.page_content_type||t.page)},tt=()=>{let{__ace:t=()=>{}}=window;t("dataLayer","getData",te,["page_content_type","page"])},ta=(...t)=>{let{__ace:a,__dataLayer__:r,__dataLayerMemo__:i}=window,[n,s]=t;return 2===t.length&&"string"!=typeof s?r[n](...t):t.reduce((t,n)=>{if(n in i)return{...t,[n]:i[n]};if(!r[n])return a("log","log",[{type:"info",initiator:"data-layer",message:`Requested data ${n} does not exist.`}]),t;if("function"==typeof r[n]){let a=r[n](n);return a[n]&&(i[n]=a[n]),{...t,...a}}},{})},tr=t=>{let{__ace:a,__dataLayer__:r={},__dataLayerMemo__:i}=window,n=Array.isArray(t);return"object"!=typeof i||n?(a("log","log",[{type:"error",initiator:"data-layer",message:`Trying to set data in Data Layer with invalid type: "${n?"array":typeof t}".`}]),null):(Object.assign(i,t),Object.entries(t).forEach(t=>{let[a,i]=t,{__subscriptions:n={},__waitFor:s={}}=r;n[a]?.length>0&&n[a].forEach(t=>{t(i)}),s[a]?.length>0&&(s[a].forEach(t=>{t(i)}),delete r.__waitFor[a])}),i)},ti=()=>{window.__dataLayerMemo__={}};function tn(t){return void 0!==t&&("object"!=typeof t||Array.isArray(t)?"number"==typeof t||t.length>0:Object.keys(t).length>0)}let ts=t=>Object.entries(t).reduce((t,a)=>{let{__ace:r,__dataLayer__:i,__dataLayerMemo__:n}=window,[s,o]=a,d=n[s];return tn(d)&&o(d),i.__subscriptions[s]||(i.__subscriptions[s]=[]),i.__subscriptions[s]&&r("log","log",[{type:"info",initiator:"data-layer",message:`Adding subscription fn to: ${s}`}]),i.__subscriptions[s].push(o),{...t,subscriptions:i.__subscriptions}},{}),to=t=>Object.entries(t).reduce((t,a)=>{let{__ace:r,__dataLayer__:i,__dataLayerMemo__:n}=window,{__waitFor:s}=i,[o,d]=a,l=n[o];return tn(l)?d(l):(s[o]||(s[o]=[]),s[o]&&r("log","log",[{type:"info",initiator:"data-layer",message:`Adding wait for fn to: ${o}`}]),s[o].push(d)),{...t,waitFor:s}},{}),td=()=>{let t=[];return window.location.search.replace(/([^?=&]+)(=([^&]*))?/g,(a,r,i,n)=>t.push([r,n])),t},tl=(t,a)=>t?t.reduce((t,r)=>{let[i,n]=r;return i===a&&t.push(n),t},[]).toString():"",tc=t=>{if("facebook"!==t)return t;let{location:{search:a=""}=""}=window;return/[?&]utm_medium=news_tab(&|$)/.test(a)?"fbnews":t},tu=t=>{let a=document.cookie.match("(^|;) ?"+t+"=([^;]*)(;|$)");return a?a[2]:null},tg={"&":"and","&amp;":"and",'"':"","‘":"","’":"","=":"","!":"","+":"","#":"","*":"","~":"",";":"","^":"","(":"",")":"","<":"",">":"","[":"","]":"","'":""},tp={ARTICLE_CONTENT_TYPE:"article",CURRENT_CONTENT_TYPE_KEY:"currentPageContentType",HOME_CONTENT_TYPE:"home",REFERRER_CONTENT_TYPE_KEY:"referrerPageContentType",UNIT_SIZES:["at4units","at8units","at12units","at16units"]},{UNIT_SIZES:tf}=tp;function tm(t,a,r=null){let i=document.querySelector(`meta[${t}="${a}"]`);return i?i.content:r}let tw=t=>Number.isNaN(t)||t<0||t>1?null:Math.round(10*t)===10*t?t?10*t:1:Math.ceil(10*t),th=t=>{let a=(window.utag_data||{})[t]||null;return{[t]:a}},t_=t=>a=>{let r=t=>t&&"string"==typeof t?t?.split("")?.map(t=>tg.hasOwnProperty(t)?tg[t]:t).join(""):t,i=t(a);return Object.keys(i).reduce((t,a)=>{let n=i[a];return t[a]=r(n),t},{})},ty={keywords:t_(th),article_author:t_(th),article_embedded_count:th,article_format:th,article_headline:t_(th),article_headline_orig:t_(th),article_id:t_(th),article_image_count:th,article_internal_link_count:th,article_keywords:th,article_position:th,article_publish:th,article_publish_orig:th,article_template:t_(th),article_type:t_(th),article_video_count:th,article_word_count:th,user_company:th,user_exp:t_(th),user_ref:th,user_tags:th,user_type:t_(th),page_content_language:th,page_content_region:th,page_content_source:th,page_content_type:th,page_content_type_detail:th,listing_broker_detail:th,listing_impression_id:th,listing_page_id:th,newsletter_module:th,newsletter_name:th,partner_campaign_id:th,partner_campaign_name:th,quote_company_name:th,quote_exchange:th,quote_instrument_type:th,quote_ticker:th,search_keywords:th,social_share_type:th,conference_detail:th,edition_issue_date:th,follow_topic:th,page_access:t_(th),page_ad_zone:th,page_currency:th,page_document_title:th,page_id:th,page_partner_name:th,page_performance:th,page_position:th,page_section:t_(th),page_site:th,page_site_product:th,page_sponsored_name:th,page_subsection:t_(th),page_topic:t_(th),l1:()=>{let{utag_data:t={}}=window,{taxonomy_primary:a,taxonomy_applies:r}=t,i="";return r?{l1:(i=a.replace(/[|]/g,",").split(","))[0]}:{l1:i}},l2:()=>{let{utag_data:t={}}=window,{taxonomy_primary:a,taxonomy_applies:r}=t,i="";return r?(i=a.replace(/[|]/g,",").split(",")).length>1?{l2:i[1]}:{l2:""}:{l2:i}},is_column:()=>{let{utag_data:t={}}=window,{is_column:a,taxonomy_applies:r}=t;return a&&r?{is_column:a.toString()}:{is_column:""}},taxonomyarray:()=>{let{utag_data:t={}}=window,{taxonomy_array:a,taxonomy_applies:r}=t;if(!r)return{taxonomyarray:""};{let t=a?.map(t=>t.value).map(t=>t.replace(/[|]/g,",")).join().split(",").filter(t=>""!==t);return{taxonomyarray:t=[...new Set(t)].join(",")}}},pagetypedetail:()=>{let{page_content_type:t,page_content_type_detail:a,article_inset_type:r,article_template:i,article_format:n}=window.utag_data||{},s=t=>t?`_${t}`:"";if(!t)return{pagetypedetail:""};{let o=s(a),d=s(r),l=s(i),c=s(n);return{pagetypedetail:`${t}${o}${d}${l}${c}`}}}},tb=t=>{let a=(window.ace_data||{})[t]||null;return{[t]:a}},{ARTICLE_CONTENT_TYPE:tT,CURRENT_CONTENT_TYPE_KEY:tR,HOME_CONTENT_TYPE:tA,REFERRER_CONTENT_TYPE_KEY:tD}=tp,tx=(t,a)=>Object.keys(t).reduce((t,r)=>{let i=a(r);return!i||i in t.memo||(t.memo[i]=r,t.values.push(i)),t},{memo:{},values:[]}).values,tE=t=>{let{localStorage:a}=window;return a.getItem(t)},tv=t=>{let a=window.utag_data||{},r=`cxenseparse:wsj-${t.replace(/_/g,"-")}`;return{[t]:a[`meta.${r}`]||tm("property",r)}},tk=()=>{try{let t=window.utag_data||{},a=t.page_site_product||t["meta.page.site"]||t["meta.page.site.product"];return a?a.toLowerCase():void 0}catch(t){n({type:s.ERROR,message:t.message,stack:t.stack});return}},tI={nckeyUserGroup:()=>({nckeyUserGroup:Math.floor(10*Math.random()).toString()}),permutiveId:()=>({permutiveId:tE("permutive-id")}),permutiveTime:()=>({permutiveTime:Date.now().toString()}),pdfps:()=>{let t=tE("_pdfps");try{t=JSON.parse(t)}catch(a){t=[]}return{pdfps:t}},gdprApplies:(t,a)=>{let{djcmp:r,__ace:i}=window,{type:n,callback:s}=a;try{r(t,[n],s)}catch(t){i("log","log",[{type:"error",initiator:"ace.js",message:t.message,stacktrace:t.stack}])}},isGdpr:()=>({isGdpr:"true"===tu("gdprApplies")}),pageview:t_(()=>{try{let t=JSON.parse(tE("pageview"));return{pageview:`${t.numberOfTimesVisited}`}}catch(t){return n({type:s.ERROR,message:t.message,stack:t.stack}),{}}}),pvid:()=>{try{return{pvid:tE("pvid")}}catch(t){return n({type:s.ERROR,message:t.message,stack:t.stack}),{pvid:""}}},pageid:t_(()=>{let{page_id:t}=window.utag_data||{};return{pageid:t||tm("name","page.id")}}),pagesection:()=>{let{page_section:t}=window.utag_data||{};return{pagesection:t||tm("name","page.section")}},pagesubsection:()=>{let{page_subsection:t}=window.utag_data||{};return{pagesubsection:t||tm("name","page.subsection")}},servoStack:()=>({servoStack:(window.utag_data||{})["meta.servo-context"]||tm("name","servo-context","")}),pagetype:()=>{let{page_content_type:t,page_content_type_detail:a,page_site_product:r}=window.utag_data||{},i=t||tm("name","page.content.type");return{pagetype:"MW"===r?"Article"===i?`${r}_${i}`:i:a?`${i}_${a}`:i}},usertype:t_(()=>{let{user_type:t}=window.utag_data||{};return{usertype:t||tm("name","user.type")}}),adActivate:t=>{let{adActivate:a,adStartDate:r,adEndDate:i}=t,n={};if(a){if(r&&i){let t=Date.now(),a=new Date(r),s=new Date(i);n.adActivate=t>a&&t<s}}else n.adActivate=!1;return n},mod:t_(()=>{let t=td(),a=null;return t&&t.length&&(a=tl(t,"mod")||""),{mod:a}}),msrc:()=>{let t=td(),a=null;return t&&t.length&&(a=tl(t,"mod")||""),{msrc:a}},referrer:()=>{let t={google:/^https?:\/\/[^\/]*(google(?:\.\w{2,3})(?:\.\w{2})?|g\.cn)($|\/)/i,bing:/^https?:\/\/[^\/]*bing\.com($|\/)/i,facebook:/^https?:\/\/[^\/]*facebook\.com($|\/)/i,linkedin:/^https?:\/\/[^\/]*(linkedin\.com|linkedin\.cn|lnkd\.in)($|\/)/i,twitter:/^https?:\/\/[^\/]*(twitter\.com|t\.co)($|\/)/i},{referrer:a}=document;return Object.keys(t).forEach(r=>{if(t[r].test(a))return{referrer:tc(r)}}),{referrer:null}},bkuuid:()=>{let t=tu("bkuuid");return{bkuuid:t?t.toLowerCase():null}},formattedAdSizes:t=>{let{sizes:a}=t;if(!a||"object"!=typeof a)return;let r={};return tf.forEach(t=>{let i=a[t],n=[];Array.isArray(i)&&i.length&&i.forEach(t=>{"object"==typeof t?n.push([t.width,t.height]):"string"==typeof t&&n.push(t)}),r[t]=JSON.stringify(n)}),r},isCircAd:t=>{let{adLoc:a}=t;return{isCircAd:["C","J","CT","CP"].includes(a)}},utag_data:()=>window.utag_data||{},vxid:t_(()=>({vxid:(window.utag_data||{}).user_ref||tu("TR")})),targeting_keywords:t_(()=>{let t=window.utag_data||{},a=t.page_site_product,r=t?.page_content_source==="Mansion Global"||(t?.servo_stack_name??"").indexOf("wsjrealestate")>0,i=t["meta.keywords"]||tm("name","keywords",""),n=t["meta.cxenseparse:wsj-listing-city"]||tm("property","cxenseparse:wsj-listing-city",""),s=t["meta.cxenseparse:wsj-listing-city-state"]||tm("property","cxenseparse:wsj-listing-city-state",""),o=t["meta.cxenseparse:wsj-listing-state"]||tm("property","cxenseparse:wsj-listing-state",""),d=t["meta.cxenseparse:wsj-listing-country"]||tm("property","cxenseparse:wsj-listing-country",""),l=t["meta.cxenseparse:wsj-listing-marketing-group"]||tm("property","cxenseparse:wsj-listing-marketing-group","");return{targeting_keywords:"MG"===a||r?i+`${i.length?",":""}city-${n},city-state-${s},state-${o},country-${d},marketing-group-${l}`:i}}),propensity:()=>{let t;try{let a=JSON.parse(tm("name","cx_shield"));"object"==typeof a&&(t=a.propensity)}catch(t){return{}}if(t){let a=t.propensityScore;return{pbucket:tw(a),pscore:a}}return{}},network_id:()=>({network_id:eH()}),news_id:t_(()=>({news_id:tu("_ncg_id_")})),cxpw:t_(()=>{let t=window.utag_data||{};if(t.cx_shield){let{campaign:a,placement:r,tag:i,type:n}=t.cx_shield;return{cxpw:[a,r,i,n&&n.charAt(0)||""].filter(t=>t).toString()}}return{}}),cxsg:t_(()=>{let t=tu("hok_seg"),a=null;return t&&(a=t.split(",")),{cxsg:a}}),referrerPath:t_(()=>{let{localStorage:t,location:a}=window,r=document.createElement("a");r.href=document.referrer;let{hostname:i,pathname:n}=r;if(i!==a.host||!document.referrer)return{};let s=t.getItem(tR)?.toLowerCase(),o=[tA,tT].indexOf(t.getItem(tD)?.toLowerCase())>=0;if(s?.toLowerCase()!==tT||o)return{};let d=n;return"/"===d[0]&&(d=d.substring(1)),{refsec:d.replace(/\//g,",").split(",")}}),environment:t_(()=>{let t=td(),a=null;return t&&t.length&&(a=tl(t,"ace_environment")),{environment:a?decodeURIComponent(a):a}}),psg:t_(()=>({psg:window.pxSegmentIDs?window.pxSegmentIDs.split(","):null})),siteAdUnitPath:()=>{let{adslots:t}=window;if(!t)return{};let a=tx(t,a=>t[a]?.options?.adUnitPath);return a.length>0?{siteAdUnitPath:a}:{}},siteAlert:t_(()=>{let{adslots:t}=window;if(!t)return{};let a=Object.keys(t).reduce((a,r)=>t[r]?.adTargeting?.alert?[...a,...t[r]?.adTargeting?.alert]:[...a],[]);return{siteAlert:tx(a,t=>a[t])}}),siteBreakpoint:t_(()=>{let{adslots:t,__ace:a=()=>{}}=window;if(!t)return{};let r=a("uac","getAdBreakpoint");return r?{siteBreakpoint:[r]}:{siteBreakpoint:tx(t,a=>t[a]?.adTargeting?.breakpoint)}}),siteAdLocation:()=>{let{adslots:t}=window;return t?{siteAdLocation:tx(t,a=>t[a]?.adTargeting?.adlocation)}:[]},sym:()=>{let{googletag:t}=window,a=null;return t.apiReady&&(a=t.pubads().getTargeting("sym"),a=a?.length?a.join():null),{sym:a}},taxonomyInformation:()=>{let{page_content_type:t,taxonomy_applies:a,taxonomy_primary:r}=window.utag_data||{};return{taxonomyInformation:{hasTaxonomyInformation:a,taxonomyStructure:r,pageType:t}}},execedition:t_(()=>({execedition:(window.utag_data||{})["meta.execedition"]||tm("name","execedition","")})),pwid:()=>{let t;let a=window.utag_data||{};try{t=JSON.parse(a.cx_shield)}catch(r){window.__ace("log","log",[{type:"error",initiator:"data-layer",message:r.message}]),t=a.cx_shield}return{pwid:t?.campaign?`${t.campaign}`:""}},configsource:()=>{try{let{__ace:t=()=>{}}=window,{adConfigSource:a}=t("dataLayer","getData",["adConfigSource"]);return{configsource:a?.toLowerCase()}}catch(t){return n({type:s.ERROR,message:t.message,stack:t.stack}),null}},attribution:()=>{try{return{attribution:tk()}}catch(t){return n({type:s.ERROR,message:t.message,stack:t.stack}),null}},listing_city:tv,listing_city_state:tv,listing_state:tv,listing_marketing_group:tv,...ty,metazone:tb,topic:tb,stack:tb,targeting:tb,alert:tb,page:tb,circ:tb},t$=()=>{window.__dataLayer__=window.__dataLayer__||{},window.__dataLayerMemo__=window.__dataLayerMemo__||{},window.__dataLayer__?.__subscriptions||(window.__dataLayer__.__subscriptions={}),window.__dataLayer__?.__waitFor||(window.__dataLayer__.__waitFor={}),Object.assign(window.__dataLayer__,tI)},tS=(t,a,r)=>{let i=Object.keys(a),n=t.getData(...i)||{},s={...n=Object.keys(n).reduce((t,r)=>(t[a[r]]=n[r],t),{}),...r};return{...s=Object.keys({...n,...r}).reduce((t,a)=>(s[a]?t.data[a]=s[a]:t.missing.push(a),t),{data:{},missing:[]}),fulfilled:!s.missing.length}},tC={uac:{page:{alert:"alert",page:"page",circ:"circ",msrc:"msrc",S:"stack",cxsg:"cxsg",vxid:"vxid",psg:"psg",news_id:"news_id",refsec:"refsec",user_type:"usertype",user_exp:"userexp",article_id:"articleid",article_author:"articleauthor",article_template:"articletemplate",article_headline:"articleheadline",pageid:"pageid",page_access:"pageaccess",page_section:"pagesection",page_subsection:"pagesubsection",pagetype:"pagetype",article_type:"articletype",targeting_keywords:"keywords",siteBreakpoint:"breakpoint",nckeyUserGroup:"nckey_userGroup",mod:"mod",cxpw:"cxpw",referrer:"referrer",referrerPath:"referrerPath",environment:"environment",stack:"stack",metazone:"metazone",topic:"topic",application_stack:"s",execedition:"execedition",pageview:"pageview",pvid:"pvid",l1:"l1",l2:"l2",is_column:"iscolumn",taxonomyarray:"taxonomyarray",pwid:"pw_id",pagetypedetail:"pagetypedetail",configsource:"configsource",attribution:"attribution"},slot:{}},permutive:{page:{pdfps:"permutive",permutiveId:"puid",permutiveTime:"ptime",listing_city_state:"cxsg_city_state"}}},tZ=(t="page")=>a=>({source:r="",metadata:i={}})=>tC[r]&&tC[r][t]?tS(a,tC[r][t],i):(n({type:"error",initiator:"ace.js",message:`AdComponent "${r}" with scope "${t}" is not registered for targeting.`,stacktrace:null}),null),tO={pageTargeting:tZ("page"),slotTargeting:tZ("slot")},tN={uac:{taxonomyInformation:"taxonomyInformation"}},tM={...tO,taxonomyInformation:t=>({source:a="",metadata:r={}})=>tN[a]?tS(t,tN[a],r):(n({type:"error",initiator:"ace.js",stacktrace:null,message:`AdComponent "${a}" is not registered for taxonomy.`}),null)},{__ace:tL=()=>{}}=window,tP=L((...t)=>tL("ace","setPerfMark",t)),{justDataLayer:tq=!1}=m(),tj=tP("dataLayer",()=>(t$(),{getData:ta,setData:tr,clearData:ti,subscribeData:ts,waitForData:to}),[],!1);window.__dataLayer=tj,window.__dataProvider={getData:(t,...a)=>tM[t]?tM[t](tj)(...a):{}},(t=>{let{__ace:a,__dataProvider:r}=window;if(!a||!a.subscribe||"function"!=typeof a.subscribe)return;r&&a.subscribe("dataProvider",r);let i={},n=a("dataLayer");Object.keys(t).forEach(a=>{n.includes(a)||(i[a]=t[a])}),Object.keys(i).length&&a.subscribe("dataLayer",i),t&&a.subscribe("data",t)})(tj);try{tq||(()=>{let{__ace:t=()=>{}}=r.g.window;e7(),e5(),tt();let a=L((...a)=>t("ace","setPerfMark",a));window.googletag||(window.googletag={cmd:[]}),window.googletag.cmd.push(()=>{a("firstGptPush",window.googletag.pubads().disableInitialLoad,[],!1)}),window.alreadyRequestedAds=[],window.iasAdsReady=[];let{isAdRefreshEnabled:i}=et();i&&(ef(),eE()),window.__uac||(window.__uac={},eY()),window.__uac.uacObservers||(window.__uac.uacObservers={}),window.adslots||(window.adslots={});let o=T();o?t("dataLayer","setData",[{siteBreakpoint:o}]):n({type:s.ERROR,message:"[initializeUac] Breakpoint is not calculated properly!"}),function(){let{enablePublisherProvidedId:t}=m();if(!t)return;let{googletag:a}=window,{utag_data:r={}}=window,{user_ref:i}=r,n=i||eV("TR");if(n){let t=n.replace("-","");a.cmd.push(()=>{a.pubads().setPublisherProvidedId(t)})}else{let t=eH();t&&a.cmd.push(()=>{a.pubads().setPublisherProvidedId(t)})}}(),window.__dataProvider&&window.addEventListener("setPageLevelTargeting",eQ),window.__buildAd=eB,window.__setExperimentalTargeting=e0,window.__setTargetABExperiments=e0,window.__uac={...window.__uac,buildAd:eB,loadAd:H,observe:K,setExperimentalTargeting:e0},e2()})()}catch(t){tL("log","log",[{type:"error",initiator:"uac.js",message:`Issue with UAC initialization: ${t.message}`,stacktrace:t.stack}])}})();